function fC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Cn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function mC(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var mx={exports:{}},vd={},gx={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fu=Symbol.for("react.element"),gC=Symbol.for("react.portal"),yC=Symbol.for("react.fragment"),vC=Symbol.for("react.strict_mode"),_C=Symbol.for("react.profiler"),wC=Symbol.for("react.provider"),EC=Symbol.for("react.context"),TC=Symbol.for("react.forward_ref"),xC=Symbol.for("react.suspense"),SC=Symbol.for("react.memo"),bC=Symbol.for("react.lazy"),v_=Symbol.iterator;function IC(t){return t===null||typeof t!="object"?null:(t=v_&&t[v_]||t["@@iterator"],typeof t=="function"?t:null)}var yx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vx=Object.assign,_x={};function ha(t,e,n){this.props=t,this.context=e,this.refs=_x,this.updater=n||yx}ha.prototype.isReactComponent={};ha.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ha.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wx(){}wx.prototype=ha.prototype;function qg(t,e,n){this.props=t,this.context=e,this.refs=_x,this.updater=n||yx}var Hg=qg.prototype=new wx;Hg.constructor=qg;vx(Hg,ha.prototype);Hg.isPureReactComponent=!0;var __=Array.isArray,Ex=Object.prototype.hasOwnProperty,Kg={current:null},Tx={key:!0,ref:!0,__self:!0,__source:!0};function xx(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Ex.call(e,r)&&!Tx.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:fu,type:t,key:i,ref:o,props:s,_owner:Kg.current}}function PC(t,e){return{$$typeof:fu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gg(t){return typeof t=="object"&&t!==null&&t.$$typeof===fu}function AC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var w_=/\/+/g;function jf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?AC(""+t.key):e.toString(36)}function Mc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case fu:case gC:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+jf(o,0):r,__(s)?(n="",t!=null&&(n=t.replace(w_,"$&/")+"/"),Mc(s,e,n,"",function(c){return c})):s!=null&&(Gg(s)&&(s=PC(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(w_,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",__(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+jf(i,a);o+=Mc(i,e,n,l,s)}else if(l=IC(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+jf(i,a++),o+=Mc(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function sc(t,e,n){if(t==null)return t;var r=[],s=0;return Mc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function kC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gt={current:null},jc={transition:null},CC={ReactCurrentDispatcher:Gt,ReactCurrentBatchConfig:jc,ReactCurrentOwner:Kg};function Sx(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:sc,forEach:function(t,e,n){sc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return sc(t,function(){e++}),e},toArray:function(t){return sc(t,function(e){return e})||[]},only:function(t){if(!Gg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=ha;fe.Fragment=yC;fe.Profiler=_C;fe.PureComponent=qg;fe.StrictMode=vC;fe.Suspense=xC;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CC;fe.act=Sx;fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=vx({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Kg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Ex.call(e,l)&&!Tx.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:fu,type:t.type,key:s,ref:i,props:r,_owner:o}};fe.createContext=function(t){return t={$$typeof:EC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wC,_context:t},t.Consumer=t};fe.createElement=xx;fe.createFactory=function(t){var e=xx.bind(null,t);return e.type=t,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:TC,render:t}};fe.isValidElement=Gg;fe.lazy=function(t){return{$$typeof:bC,_payload:{_status:-1,_result:t},_init:kC}};fe.memo=function(t,e){return{$$typeof:SC,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=jc.transition;jc.transition={};try{t()}finally{jc.transition=e}};fe.unstable_act=Sx;fe.useCallback=function(t,e){return Gt.current.useCallback(t,e)};fe.useContext=function(t){return Gt.current.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t){return Gt.current.useDeferredValue(t)};fe.useEffect=function(t,e){return Gt.current.useEffect(t,e)};fe.useId=function(){return Gt.current.useId()};fe.useImperativeHandle=function(t,e,n){return Gt.current.useImperativeHandle(t,e,n)};fe.useInsertionEffect=function(t,e){return Gt.current.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return Gt.current.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return Gt.current.useMemo(t,e)};fe.useReducer=function(t,e,n){return Gt.current.useReducer(t,e,n)};fe.useRef=function(t){return Gt.current.useRef(t)};fe.useState=function(t){return Gt.current.useState(t)};fe.useSyncExternalStore=function(t,e,n){return Gt.current.useSyncExternalStore(t,e,n)};fe.useTransition=function(){return Gt.current.useTransition()};fe.version="18.3.1";gx.exports=fe;var O=gx.exports;const Ze=pC(O),RC=fC({__proto__:null,default:Ze},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NC=O,DC=Symbol.for("react.element"),OC=Symbol.for("react.fragment"),VC=Object.prototype.hasOwnProperty,LC=NC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MC={key:!0,ref:!0,__self:!0,__source:!0};function bx(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)VC.call(e,r)&&!MC.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:DC,type:t,key:i,ref:o,props:s,_owner:LC.current}}vd.Fragment=OC;vd.jsx=bx;vd.jsxs=bx;mx.exports=vd;var g=mx.exports,Ix={exports:{}},yn={},Px={exports:{}},Ax={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,Z){var ne=q.length;q.push(Z);e:for(;0<ne;){var Ce=ne-1>>>1,Se=q[Ce];if(0<s(Se,Z))q[Ce]=Z,q[ne]=Se,ne=Ce;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var Z=q[0],ne=q.pop();if(ne!==Z){q[0]=ne;e:for(var Ce=0,Se=q.length,Be=Se>>>1;Ce<Be;){var _n=2*(Ce+1)-1,Dn=q[_n],ln=_n+1,wn=q[ln];if(0>s(Dn,ne))ln<Se&&0>s(wn,Dn)?(q[Ce]=wn,q[ln]=ne,Ce=ln):(q[Ce]=Dn,q[_n]=ne,Ce=_n);else if(ln<Se&&0>s(wn,ne))q[Ce]=wn,q[ln]=ne,Ce=ln;else break e}}return Z}function s(q,Z){var ne=q.sortIndex-Z.sortIndex;return ne!==0?ne:q.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,f=3,v=!1,w=!1,T=!1,b=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(q){for(var Z=n(c);Z!==null;){if(Z.callback===null)r(c);else if(Z.startTime<=q)r(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=n(c)}}function k(q){if(T=!1,_(q),!w)if(n(l)!==null)w=!0,pt(V);else{var Z=n(c);Z!==null&&ce(k,Z.startTime-q)}}function V(q,Z){w=!1,T&&(T=!1,E(x),x=-1),v=!0;var ne=f;try{for(_(Z),d=n(l);d!==null&&(!(d.expirationTime>Z)||q&&!D());){var Ce=d.callback;if(typeof Ce=="function"){d.callback=null,f=d.priorityLevel;var Se=Ce(d.expirationTime<=Z);Z=t.unstable_now(),typeof Se=="function"?d.callback=Se:d===n(l)&&r(l),_(Z)}else r(l);d=n(l)}if(d!==null)var Be=!0;else{var _n=n(c);_n!==null&&ce(k,_n.startTime-Z),Be=!1}return Be}finally{d=null,f=ne,v=!1}}var j=!1,I=null,x=-1,P=5,C=-1;function D(){return!(t.unstable_now()-C<P)}function N(){if(I!==null){var q=t.unstable_now();C=q;var Z=!0;try{Z=I(!0,q)}finally{Z?A():(j=!1,I=null)}}else j=!1}var A;if(typeof y=="function")A=function(){y(N)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,Ve=ye.port2;ye.port1.onmessage=N,A=function(){Ve.postMessage(null)}}else A=function(){b(N,0)};function pt(q){I=q,j||(j=!0,A())}function ce(q,Z){x=b(function(){q(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,pt(V))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(q){switch(f){case 1:case 2:case 3:var Z=3;break;default:Z=f}var ne=f;f=Z;try{return q()}finally{f=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,Z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ne=f;f=q;try{return Z()}finally{f=ne}},t.unstable_scheduleCallback=function(q,Z,ne){var Ce=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Ce+ne:Ce):ne=Ce,q){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=ne+Se,q={id:h++,callback:Z,priorityLevel:q,startTime:ne,expirationTime:Se,sortIndex:-1},ne>Ce?(q.sortIndex=ne,e(c,q),n(l)===null&&q===n(c)&&(T?(E(x),x=-1):T=!0,ce(k,ne-Ce))):(q.sortIndex=Se,e(l,q),w||v||(w=!0,pt(V))),q},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(q){var Z=f;return function(){var ne=f;f=Z;try{return q.apply(this,arguments)}finally{f=ne}}}})(Ax);Px.exports=Ax;var jC=Px.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FC=O,mn=jC;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kx=new Set,Dl={};function Mi(t,e){qo(t,e),qo(t+"Capture",e)}function qo(t,e){for(Dl[t]=e,t=0;t<e.length;t++)kx.add(e[t])}var Or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xp=Object.prototype.hasOwnProperty,UC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E_={},T_={};function BC(t){return Xp.call(T_,t)?!0:Xp.call(E_,t)?!1:UC.test(t)?T_[t]=!0:(E_[t]=!0,!1)}function $C(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zC(t,e,n,r){if(e===null||typeof e>"u"||$C(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){It[t]=new Qt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];It[e]=new Qt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){It[t]=new Qt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){It[t]=new Qt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){It[t]=new Qt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){It[t]=new Qt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){It[t]=new Qt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){It[t]=new Qt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){It[t]=new Qt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qg=/[\-:]([a-z])/g;function Yg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qg,Yg);It[e]=new Qt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qg,Yg);It[e]=new Qt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qg,Yg);It[e]=new Qt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){It[t]=new Qt(t,1,!1,t.toLowerCase(),null,!1,!1)});It.xlinkHref=new Qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){It[t]=new Qt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xg(t,e,n,r){var s=It.hasOwnProperty(e)?It[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zC(e,n,s,r)&&(n=null),r||s===null?BC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var zr=FC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ic=Symbol.for("react.element"),mo=Symbol.for("react.portal"),go=Symbol.for("react.fragment"),Jg=Symbol.for("react.strict_mode"),Jp=Symbol.for("react.profiler"),Cx=Symbol.for("react.provider"),Rx=Symbol.for("react.context"),Zg=Symbol.for("react.forward_ref"),Zp=Symbol.for("react.suspense"),em=Symbol.for("react.suspense_list"),ey=Symbol.for("react.memo"),Zr=Symbol.for("react.lazy"),Nx=Symbol.for("react.offscreen"),x_=Symbol.iterator;function Ua(t){return t===null||typeof t!="object"?null:(t=x_&&t[x_]||t["@@iterator"],typeof t=="function"?t:null)}var qe=Object.assign,Ff;function tl(t){if(Ff===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ff=e&&e[1]||""}return`
`+Ff+t}var Uf=!1;function Bf(t,e){if(!t||Uf)return"";Uf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Uf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?tl(t):""}function WC(t){switch(t.tag){case 5:return tl(t.type);case 16:return tl("Lazy");case 13:return tl("Suspense");case 19:return tl("SuspenseList");case 0:case 2:case 15:return t=Bf(t.type,!1),t;case 11:return t=Bf(t.type.render,!1),t;case 1:return t=Bf(t.type,!0),t;default:return""}}function tm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case go:return"Fragment";case mo:return"Portal";case Jp:return"Profiler";case Jg:return"StrictMode";case Zp:return"Suspense";case em:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Rx:return(t.displayName||"Context")+".Consumer";case Cx:return(t._context.displayName||"Context")+".Provider";case Zg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ey:return e=t.displayName||null,e!==null?e:tm(t.type)||"Memo";case Zr:e=t._payload,t=t._init;try{return tm(t(e))}catch{}}return null}function qC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tm(e);case 8:return e===Jg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ks(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Dx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function HC(t){var e=Dx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function oc(t){t._valueTracker||(t._valueTracker=HC(t))}function Ox(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Dx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ch(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function nm(t,e){var n=e.checked;return qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function S_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ks(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Vx(t,e){e=e.checked,e!=null&&Xg(t,"checked",e,!1)}function rm(t,e){Vx(t,e);var n=ks(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sm(t,e.type,n):e.hasOwnProperty("defaultValue")&&sm(t,e.type,ks(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function b_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function sm(t,e,n){(e!=="number"||ch(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var nl=Array.isArray;function Do(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ks(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function im(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function I_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(nl(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ks(n)}}function Lx(t,e){var n=ks(e.value),r=ks(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function P_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Mx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function om(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Mx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ac,jx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ac=ac||document.createElement("div"),ac.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ac.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ol(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var hl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KC=["Webkit","ms","Moz","O"];Object.keys(hl).forEach(function(t){KC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hl[e]=hl[t]})});function Fx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||hl.hasOwnProperty(t)&&hl[t]?(""+e).trim():e+"px"}function Ux(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Fx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var GC=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function am(t,e){if(e){if(GC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function lm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var um=null;function ty(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cm=null,Oo=null,Vo=null;function A_(t){if(t=gu(t)){if(typeof cm!="function")throw Error(z(280));var e=t.stateNode;e&&(e=xd(e),cm(t.stateNode,t.type,e))}}function Bx(t){Oo?Vo?Vo.push(t):Vo=[t]:Oo=t}function $x(){if(Oo){var t=Oo,e=Vo;if(Vo=Oo=null,A_(t),e)for(t=0;t<e.length;t++)A_(e[t])}}function zx(t,e){return t(e)}function Wx(){}var $f=!1;function qx(t,e,n){if($f)return t(e,n);$f=!0;try{return zx(t,e,n)}finally{$f=!1,(Oo!==null||Vo!==null)&&(Wx(),$x())}}function Vl(t,e){var n=t.stateNode;if(n===null)return null;var r=xd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var hm=!1;if(Or)try{var Ba={};Object.defineProperty(Ba,"passive",{get:function(){hm=!0}}),window.addEventListener("test",Ba,Ba),window.removeEventListener("test",Ba,Ba)}catch{hm=!1}function QC(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var dl=!1,hh=null,dh=!1,dm=null,YC={onError:function(t){dl=!0,hh=t}};function XC(t,e,n,r,s,i,o,a,l){dl=!1,hh=null,QC.apply(YC,arguments)}function JC(t,e,n,r,s,i,o,a,l){if(XC.apply(this,arguments),dl){if(dl){var c=hh;dl=!1,hh=null}else throw Error(z(198));dh||(dh=!0,dm=c)}}function ji(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Hx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function k_(t){if(ji(t)!==t)throw Error(z(188))}function ZC(t){var e=t.alternate;if(!e){if(e=ji(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return k_(s),t;if(i===r)return k_(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function Kx(t){return t=ZC(t),t!==null?Gx(t):null}function Gx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Gx(t);if(e!==null)return e;t=t.sibling}return null}var Qx=mn.unstable_scheduleCallback,C_=mn.unstable_cancelCallback,eR=mn.unstable_shouldYield,tR=mn.unstable_requestPaint,nt=mn.unstable_now,nR=mn.unstable_getCurrentPriorityLevel,ny=mn.unstable_ImmediatePriority,Yx=mn.unstable_UserBlockingPriority,fh=mn.unstable_NormalPriority,rR=mn.unstable_LowPriority,Xx=mn.unstable_IdlePriority,_d=null,nr=null;function sR(t){if(nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(_d,t,void 0,(t.current.flags&128)===128)}catch{}}var Wn=Math.clz32?Math.clz32:aR,iR=Math.log,oR=Math.LN2;function aR(t){return t>>>=0,t===0?32:31-(iR(t)/oR|0)|0}var lc=64,uc=4194304;function rl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ph(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=rl(a):(i&=o,i!==0&&(r=rl(i)))}else o=n&~s,o!==0?r=rl(o):i!==0&&(r=rl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Wn(e),s=1<<n,r|=t[n],e&=~s;return r}function lR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Wn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=lR(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function fm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Jx(){var t=lc;return lc<<=1,!(lc&4194240)&&(lc=64),t}function zf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wn(e),t[e]=n}function cR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Wn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ry(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Wn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Pe=0;function Zx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var eS,sy,tS,nS,rS,pm=!1,cc=[],ms=null,gs=null,ys=null,Ll=new Map,Ml=new Map,ns=[],hR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function R_(t,e){switch(t){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":Ll.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(e.pointerId)}}function $a(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=gu(e),e!==null&&sy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function dR(t,e,n,r,s){switch(e){case"focusin":return ms=$a(ms,t,e,n,r,s),!0;case"dragenter":return gs=$a(gs,t,e,n,r,s),!0;case"mouseover":return ys=$a(ys,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ll.set(i,$a(Ll.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ml.set(i,$a(Ml.get(i)||null,t,e,n,r,s)),!0}return!1}function sS(t){var e=mi(t.target);if(e!==null){var n=ji(e);if(n!==null){if(e=n.tag,e===13){if(e=Hx(n),e!==null){t.blockedOn=e,rS(t.priority,function(){tS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);um=r,n.target.dispatchEvent(r),um=null}else return e=gu(n),e!==null&&sy(e),t.blockedOn=n,!1;e.shift()}return!0}function N_(t,e,n){Fc(t)&&n.delete(e)}function fR(){pm=!1,ms!==null&&Fc(ms)&&(ms=null),gs!==null&&Fc(gs)&&(gs=null),ys!==null&&Fc(ys)&&(ys=null),Ll.forEach(N_),Ml.forEach(N_)}function za(t,e){t.blockedOn===e&&(t.blockedOn=null,pm||(pm=!0,mn.unstable_scheduleCallback(mn.unstable_NormalPriority,fR)))}function jl(t){function e(s){return za(s,t)}if(0<cc.length){za(cc[0],t);for(var n=1;n<cc.length;n++){var r=cc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ms!==null&&za(ms,t),gs!==null&&za(gs,t),ys!==null&&za(ys,t),Ll.forEach(e),Ml.forEach(e),n=0;n<ns.length;n++)r=ns[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ns.length&&(n=ns[0],n.blockedOn===null);)sS(n),n.blockedOn===null&&ns.shift()}var Lo=zr.ReactCurrentBatchConfig,mh=!0;function pR(t,e,n,r){var s=Pe,i=Lo.transition;Lo.transition=null;try{Pe=1,iy(t,e,n,r)}finally{Pe=s,Lo.transition=i}}function mR(t,e,n,r){var s=Pe,i=Lo.transition;Lo.transition=null;try{Pe=4,iy(t,e,n,r)}finally{Pe=s,Lo.transition=i}}function iy(t,e,n,r){if(mh){var s=mm(t,e,n,r);if(s===null)Zf(t,e,r,gh,n),R_(t,r);else if(dR(s,t,e,n,r))r.stopPropagation();else if(R_(t,r),e&4&&-1<hR.indexOf(t)){for(;s!==null;){var i=gu(s);if(i!==null&&eS(i),i=mm(t,e,n,r),i===null&&Zf(t,e,r,gh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Zf(t,e,r,null,n)}}var gh=null;function mm(t,e,n,r){if(gh=null,t=ty(r),t=mi(t),t!==null)if(e=ji(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Hx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gh=t,null}function iS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nR()){case ny:return 1;case Yx:return 4;case fh:case rR:return 16;case Xx:return 536870912;default:return 16}default:return 16}}var hs=null,oy=null,Uc=null;function oS(){if(Uc)return Uc;var t,e=oy,n=e.length,r,s="value"in hs?hs.value:hs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Uc=s.slice(t,1<r?1-r:void 0)}function Bc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hc(){return!0}function D_(){return!1}function vn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?hc:D_,this.isPropagationStopped=D_,this}return qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hc)},persist:function(){},isPersistent:hc}),e}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ay=vn(da),mu=qe({},da,{view:0,detail:0}),gR=vn(mu),Wf,qf,Wa,wd=qe({},mu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ly,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wa&&(Wa&&t.type==="mousemove"?(Wf=t.screenX-Wa.screenX,qf=t.screenY-Wa.screenY):qf=Wf=0,Wa=t),Wf)},movementY:function(t){return"movementY"in t?t.movementY:qf}}),O_=vn(wd),yR=qe({},wd,{dataTransfer:0}),vR=vn(yR),_R=qe({},mu,{relatedTarget:0}),Hf=vn(_R),wR=qe({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),ER=vn(wR),TR=qe({},da,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xR=vn(TR),SR=qe({},da,{data:0}),V_=vn(SR),bR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=PR[t])?!!e[t]:!1}function ly(){return AR}var kR=qe({},mu,{key:function(t){if(t.key){var e=bR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?IR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ly,charCode:function(t){return t.type==="keypress"?Bc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),CR=vn(kR),RR=qe({},wd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),L_=vn(RR),NR=qe({},mu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ly}),DR=vn(NR),OR=qe({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),VR=vn(OR),LR=qe({},wd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),MR=vn(LR),jR=[9,13,27,32],uy=Or&&"CompositionEvent"in window,fl=null;Or&&"documentMode"in document&&(fl=document.documentMode);var FR=Or&&"TextEvent"in window&&!fl,aS=Or&&(!uy||fl&&8<fl&&11>=fl),M_=" ",j_=!1;function lS(t,e){switch(t){case"keyup":return jR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yo=!1;function UR(t,e){switch(t){case"compositionend":return uS(e);case"keypress":return e.which!==32?null:(j_=!0,M_);case"textInput":return t=e.data,t===M_&&j_?null:t;default:return null}}function BR(t,e){if(yo)return t==="compositionend"||!uy&&lS(t,e)?(t=oS(),Uc=oy=hs=null,yo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aS&&e.locale!=="ko"?null:e.data;default:return null}}var $R={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$R[t.type]:e==="textarea"}function cS(t,e,n,r){Bx(r),e=yh(e,"onChange"),0<e.length&&(n=new ay("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var pl=null,Fl=null;function zR(t){ES(t,0)}function Ed(t){var e=wo(t);if(Ox(e))return t}function WR(t,e){if(t==="change")return e}var hS=!1;if(Or){var Kf;if(Or){var Gf="oninput"in document;if(!Gf){var U_=document.createElement("div");U_.setAttribute("oninput","return;"),Gf=typeof U_.oninput=="function"}Kf=Gf}else Kf=!1;hS=Kf&&(!document.documentMode||9<document.documentMode)}function B_(){pl&&(pl.detachEvent("onpropertychange",dS),Fl=pl=null)}function dS(t){if(t.propertyName==="value"&&Ed(Fl)){var e=[];cS(e,Fl,t,ty(t)),qx(zR,e)}}function qR(t,e,n){t==="focusin"?(B_(),pl=e,Fl=n,pl.attachEvent("onpropertychange",dS)):t==="focusout"&&B_()}function HR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ed(Fl)}function KR(t,e){if(t==="click")return Ed(e)}function GR(t,e){if(t==="input"||t==="change")return Ed(e)}function QR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hn=typeof Object.is=="function"?Object.is:QR;function Ul(t,e){if(Hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Xp.call(e,s)||!Hn(t[s],e[s]))return!1}return!0}function $_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function z_(t,e){var n=$_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$_(n)}}function fS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pS(){for(var t=window,e=ch();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ch(t.document)}return e}function cy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function YR(t){var e=pS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&fS(n.ownerDocument.documentElement,n)){if(r!==null&&cy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=z_(n,i);var o=z_(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var XR=Or&&"documentMode"in document&&11>=document.documentMode,vo=null,gm=null,ml=null,ym=!1;function W_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ym||vo==null||vo!==ch(r)||(r=vo,"selectionStart"in r&&cy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ml&&Ul(ml,r)||(ml=r,r=yh(gm,"onSelect"),0<r.length&&(e=new ay("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=vo)))}function dc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _o={animationend:dc("Animation","AnimationEnd"),animationiteration:dc("Animation","AnimationIteration"),animationstart:dc("Animation","AnimationStart"),transitionend:dc("Transition","TransitionEnd")},Qf={},mS={};Or&&(mS=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function Td(t){if(Qf[t])return Qf[t];if(!_o[t])return t;var e=_o[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mS)return Qf[t]=e[n];return t}var gS=Td("animationend"),yS=Td("animationiteration"),vS=Td("animationstart"),_S=Td("transitionend"),wS=new Map,q_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $s(t,e){wS.set(t,e),Mi(e,[t])}for(var Yf=0;Yf<q_.length;Yf++){var Xf=q_[Yf],JR=Xf.toLowerCase(),ZR=Xf[0].toUpperCase()+Xf.slice(1);$s(JR,"on"+ZR)}$s(gS,"onAnimationEnd");$s(yS,"onAnimationIteration");$s(vS,"onAnimationStart");$s("dblclick","onDoubleClick");$s("focusin","onFocus");$s("focusout","onBlur");$s(_S,"onTransitionEnd");qo("onMouseEnter",["mouseout","mouseover"]);qo("onMouseLeave",["mouseout","mouseover"]);qo("onPointerEnter",["pointerout","pointerover"]);qo("onPointerLeave",["pointerout","pointerover"]);Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eN=new Set("cancel close invalid load scroll toggle".split(" ").concat(sl));function H_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,JC(r,e,void 0,t),t.currentTarget=null}function ES(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;H_(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;H_(s,a,c),i=l}}}if(dh)throw t=dm,dh=!1,dm=null,t}function Me(t,e){var n=e[Tm];n===void 0&&(n=e[Tm]=new Set);var r=t+"__bubble";n.has(r)||(TS(e,t,2,!1),n.add(r))}function Jf(t,e,n){var r=0;e&&(r|=4),TS(n,t,r,e)}var fc="_reactListening"+Math.random().toString(36).slice(2);function Bl(t){if(!t[fc]){t[fc]=!0,kx.forEach(function(n){n!=="selectionchange"&&(eN.has(n)||Jf(n,!1,t),Jf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fc]||(e[fc]=!0,Jf("selectionchange",!1,e))}}function TS(t,e,n,r){switch(iS(e)){case 1:var s=pR;break;case 4:s=mR;break;default:s=iy}n=s.bind(null,e,n,t),s=void 0,!hm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Zf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=mi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}qx(function(){var c=i,h=ty(n),d=[];e:{var f=wS.get(t);if(f!==void 0){var v=ay,w=t;switch(t){case"keypress":if(Bc(n)===0)break e;case"keydown":case"keyup":v=CR;break;case"focusin":w="focus",v=Hf;break;case"focusout":w="blur",v=Hf;break;case"beforeblur":case"afterblur":v=Hf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=O_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=vR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=DR;break;case gS:case yS:case vS:v=ER;break;case _S:v=VR;break;case"scroll":v=gR;break;case"wheel":v=MR;break;case"copy":case"cut":case"paste":v=xR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=L_}var T=(e&4)!==0,b=!T&&t==="scroll",E=T?f!==null?f+"Capture":null:f;T=[];for(var y=c,_;y!==null;){_=y;var k=_.stateNode;if(_.tag===5&&k!==null&&(_=k,E!==null&&(k=Vl(y,E),k!=null&&T.push($l(y,k,_)))),b)break;y=y.return}0<T.length&&(f=new v(f,w,null,n,h),d.push({event:f,listeners:T}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&n!==um&&(w=n.relatedTarget||n.fromElement)&&(mi(w)||w[Vr]))break e;if((v||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=c,w=w?mi(w):null,w!==null&&(b=ji(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=c),v!==w)){if(T=O_,k="onMouseLeave",E="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(T=L_,k="onPointerLeave",E="onPointerEnter",y="pointer"),b=v==null?f:wo(v),_=w==null?f:wo(w),f=new T(k,y+"leave",v,n,h),f.target=b,f.relatedTarget=_,k=null,mi(h)===c&&(T=new T(E,y+"enter",w,n,h),T.target=_,T.relatedTarget=b,k=T),b=k,v&&w)t:{for(T=v,E=w,y=0,_=T;_;_=eo(_))y++;for(_=0,k=E;k;k=eo(k))_++;for(;0<y-_;)T=eo(T),y--;for(;0<_-y;)E=eo(E),_--;for(;y--;){if(T===E||E!==null&&T===E.alternate)break t;T=eo(T),E=eo(E)}T=null}else T=null;v!==null&&K_(d,f,v,T,!1),w!==null&&b!==null&&K_(d,b,w,T,!0)}}e:{if(f=c?wo(c):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var V=WR;else if(F_(f))if(hS)V=GR;else{V=HR;var j=qR}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(V=KR);if(V&&(V=V(t,c))){cS(d,V,n,h);break e}j&&j(t,f,c),t==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&sm(f,"number",f.value)}switch(j=c?wo(c):window,t){case"focusin":(F_(j)||j.contentEditable==="true")&&(vo=j,gm=c,ml=null);break;case"focusout":ml=gm=vo=null;break;case"mousedown":ym=!0;break;case"contextmenu":case"mouseup":case"dragend":ym=!1,W_(d,n,h);break;case"selectionchange":if(XR)break;case"keydown":case"keyup":W_(d,n,h)}var I;if(uy)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else yo?lS(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(aS&&n.locale!=="ko"&&(yo||x!=="onCompositionStart"?x==="onCompositionEnd"&&yo&&(I=oS()):(hs=h,oy="value"in hs?hs.value:hs.textContent,yo=!0)),j=yh(c,x),0<j.length&&(x=new V_(x,t,null,n,h),d.push({event:x,listeners:j}),I?x.data=I:(I=uS(n),I!==null&&(x.data=I)))),(I=FR?UR(t,n):BR(t,n))&&(c=yh(c,"onBeforeInput"),0<c.length&&(h=new V_("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=I))}ES(d,e)})}function $l(t,e,n){return{instance:t,listener:e,currentTarget:n}}function yh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Vl(t,n),i!=null&&r.unshift($l(t,i,s)),i=Vl(t,e),i!=null&&r.push($l(t,i,s))),t=t.return}return r}function eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function K_(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Vl(n,i),l!=null&&o.unshift($l(n,l,a))):s||(l=Vl(n,i),l!=null&&o.push($l(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var tN=/\r\n?/g,nN=/\u0000|\uFFFD/g;function G_(t){return(typeof t=="string"?t:""+t).replace(tN,`
`).replace(nN,"")}function pc(t,e,n){if(e=G_(e),G_(t)!==e&&n)throw Error(z(425))}function vh(){}var vm=null,_m=null;function wm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Em=typeof setTimeout=="function"?setTimeout:void 0,rN=typeof clearTimeout=="function"?clearTimeout:void 0,Q_=typeof Promise=="function"?Promise:void 0,sN=typeof queueMicrotask=="function"?queueMicrotask:typeof Q_<"u"?function(t){return Q_.resolve(null).then(t).catch(iN)}:Em;function iN(t){setTimeout(function(){throw t})}function ep(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),jl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);jl(e)}function vs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Y_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fa=Math.random().toString(36).slice(2),Zn="__reactFiber$"+fa,zl="__reactProps$"+fa,Vr="__reactContainer$"+fa,Tm="__reactEvents$"+fa,oN="__reactListeners$"+fa,aN="__reactHandles$"+fa;function mi(t){var e=t[Zn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Vr]||n[Zn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Y_(t);t!==null;){if(n=t[Zn])return n;t=Y_(t)}return e}t=n,n=t.parentNode}return null}function gu(t){return t=t[Zn]||t[Vr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function xd(t){return t[zl]||null}var xm=[],Eo=-1;function zs(t){return{current:t}}function Fe(t){0>Eo||(t.current=xm[Eo],xm[Eo]=null,Eo--)}function Oe(t,e){Eo++,xm[Eo]=t.current,t.current=e}var Cs={},Ut=zs(Cs),sn=zs(!1),Ii=Cs;function Ho(t,e){var n=t.type.contextTypes;if(!n)return Cs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function on(t){return t=t.childContextTypes,t!=null}function _h(){Fe(sn),Fe(Ut)}function X_(t,e,n){if(Ut.current!==Cs)throw Error(z(168));Oe(Ut,e),Oe(sn,n)}function xS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,qC(t)||"Unknown",s));return qe({},n,r)}function wh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Cs,Ii=Ut.current,Oe(Ut,t),Oe(sn,sn.current),!0}function J_(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=xS(t,e,Ii),r.__reactInternalMemoizedMergedChildContext=t,Fe(sn),Fe(Ut),Oe(Ut,t)):Fe(sn),Oe(sn,n)}var Tr=null,Sd=!1,tp=!1;function SS(t){Tr===null?Tr=[t]:Tr.push(t)}function lN(t){Sd=!0,SS(t)}function Ws(){if(!tp&&Tr!==null){tp=!0;var t=0,e=Pe;try{var n=Tr;for(Pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Tr=null,Sd=!1}catch(s){throw Tr!==null&&(Tr=Tr.slice(t+1)),Qx(ny,Ws),s}finally{Pe=e,tp=!1}}return null}var To=[],xo=0,Eh=null,Th=0,bn=[],In=0,Pi=null,xr=1,Sr="";function ai(t,e){To[xo++]=Th,To[xo++]=Eh,Eh=t,Th=e}function bS(t,e,n){bn[In++]=xr,bn[In++]=Sr,bn[In++]=Pi,Pi=t;var r=xr;t=Sr;var s=32-Wn(r)-1;r&=~(1<<s),n+=1;var i=32-Wn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,xr=1<<32-Wn(e)+s|n<<s|r,Sr=i+t}else xr=1<<i|n<<s|r,Sr=t}function hy(t){t.return!==null&&(ai(t,1),bS(t,1,0))}function dy(t){for(;t===Eh;)Eh=To[--xo],To[xo]=null,Th=To[--xo],To[xo]=null;for(;t===Pi;)Pi=bn[--In],bn[In]=null,Sr=bn[--In],bn[In]=null,xr=bn[--In],bn[In]=null}var pn=null,hn=null,Ue=!1,Un=null;function IS(t,e){var n=An(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Z_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pn=t,hn=vs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pn=t,hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Pi!==null?{id:xr,overflow:Sr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=An(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pn=t,hn=null,!0):!1;default:return!1}}function Sm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bm(t){if(Ue){var e=hn;if(e){var n=e;if(!Z_(t,e)){if(Sm(t))throw Error(z(418));e=vs(n.nextSibling);var r=pn;e&&Z_(t,e)?IS(r,n):(t.flags=t.flags&-4097|2,Ue=!1,pn=t)}}else{if(Sm(t))throw Error(z(418));t.flags=t.flags&-4097|2,Ue=!1,pn=t}}}function ew(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pn=t}function mc(t){if(t!==pn)return!1;if(!Ue)return ew(t),Ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wm(t.type,t.memoizedProps)),e&&(e=hn)){if(Sm(t))throw PS(),Error(z(418));for(;e;)IS(t,e),e=vs(e.nextSibling)}if(ew(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){hn=vs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}hn=null}}else hn=pn?vs(t.stateNode.nextSibling):null;return!0}function PS(){for(var t=hn;t;)t=vs(t.nextSibling)}function Ko(){hn=pn=null,Ue=!1}function fy(t){Un===null?Un=[t]:Un.push(t)}var uN=zr.ReactCurrentBatchConfig;function qa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function gc(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tw(t){var e=t._init;return e(t._payload)}function AS(t){function e(E,y){if(t){var _=E.deletions;_===null?(E.deletions=[y],E.flags|=16):_.push(y)}}function n(E,y){if(!t)return null;for(;y!==null;)e(E,y),y=y.sibling;return null}function r(E,y){for(E=new Map;y!==null;)y.key!==null?E.set(y.key,y):E.set(y.index,y),y=y.sibling;return E}function s(E,y){return E=Ts(E,y),E.index=0,E.sibling=null,E}function i(E,y,_){return E.index=_,t?(_=E.alternate,_!==null?(_=_.index,_<y?(E.flags|=2,y):_):(E.flags|=2,y)):(E.flags|=1048576,y)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,y,_,k){return y===null||y.tag!==6?(y=lp(_,E.mode,k),y.return=E,y):(y=s(y,_),y.return=E,y)}function l(E,y,_,k){var V=_.type;return V===go?h(E,y,_.props.children,k,_.key):y!==null&&(y.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Zr&&tw(V)===y.type)?(k=s(y,_.props),k.ref=qa(E,y,_),k.return=E,k):(k=Gc(_.type,_.key,_.props,null,E.mode,k),k.ref=qa(E,y,_),k.return=E,k)}function c(E,y,_,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=up(_,E.mode,k),y.return=E,y):(y=s(y,_.children||[]),y.return=E,y)}function h(E,y,_,k,V){return y===null||y.tag!==7?(y=Ti(_,E.mode,k,V),y.return=E,y):(y=s(y,_),y.return=E,y)}function d(E,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=lp(""+y,E.mode,_),y.return=E,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ic:return _=Gc(y.type,y.key,y.props,null,E.mode,_),_.ref=qa(E,null,y),_.return=E,_;case mo:return y=up(y,E.mode,_),y.return=E,y;case Zr:var k=y._init;return d(E,k(y._payload),_)}if(nl(y)||Ua(y))return y=Ti(y,E.mode,_,null),y.return=E,y;gc(E,y)}return null}function f(E,y,_,k){var V=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return V!==null?null:a(E,y,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ic:return _.key===V?l(E,y,_,k):null;case mo:return _.key===V?c(E,y,_,k):null;case Zr:return V=_._init,f(E,y,V(_._payload),k)}if(nl(_)||Ua(_))return V!==null?null:h(E,y,_,k,null);gc(E,_)}return null}function v(E,y,_,k,V){if(typeof k=="string"&&k!==""||typeof k=="number")return E=E.get(_)||null,a(y,E,""+k,V);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ic:return E=E.get(k.key===null?_:k.key)||null,l(y,E,k,V);case mo:return E=E.get(k.key===null?_:k.key)||null,c(y,E,k,V);case Zr:var j=k._init;return v(E,y,_,j(k._payload),V)}if(nl(k)||Ua(k))return E=E.get(_)||null,h(y,E,k,V,null);gc(y,k)}return null}function w(E,y,_,k){for(var V=null,j=null,I=y,x=y=0,P=null;I!==null&&x<_.length;x++){I.index>x?(P=I,I=null):P=I.sibling;var C=f(E,I,_[x],k);if(C===null){I===null&&(I=P);break}t&&I&&C.alternate===null&&e(E,I),y=i(C,y,x),j===null?V=C:j.sibling=C,j=C,I=P}if(x===_.length)return n(E,I),Ue&&ai(E,x),V;if(I===null){for(;x<_.length;x++)I=d(E,_[x],k),I!==null&&(y=i(I,y,x),j===null?V=I:j.sibling=I,j=I);return Ue&&ai(E,x),V}for(I=r(E,I);x<_.length;x++)P=v(I,E,x,_[x],k),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?x:P.key),y=i(P,y,x),j===null?V=P:j.sibling=P,j=P);return t&&I.forEach(function(D){return e(E,D)}),Ue&&ai(E,x),V}function T(E,y,_,k){var V=Ua(_);if(typeof V!="function")throw Error(z(150));if(_=V.call(_),_==null)throw Error(z(151));for(var j=V=null,I=y,x=y=0,P=null,C=_.next();I!==null&&!C.done;x++,C=_.next()){I.index>x?(P=I,I=null):P=I.sibling;var D=f(E,I,C.value,k);if(D===null){I===null&&(I=P);break}t&&I&&D.alternate===null&&e(E,I),y=i(D,y,x),j===null?V=D:j.sibling=D,j=D,I=P}if(C.done)return n(E,I),Ue&&ai(E,x),V;if(I===null){for(;!C.done;x++,C=_.next())C=d(E,C.value,k),C!==null&&(y=i(C,y,x),j===null?V=C:j.sibling=C,j=C);return Ue&&ai(E,x),V}for(I=r(E,I);!C.done;x++,C=_.next())C=v(I,E,x,C.value,k),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?x:C.key),y=i(C,y,x),j===null?V=C:j.sibling=C,j=C);return t&&I.forEach(function(N){return e(E,N)}),Ue&&ai(E,x),V}function b(E,y,_,k){if(typeof _=="object"&&_!==null&&_.type===go&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case ic:e:{for(var V=_.key,j=y;j!==null;){if(j.key===V){if(V=_.type,V===go){if(j.tag===7){n(E,j.sibling),y=s(j,_.props.children),y.return=E,E=y;break e}}else if(j.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Zr&&tw(V)===j.type){n(E,j.sibling),y=s(j,_.props),y.ref=qa(E,j,_),y.return=E,E=y;break e}n(E,j);break}else e(E,j);j=j.sibling}_.type===go?(y=Ti(_.props.children,E.mode,k,_.key),y.return=E,E=y):(k=Gc(_.type,_.key,_.props,null,E.mode,k),k.ref=qa(E,y,_),k.return=E,E=k)}return o(E);case mo:e:{for(j=_.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(E,y.sibling),y=s(y,_.children||[]),y.return=E,E=y;break e}else{n(E,y);break}else e(E,y);y=y.sibling}y=up(_,E.mode,k),y.return=E,E=y}return o(E);case Zr:return j=_._init,b(E,y,j(_._payload),k)}if(nl(_))return w(E,y,_,k);if(Ua(_))return T(E,y,_,k);gc(E,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(E,y.sibling),y=s(y,_),y.return=E,E=y):(n(E,y),y=lp(_,E.mode,k),y.return=E,E=y),o(E)):n(E,y)}return b}var Go=AS(!0),kS=AS(!1),xh=zs(null),Sh=null,So=null,py=null;function my(){py=So=Sh=null}function gy(t){var e=xh.current;Fe(xh),t._currentValue=e}function Im(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Mo(t,e){Sh=t,py=So=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rn=!0),t.firstContext=null)}function Rn(t){var e=t._currentValue;if(py!==t)if(t={context:t,memoizedValue:e,next:null},So===null){if(Sh===null)throw Error(z(308));So=t,Sh.dependencies={lanes:0,firstContext:t}}else So=So.next=t;return e}var gi=null;function yy(t){gi===null?gi=[t]:gi.push(t)}function CS(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,yy(e)):(n.next=s.next,s.next=n),e.interleaved=n,Lr(t,r)}function Lr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var es=!1;function vy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _s(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Lr(t,n)}return s=r.interleaved,s===null?(e.next=e,yy(r)):(e.next=s.next,s.next=e),r.interleaved=e,Lr(t,n)}function $c(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ry(t,n)}}function nw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function bh(t,e,n,r){var s=t.updateQueue;es=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,h=c=l=null,a=i;do{var f=a.lane,v=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,T=a;switch(f=e,v=n,T.tag){case 1:if(w=T.payload,typeof w=="function"){d=w.call(v,d,f);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=T.payload,f=typeof w=="function"?w.call(v,d,f):w,f==null)break e;d=qe({},d,f);break e;case 2:es=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else v={eventTime:v,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=v,l=d):h=h.next=v,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ki|=o,t.lanes=o,t.memoizedState=d}}function rw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var yu={},rr=zs(yu),Wl=zs(yu),ql=zs(yu);function yi(t){if(t===yu)throw Error(z(174));return t}function _y(t,e){switch(Oe(ql,e),Oe(Wl,t),Oe(rr,yu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:om(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=om(e,t)}Fe(rr),Oe(rr,e)}function Qo(){Fe(rr),Fe(Wl),Fe(ql)}function NS(t){yi(ql.current);var e=yi(rr.current),n=om(e,t.type);e!==n&&(Oe(Wl,t),Oe(rr,n))}function wy(t){Wl.current===t&&(Fe(rr),Fe(Wl))}var $e=zs(0);function Ih(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var np=[];function Ey(){for(var t=0;t<np.length;t++)np[t]._workInProgressVersionPrimary=null;np.length=0}var zc=zr.ReactCurrentDispatcher,rp=zr.ReactCurrentBatchConfig,Ai=0,We=null,ut=null,yt=null,Ph=!1,gl=!1,Hl=0,cN=0;function Ct(){throw Error(z(321))}function Ty(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Hn(t[n],e[n]))return!1;return!0}function xy(t,e,n,r,s,i){if(Ai=i,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zc.current=t===null||t.memoizedState===null?pN:mN,t=n(r,s),gl){i=0;do{if(gl=!1,Hl=0,25<=i)throw Error(z(301));i+=1,yt=ut=null,e.updateQueue=null,zc.current=gN,t=n(r,s)}while(gl)}if(zc.current=Ah,e=ut!==null&&ut.next!==null,Ai=0,yt=ut=We=null,Ph=!1,e)throw Error(z(300));return t}function Sy(){var t=Hl!==0;return Hl=0,t}function Yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?We.memoizedState=yt=t:yt=yt.next=t,yt}function Nn(){if(ut===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var e=yt===null?We.memoizedState:yt.next;if(e!==null)yt=e,ut=t;else{if(t===null)throw Error(z(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},yt===null?We.memoizedState=yt=t:yt=yt.next=t}return yt}function Kl(t,e){return typeof e=="function"?e(t):e}function sp(t){var e=Nn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=ut,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var h=c.lane;if((Ai&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,We.lanes|=h,ki|=h}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Hn(r,e.memoizedState)||(rn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,We.lanes|=i,ki|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ip(t){var e=Nn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Hn(i,e.memoizedState)||(rn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function DS(){}function OS(t,e){var n=We,r=Nn(),s=e(),i=!Hn(r.memoizedState,s);if(i&&(r.memoizedState=s,rn=!0),r=r.queue,by(MS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||yt!==null&&yt.memoizedState.tag&1){if(n.flags|=2048,Gl(9,LS.bind(null,n,r,s,e),void 0,null),vt===null)throw Error(z(349));Ai&30||VS(n,e,s)}return s}function VS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function LS(t,e,n,r){e.value=n,e.getSnapshot=r,jS(e)&&FS(t)}function MS(t,e,n){return n(function(){jS(e)&&FS(t)})}function jS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Hn(t,n)}catch{return!0}}function FS(t){var e=Lr(t,1);e!==null&&qn(e,t,1,-1)}function sw(t){var e=Yn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:t},e.queue=t,t=t.dispatch=fN.bind(null,We,t),[e.memoizedState,t]}function Gl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function US(){return Nn().memoizedState}function Wc(t,e,n,r){var s=Yn();We.flags|=t,s.memoizedState=Gl(1|e,n,void 0,r===void 0?null:r)}function bd(t,e,n,r){var s=Nn();r=r===void 0?null:r;var i=void 0;if(ut!==null){var o=ut.memoizedState;if(i=o.destroy,r!==null&&Ty(r,o.deps)){s.memoizedState=Gl(e,n,i,r);return}}We.flags|=t,s.memoizedState=Gl(1|e,n,i,r)}function iw(t,e){return Wc(8390656,8,t,e)}function by(t,e){return bd(2048,8,t,e)}function BS(t,e){return bd(4,2,t,e)}function $S(t,e){return bd(4,4,t,e)}function zS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function WS(t,e,n){return n=n!=null?n.concat([t]):null,bd(4,4,zS.bind(null,e,t),n)}function Iy(){}function qS(t,e){var n=Nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ty(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function HS(t,e){var n=Nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ty(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function KS(t,e,n){return Ai&21?(Hn(n,e)||(n=Jx(),We.lanes|=n,ki|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rn=!0),t.memoizedState=n)}function hN(t,e){var n=Pe;Pe=n!==0&&4>n?n:4,t(!0);var r=rp.transition;rp.transition={};try{t(!1),e()}finally{Pe=n,rp.transition=r}}function GS(){return Nn().memoizedState}function dN(t,e,n){var r=Es(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},QS(t))YS(e,n);else if(n=CS(t,e,n,r),n!==null){var s=Kt();qn(n,t,r,s),XS(n,e,r)}}function fN(t,e,n){var r=Es(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(QS(t))YS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Hn(a,o)){var l=e.interleaved;l===null?(s.next=s,yy(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=CS(t,e,s,r),n!==null&&(s=Kt(),qn(n,t,r,s),XS(n,e,r))}}function QS(t){var e=t.alternate;return t===We||e!==null&&e===We}function YS(t,e){gl=Ph=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function XS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ry(t,n)}}var Ah={readContext:Rn,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},pN={readContext:Rn,useCallback:function(t,e){return Yn().memoizedState=[t,e===void 0?null:e],t},useContext:Rn,useEffect:iw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wc(4194308,4,zS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wc(4,2,t,e)},useMemo:function(t,e){var n=Yn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Yn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=dN.bind(null,We,t),[r.memoizedState,t]},useRef:function(t){var e=Yn();return t={current:t},e.memoizedState=t},useState:sw,useDebugValue:Iy,useDeferredValue:function(t){return Yn().memoizedState=t},useTransition:function(){var t=sw(!1),e=t[0];return t=hN.bind(null,t[1]),Yn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=We,s=Yn();if(Ue){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),vt===null)throw Error(z(349));Ai&30||VS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,iw(MS.bind(null,r,i,t),[t]),r.flags|=2048,Gl(9,LS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Yn(),e=vt.identifierPrefix;if(Ue){var n=Sr,r=xr;n=(r&~(1<<32-Wn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Hl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mN={readContext:Rn,useCallback:qS,useContext:Rn,useEffect:by,useImperativeHandle:WS,useInsertionEffect:BS,useLayoutEffect:$S,useMemo:HS,useReducer:sp,useRef:US,useState:function(){return sp(Kl)},useDebugValue:Iy,useDeferredValue:function(t){var e=Nn();return KS(e,ut.memoizedState,t)},useTransition:function(){var t=sp(Kl)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:DS,useSyncExternalStore:OS,useId:GS,unstable_isNewReconciler:!1},gN={readContext:Rn,useCallback:qS,useContext:Rn,useEffect:by,useImperativeHandle:WS,useInsertionEffect:BS,useLayoutEffect:$S,useMemo:HS,useReducer:ip,useRef:US,useState:function(){return ip(Kl)},useDebugValue:Iy,useDeferredValue:function(t){var e=Nn();return ut===null?e.memoizedState=t:KS(e,ut.memoizedState,t)},useTransition:function(){var t=ip(Kl)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:DS,useSyncExternalStore:OS,useId:GS,unstable_isNewReconciler:!1};function Mn(t,e){if(t&&t.defaultProps){e=qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Pm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Id={isMounted:function(t){return(t=t._reactInternals)?ji(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Kt(),s=Es(t),i=kr(r,s);i.payload=e,n!=null&&(i.callback=n),e=_s(t,i,s),e!==null&&(qn(e,t,s,r),$c(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Kt(),s=Es(t),i=kr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=_s(t,i,s),e!==null&&(qn(e,t,s,r),$c(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Kt(),r=Es(t),s=kr(n,r);s.tag=2,e!=null&&(s.callback=e),e=_s(t,s,r),e!==null&&(qn(e,t,r,n),$c(e,t,r))}};function ow(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ul(n,r)||!Ul(s,i):!0}function JS(t,e,n){var r=!1,s=Cs,i=e.contextType;return typeof i=="object"&&i!==null?i=Rn(i):(s=on(e)?Ii:Ut.current,r=e.contextTypes,i=(r=r!=null)?Ho(t,s):Cs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Id,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function aw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Id.enqueueReplaceState(e,e.state,null)}function Am(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},vy(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Rn(i):(i=on(e)?Ii:Ut.current,s.context=Ho(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Pm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Id.enqueueReplaceState(s,s.state,null),bh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Yo(t,e){try{var n="",r=e;do n+=WC(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function op(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function km(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yN=typeof WeakMap=="function"?WeakMap:Map;function ZS(t,e,n){n=kr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ch||(Ch=!0,Fm=r),km(t,e)},n}function eb(t,e,n){n=kr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){km(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){km(t,e),typeof r!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function lw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new yN;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=RN.bind(null,t,e,n),e.then(t,t))}function uw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=kr(-1,1),e.tag=2,_s(n,e,1))),n.lanes|=1),t)}var vN=zr.ReactCurrentOwner,rn=!1;function qt(t,e,n,r){e.child=t===null?kS(e,null,n,r):Go(e,t.child,n,r)}function hw(t,e,n,r,s){n=n.render;var i=e.ref;return Mo(e,s),r=xy(t,e,n,r,i,s),n=Sy(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Mr(t,e,s)):(Ue&&n&&hy(e),e.flags|=1,qt(t,e,r,s),e.child)}function dw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Oy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,tb(t,e,i,r,s)):(t=Gc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ul,n(o,r)&&t.ref===e.ref)return Mr(t,e,s)}return e.flags|=1,t=Ts(i,r),t.ref=e.ref,t.return=e,e.child=t}function tb(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ul(i,r)&&t.ref===e.ref)if(rn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(rn=!0);else return e.lanes=t.lanes,Mr(t,e,s)}return Cm(t,e,n,r,s)}function nb(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(Io,cn),cn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Oe(Io,cn),cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Oe(Io,cn),cn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Oe(Io,cn),cn|=r;return qt(t,e,s,n),e.child}function rb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Cm(t,e,n,r,s){var i=on(n)?Ii:Ut.current;return i=Ho(e,i),Mo(e,s),n=xy(t,e,n,r,i,s),r=Sy(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Mr(t,e,s)):(Ue&&r&&hy(e),e.flags|=1,qt(t,e,n,s),e.child)}function fw(t,e,n,r,s){if(on(n)){var i=!0;wh(e)}else i=!1;if(Mo(e,s),e.stateNode===null)qc(t,e),JS(e,n,r),Am(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Rn(c):(c=on(n)?Ii:Ut.current,c=Ho(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&aw(e,o,r,c),es=!1;var f=e.memoizedState;o.state=f,bh(e,r,o,s),l=e.memoizedState,a!==r||f!==l||sn.current||es?(typeof h=="function"&&(Pm(e,n,h,r),l=e.memoizedState),(a=es||ow(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,RS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Mn(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Rn(l):(l=on(n)?Ii:Ut.current,l=Ho(e,l));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&aw(e,o,r,l),es=!1,f=e.memoizedState,o.state=f,bh(e,r,o,s);var w=e.memoizedState;a!==d||f!==w||sn.current||es?(typeof v=="function"&&(Pm(e,n,v,r),w=e.memoizedState),(c=es||ow(e,n,c,r,f,w,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Rm(t,e,n,r,i,s)}function Rm(t,e,n,r,s,i){rb(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&J_(e,n,!1),Mr(t,e,i);r=e.stateNode,vN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Go(e,t.child,null,i),e.child=Go(e,null,a,i)):qt(t,e,a,i),e.memoizedState=r.state,s&&J_(e,n,!0),e.child}function sb(t){var e=t.stateNode;e.pendingContext?X_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&X_(t,e.context,!1),_y(t,e.containerInfo)}function pw(t,e,n,r,s){return Ko(),fy(s),e.flags|=256,qt(t,e,n,r),e.child}var Nm={dehydrated:null,treeContext:null,retryLane:0};function Dm(t){return{baseLanes:t,cachePool:null,transitions:null}}function ib(t,e,n){var r=e.pendingProps,s=$e.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Oe($e,s&1),t===null)return bm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=kd(o,r,0,null),t=Ti(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Dm(n),e.memoizedState=Nm,t):Py(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return _N(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ts(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ts(a,i):(i=Ti(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Dm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Nm,r}return i=t.child,t=i.sibling,r=Ts(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Py(t,e){return e=kd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yc(t,e,n,r){return r!==null&&fy(r),Go(e,t.child,null,n),t=Py(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _N(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=op(Error(z(422))),yc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=kd({mode:"visible",children:r.children},s,0,null),i=Ti(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Go(e,t.child,null,o),e.child.memoizedState=Dm(o),e.memoizedState=Nm,i);if(!(e.mode&1))return yc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=op(i,r,void 0),yc(t,e,o,r)}if(a=(o&t.childLanes)!==0,rn||a){if(r=vt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Lr(t,s),qn(r,t,s,-1))}return Dy(),r=op(Error(z(421))),yc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=NN.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,hn=vs(s.nextSibling),pn=e,Ue=!0,Un=null,t!==null&&(bn[In++]=xr,bn[In++]=Sr,bn[In++]=Pi,xr=t.id,Sr=t.overflow,Pi=e),e=Py(e,r.children),e.flags|=4096,e)}function mw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Im(t.return,e,n)}function ap(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function ob(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(qt(t,e,r.children,n),r=$e.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mw(t,n,e);else if(t.tag===19)mw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Oe($e,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ih(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ap(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ih(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ap(e,!0,n,null,i);break;case"together":ap(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ki|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Ts(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ts(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wN(t,e,n){switch(e.tag){case 3:sb(e),Ko();break;case 5:NS(e);break;case 1:on(e.type)&&wh(e);break;case 4:_y(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Oe(xh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Oe($e,$e.current&1),e.flags|=128,null):n&e.child.childLanes?ib(t,e,n):(Oe($e,$e.current&1),t=Mr(t,e,n),t!==null?t.sibling:null);Oe($e,$e.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ob(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Oe($e,$e.current),r)break;return null;case 22:case 23:return e.lanes=0,nb(t,e,n)}return Mr(t,e,n)}var ab,Om,lb,ub;ab=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Om=function(){};lb=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,yi(rr.current);var i=null;switch(n){case"input":s=nm(t,s),r=nm(t,r),i=[];break;case"select":s=qe({},s,{value:void 0}),r=qe({},r,{value:void 0}),i=[];break;case"textarea":s=im(t,s),r=im(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=vh)}am(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Dl.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Dl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Me("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};ub=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ha(t,e){if(!Ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Rt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function EN(t,e,n){var r=e.pendingProps;switch(dy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(e),null;case 1:return on(e.type)&&_h(),Rt(e),null;case 3:return r=e.stateNode,Qo(),Fe(sn),Fe(Ut),Ey(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(mc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Un!==null&&($m(Un),Un=null))),Om(t,e),Rt(e),null;case 5:wy(e);var s=yi(ql.current);if(n=e.type,t!==null&&e.stateNode!=null)lb(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Rt(e),null}if(t=yi(rr.current),mc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Zn]=e,r[zl]=i,t=(e.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(s=0;s<sl.length;s++)Me(sl[s],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":S_(r,i),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Me("invalid",r);break;case"textarea":I_(r,i),Me("invalid",r)}am(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&pc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&pc(r.textContent,a,t),s=["children",""+a]):Dl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Me("scroll",r)}switch(n){case"input":oc(r),b_(r,i,!0);break;case"textarea":oc(r),P_(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=vh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Mx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Zn]=e,t[zl]=r,ab(t,e,!1,!1),e.stateNode=t;e:{switch(o=lm(n,r),n){case"dialog":Me("cancel",t),Me("close",t),s=r;break;case"iframe":case"object":case"embed":Me("load",t),s=r;break;case"video":case"audio":for(s=0;s<sl.length;s++)Me(sl[s],t);s=r;break;case"source":Me("error",t),s=r;break;case"img":case"image":case"link":Me("error",t),Me("load",t),s=r;break;case"details":Me("toggle",t),s=r;break;case"input":S_(t,r),s=nm(t,r),Me("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=qe({},r,{value:void 0}),Me("invalid",t);break;case"textarea":I_(t,r),s=im(t,r),Me("invalid",t);break;default:s=r}am(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Ux(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&jx(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ol(t,l):typeof l=="number"&&Ol(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Dl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Me("scroll",t):l!=null&&Xg(t,i,l,o))}switch(n){case"input":oc(t),b_(t,r,!1);break;case"textarea":oc(t),P_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ks(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Do(t,!!r.multiple,i,!1):r.defaultValue!=null&&Do(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=vh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Rt(e),null;case 6:if(t&&e.stateNode!=null)ub(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=yi(ql.current),yi(rr.current),mc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Zn]=e,(i=r.nodeValue!==n)&&(t=pn,t!==null))switch(t.tag){case 3:pc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zn]=e,e.stateNode=r}return Rt(e),null;case 13:if(Fe($e),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&hn!==null&&e.mode&1&&!(e.flags&128))PS(),Ko(),e.flags|=98560,i=!1;else if(i=mc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[Zn]=e}else Ko(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Rt(e),i=!1}else Un!==null&&($m(Un),Un=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||$e.current&1?ct===0&&(ct=3):Dy())),e.updateQueue!==null&&(e.flags|=4),Rt(e),null);case 4:return Qo(),Om(t,e),t===null&&Bl(e.stateNode.containerInfo),Rt(e),null;case 10:return gy(e.type._context),Rt(e),null;case 17:return on(e.type)&&_h(),Rt(e),null;case 19:if(Fe($e),i=e.memoizedState,i===null)return Rt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ha(i,!1);else{if(ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ih(t),o!==null){for(e.flags|=128,Ha(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Oe($e,$e.current&1|2),e.child}t=t.sibling}i.tail!==null&&nt()>Xo&&(e.flags|=128,r=!0,Ha(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ih(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ha(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ue)return Rt(e),null}else 2*nt()-i.renderingStartTime>Xo&&n!==1073741824&&(e.flags|=128,r=!0,Ha(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=nt(),e.sibling=null,n=$e.current,Oe($e,r?n&1|2:n&1),e):(Rt(e),null);case 22:case 23:return Ny(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?cn&1073741824&&(Rt(e),e.subtreeFlags&6&&(e.flags|=8192)):Rt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function TN(t,e){switch(dy(e),e.tag){case 1:return on(e.type)&&_h(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qo(),Fe(sn),Fe(Ut),Ey(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wy(e),null;case 13:if(Fe($e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Ko()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe($e),null;case 4:return Qo(),null;case 10:return gy(e.type._context),null;case 22:case 23:return Ny(),null;case 24:return null;default:return null}}var vc=!1,Lt=!1,xN=typeof WeakSet=="function"?WeakSet:Set,X=null;function bo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(t,e,r)}else n.current=null}function Vm(t,e,n){try{n()}catch(r){Ge(t,e,r)}}var gw=!1;function SN(t,e){if(vm=mh,t=pS(),cy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=t,f=null;t:for(;;){for(var v;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(v=d.firstChild)!==null;)f=d,d=v;for(;;){if(d===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++h===r&&(l=o),(v=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(_m={focusedElem:t,selectionRange:n},mh=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var T=w.memoizedProps,b=w.memoizedState,E=e.stateNode,y=E.getSnapshotBeforeUpdate(e.elementType===e.type?T:Mn(e.type,T),b);E.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(k){Ge(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return w=gw,gw=!1,w}function yl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Vm(e,n,i)}s=s.next}while(s!==r)}}function Pd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Lm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function cb(t){var e=t.alternate;e!==null&&(t.alternate=null,cb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zn],delete e[zl],delete e[Tm],delete e[oN],delete e[aN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hb(t){return t.tag===5||t.tag===3||t.tag===4}function yw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=vh));else if(r!==4&&(t=t.child,t!==null))for(Mm(t,e,n),t=t.sibling;t!==null;)Mm(t,e,n),t=t.sibling}function jm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(jm(t,e,n),t=t.sibling;t!==null;)jm(t,e,n),t=t.sibling}var Et=null,jn=!1;function Kr(t,e,n){for(n=n.child;n!==null;)db(t,e,n),n=n.sibling}function db(t,e,n){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(_d,n)}catch{}switch(n.tag){case 5:Lt||bo(n,e);case 6:var r=Et,s=jn;Et=null,Kr(t,e,n),Et=r,jn=s,Et!==null&&(jn?(t=Et,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Et.removeChild(n.stateNode));break;case 18:Et!==null&&(jn?(t=Et,n=n.stateNode,t.nodeType===8?ep(t.parentNode,n):t.nodeType===1&&ep(t,n),jl(t)):ep(Et,n.stateNode));break;case 4:r=Et,s=jn,Et=n.stateNode.containerInfo,jn=!0,Kr(t,e,n),Et=r,jn=s;break;case 0:case 11:case 14:case 15:if(!Lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Vm(n,e,o),s=s.next}while(s!==r)}Kr(t,e,n);break;case 1:if(!Lt&&(bo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ge(n,e,a)}Kr(t,e,n);break;case 21:Kr(t,e,n);break;case 22:n.mode&1?(Lt=(r=Lt)||n.memoizedState!==null,Kr(t,e,n),Lt=r):Kr(t,e,n);break;default:Kr(t,e,n)}}function vw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new xN),e.forEach(function(r){var s=DN.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Vn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Et=a.stateNode,jn=!1;break e;case 3:Et=a.stateNode.containerInfo,jn=!0;break e;case 4:Et=a.stateNode.containerInfo,jn=!0;break e}a=a.return}if(Et===null)throw Error(z(160));db(i,o,s),Et=null,jn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ge(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fb(e,t),e=e.sibling}function fb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vn(e,t),Qn(t),r&4){try{yl(3,t,t.return),Pd(3,t)}catch(T){Ge(t,t.return,T)}try{yl(5,t,t.return)}catch(T){Ge(t,t.return,T)}}break;case 1:Vn(e,t),Qn(t),r&512&&n!==null&&bo(n,n.return);break;case 5:if(Vn(e,t),Qn(t),r&512&&n!==null&&bo(n,n.return),t.flags&32){var s=t.stateNode;try{Ol(s,"")}catch(T){Ge(t,t.return,T)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Vx(s,i),lm(a,o);var c=lm(a,i);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?Ux(s,d):h==="dangerouslySetInnerHTML"?jx(s,d):h==="children"?Ol(s,d):Xg(s,h,d,c)}switch(a){case"input":rm(s,i);break;case"textarea":Lx(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Do(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?Do(s,!!i.multiple,i.defaultValue,!0):Do(s,!!i.multiple,i.multiple?[]:"",!1))}s[zl]=i}catch(T){Ge(t,t.return,T)}}break;case 6:if(Vn(e,t),Qn(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(T){Ge(t,t.return,T)}}break;case 3:if(Vn(e,t),Qn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{jl(e.containerInfo)}catch(T){Ge(t,t.return,T)}break;case 4:Vn(e,t),Qn(t);break;case 13:Vn(e,t),Qn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Cy=nt())),r&4&&vw(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Lt=(c=Lt)||h,Vn(e,t),Lt=c):Vn(e,t),Qn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(X=t,h=t.child;h!==null;){for(d=X=h;X!==null;){switch(f=X,v=f.child,f.tag){case 0:case 11:case 14:case 15:yl(4,f,f.return);break;case 1:bo(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(T){Ge(r,n,T)}}break;case 5:bo(f,f.return);break;case 22:if(f.memoizedState!==null){ww(d);continue}}v!==null?(v.return=f,X=v):ww(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Fx("display",o))}catch(T){Ge(t,t.return,T)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(T){Ge(t,t.return,T)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Vn(e,t),Qn(t),r&4&&vw(t);break;case 21:break;default:Vn(e,t),Qn(t)}}function Qn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(hb(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ol(s,""),r.flags&=-33);var i=yw(t);jm(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=yw(t);Mm(t,a,o);break;default:throw Error(z(161))}}catch(l){Ge(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bN(t,e,n){X=t,pb(t)}function pb(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||vc;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Lt;a=vc;var c=Lt;if(vc=o,(Lt=l)&&!c)for(X=s;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?Ew(s):l!==null?(l.return=o,X=l):Ew(s);for(;i!==null;)X=i,pb(i),i=i.sibling;X=s,vc=a,Lt=c}_w(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):_w(t)}}function _w(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Lt||Pd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Lt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Mn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&rw(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}rw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&jl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Lt||e.flags&512&&Lm(e)}catch(f){Ge(e,e.return,f)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function ww(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function Ew(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Pd(4,e)}catch(l){Ge(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ge(e,s,l)}}var i=e.return;try{Lm(e)}catch(l){Ge(e,i,l)}break;case 5:var o=e.return;try{Lm(e)}catch(l){Ge(e,o,l)}}}catch(l){Ge(e,e.return,l)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var IN=Math.ceil,kh=zr.ReactCurrentDispatcher,Ay=zr.ReactCurrentOwner,kn=zr.ReactCurrentBatchConfig,Ee=0,vt=null,it=null,bt=0,cn=0,Io=zs(0),ct=0,Ql=null,ki=0,Ad=0,ky=0,vl=null,Zt=null,Cy=0,Xo=1/0,wr=null,Ch=!1,Fm=null,ws=null,_c=!1,ds=null,Rh=0,_l=0,Um=null,Hc=-1,Kc=0;function Kt(){return Ee&6?nt():Hc!==-1?Hc:Hc=nt()}function Es(t){return t.mode&1?Ee&2&&bt!==0?bt&-bt:uN.transition!==null?(Kc===0&&(Kc=Jx()),Kc):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:iS(t.type)),t):1}function qn(t,e,n,r){if(50<_l)throw _l=0,Um=null,Error(z(185));pu(t,n,r),(!(Ee&2)||t!==vt)&&(t===vt&&(!(Ee&2)&&(Ad|=n),ct===4&&rs(t,bt)),an(t,r),n===1&&Ee===0&&!(e.mode&1)&&(Xo=nt()+500,Sd&&Ws()))}function an(t,e){var n=t.callbackNode;uR(t,e);var r=ph(t,t===vt?bt:0);if(r===0)n!==null&&C_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&C_(n),e===1)t.tag===0?lN(Tw.bind(null,t)):SS(Tw.bind(null,t)),sN(function(){!(Ee&6)&&Ws()}),n=null;else{switch(Zx(r)){case 1:n=ny;break;case 4:n=Yx;break;case 16:n=fh;break;case 536870912:n=Xx;break;default:n=fh}n=Tb(n,mb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function mb(t,e){if(Hc=-1,Kc=0,Ee&6)throw Error(z(327));var n=t.callbackNode;if(jo()&&t.callbackNode!==n)return null;var r=ph(t,t===vt?bt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Nh(t,r);else{e=r;var s=Ee;Ee|=2;var i=yb();(vt!==t||bt!==e)&&(wr=null,Xo=nt()+500,Ei(t,e));do try{kN();break}catch(a){gb(t,a)}while(!0);my(),kh.current=i,Ee=s,it!==null?e=0:(vt=null,bt=0,e=ct)}if(e!==0){if(e===2&&(s=fm(t),s!==0&&(r=s,e=Bm(t,s))),e===1)throw n=Ql,Ei(t,0),rs(t,r),an(t,nt()),n;if(e===6)rs(t,r);else{if(s=t.current.alternate,!(r&30)&&!PN(s)&&(e=Nh(t,r),e===2&&(i=fm(t),i!==0&&(r=i,e=Bm(t,i))),e===1))throw n=Ql,Ei(t,0),rs(t,r),an(t,nt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:li(t,Zt,wr);break;case 3:if(rs(t,r),(r&130023424)===r&&(e=Cy+500-nt(),10<e)){if(ph(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Kt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Em(li.bind(null,t,Zt,wr),e);break}li(t,Zt,wr);break;case 4:if(rs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Wn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*IN(r/1960))-r,10<r){t.timeoutHandle=Em(li.bind(null,t,Zt,wr),r);break}li(t,Zt,wr);break;case 5:li(t,Zt,wr);break;default:throw Error(z(329))}}}return an(t,nt()),t.callbackNode===n?mb.bind(null,t):null}function Bm(t,e){var n=vl;return t.current.memoizedState.isDehydrated&&(Ei(t,e).flags|=256),t=Nh(t,e),t!==2&&(e=Zt,Zt=n,e!==null&&$m(e)),t}function $m(t){Zt===null?Zt=t:Zt.push.apply(Zt,t)}function PN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Hn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function rs(t,e){for(e&=~ky,e&=~Ad,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Wn(e),r=1<<n;t[n]=-1,e&=~r}}function Tw(t){if(Ee&6)throw Error(z(327));jo();var e=ph(t,0);if(!(e&1))return an(t,nt()),null;var n=Nh(t,e);if(t.tag!==0&&n===2){var r=fm(t);r!==0&&(e=r,n=Bm(t,r))}if(n===1)throw n=Ql,Ei(t,0),rs(t,e),an(t,nt()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,li(t,Zt,wr),an(t,nt()),null}function Ry(t,e){var n=Ee;Ee|=1;try{return t(e)}finally{Ee=n,Ee===0&&(Xo=nt()+500,Sd&&Ws())}}function Ci(t){ds!==null&&ds.tag===0&&!(Ee&6)&&jo();var e=Ee;Ee|=1;var n=kn.transition,r=Pe;try{if(kn.transition=null,Pe=1,t)return t()}finally{Pe=r,kn.transition=n,Ee=e,!(Ee&6)&&Ws()}}function Ny(){cn=Io.current,Fe(Io)}function Ei(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,rN(n)),it!==null)for(n=it.return;n!==null;){var r=n;switch(dy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_h();break;case 3:Qo(),Fe(sn),Fe(Ut),Ey();break;case 5:wy(r);break;case 4:Qo();break;case 13:Fe($e);break;case 19:Fe($e);break;case 10:gy(r.type._context);break;case 22:case 23:Ny()}n=n.return}if(vt=t,it=t=Ts(t.current,null),bt=cn=e,ct=0,Ql=null,ky=Ad=ki=0,Zt=vl=null,gi!==null){for(e=0;e<gi.length;e++)if(n=gi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}gi=null}return t}function gb(t,e){do{var n=it;try{if(my(),zc.current=Ah,Ph){for(var r=We.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ph=!1}if(Ai=0,yt=ut=We=null,gl=!1,Hl=0,Ay.current=null,n===null||n.return===null){ct=1,Ql=e,it=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=bt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=uw(o);if(v!==null){v.flags&=-257,cw(v,o,a,i,e),v.mode&1&&lw(i,c,e),e=v,l=c;var w=e.updateQueue;if(w===null){var T=new Set;T.add(l),e.updateQueue=T}else w.add(l);break e}else{if(!(e&1)){lw(i,c,e),Dy();break e}l=Error(z(426))}}else if(Ue&&a.mode&1){var b=uw(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),cw(b,o,a,i,e),fy(Yo(l,a));break e}}i=l=Yo(l,a),ct!==4&&(ct=2),vl===null?vl=[i]:vl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=ZS(i,l,e);nw(i,E);break e;case 1:a=l;var y=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ws===null||!ws.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=eb(i,a,e);nw(i,k);break e}}i=i.return}while(i!==null)}_b(n)}catch(V){e=V,it===n&&n!==null&&(it=n=n.return);continue}break}while(!0)}function yb(){var t=kh.current;return kh.current=Ah,t===null?Ah:t}function Dy(){(ct===0||ct===3||ct===2)&&(ct=4),vt===null||!(ki&268435455)&&!(Ad&268435455)||rs(vt,bt)}function Nh(t,e){var n=Ee;Ee|=2;var r=yb();(vt!==t||bt!==e)&&(wr=null,Ei(t,e));do try{AN();break}catch(s){gb(t,s)}while(!0);if(my(),Ee=n,kh.current=r,it!==null)throw Error(z(261));return vt=null,bt=0,ct}function AN(){for(;it!==null;)vb(it)}function kN(){for(;it!==null&&!eR();)vb(it)}function vb(t){var e=Eb(t.alternate,t,cn);t.memoizedProps=t.pendingProps,e===null?_b(t):it=e,Ay.current=null}function _b(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=TN(n,e),n!==null){n.flags&=32767,it=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ct=6,it=null;return}}else if(n=EN(n,e,cn),n!==null){it=n;return}if(e=e.sibling,e!==null){it=e;return}it=e=t}while(e!==null);ct===0&&(ct=5)}function li(t,e,n){var r=Pe,s=kn.transition;try{kn.transition=null,Pe=1,CN(t,e,n,r)}finally{kn.transition=s,Pe=r}return null}function CN(t,e,n,r){do jo();while(ds!==null);if(Ee&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(cR(t,i),t===vt&&(it=vt=null,bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_c||(_c=!0,Tb(fh,function(){return jo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=kn.transition,kn.transition=null;var o=Pe;Pe=1;var a=Ee;Ee|=4,Ay.current=null,SN(t,n),fb(n,t),YR(_m),mh=!!vm,_m=vm=null,t.current=n,bN(n),tR(),Ee=a,Pe=o,kn.transition=i}else t.current=n;if(_c&&(_c=!1,ds=t,Rh=s),i=t.pendingLanes,i===0&&(ws=null),sR(n.stateNode),an(t,nt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ch)throw Ch=!1,t=Fm,Fm=null,t;return Rh&1&&t.tag!==0&&jo(),i=t.pendingLanes,i&1?t===Um?_l++:(_l=0,Um=t):_l=0,Ws(),null}function jo(){if(ds!==null){var t=Zx(Rh),e=kn.transition,n=Pe;try{if(kn.transition=null,Pe=16>t?16:t,ds===null)var r=!1;else{if(t=ds,ds=null,Rh=0,Ee&6)throw Error(z(331));var s=Ee;for(Ee|=4,X=t.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(X=c;X!==null;){var h=X;switch(h.tag){case 0:case 11:case 15:yl(8,h,i)}var d=h.child;if(d!==null)d.return=h,X=d;else for(;X!==null;){h=X;var f=h.sibling,v=h.return;if(cb(h),h===c){X=null;break}if(f!==null){f.return=v,X=f;break}X=v}}}var w=i.alternate;if(w!==null){var T=w.child;if(T!==null){w.child=null;do{var b=T.sibling;T.sibling=null,T=b}while(T!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:yl(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,X=E;break e}X=i.return}}var y=t.current;for(X=y;X!==null;){o=X;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,X=_;else e:for(o=y;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Pd(9,a)}}catch(V){Ge(a,a.return,V)}if(a===o){X=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,X=k;break e}X=a.return}}if(Ee=s,Ws(),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(_d,t)}catch{}r=!0}return r}finally{Pe=n,kn.transition=e}}return!1}function xw(t,e,n){e=Yo(n,e),e=ZS(t,e,1),t=_s(t,e,1),e=Kt(),t!==null&&(pu(t,1,e),an(t,e))}function Ge(t,e,n){if(t.tag===3)xw(t,t,n);else for(;e!==null;){if(e.tag===3){xw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ws===null||!ws.has(r))){t=Yo(n,t),t=eb(e,t,1),e=_s(e,t,1),t=Kt(),e!==null&&(pu(e,1,t),an(e,t));break}}e=e.return}}function RN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Kt(),t.pingedLanes|=t.suspendedLanes&n,vt===t&&(bt&n)===n&&(ct===4||ct===3&&(bt&130023424)===bt&&500>nt()-Cy?Ei(t,0):ky|=n),an(t,e)}function wb(t,e){e===0&&(t.mode&1?(e=uc,uc<<=1,!(uc&130023424)&&(uc=4194304)):e=1);var n=Kt();t=Lr(t,e),t!==null&&(pu(t,e,n),an(t,n))}function NN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wb(t,n)}function DN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),wb(t,n)}var Eb;Eb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||sn.current)rn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rn=!1,wN(t,e,n);rn=!!(t.flags&131072)}else rn=!1,Ue&&e.flags&1048576&&bS(e,Th,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;qc(t,e),t=e.pendingProps;var s=Ho(e,Ut.current);Mo(e,n),s=xy(null,e,r,t,s,n);var i=Sy();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,on(r)?(i=!0,wh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,vy(e),s.updater=Id,e.stateNode=s,s._reactInternals=e,Am(e,r,t,n),e=Rm(null,e,r,!0,i,n)):(e.tag=0,Ue&&i&&hy(e),qt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(qc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=VN(r),t=Mn(r,t),s){case 0:e=Cm(null,e,r,t,n);break e;case 1:e=fw(null,e,r,t,n);break e;case 11:e=hw(null,e,r,t,n);break e;case 14:e=dw(null,e,r,Mn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mn(r,s),Cm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mn(r,s),fw(t,e,r,s,n);case 3:e:{if(sb(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,RS(t,e),bh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Yo(Error(z(423)),e),e=pw(t,e,r,n,s);break e}else if(r!==s){s=Yo(Error(z(424)),e),e=pw(t,e,r,n,s);break e}else for(hn=vs(e.stateNode.containerInfo.firstChild),pn=e,Ue=!0,Un=null,n=kS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ko(),r===s){e=Mr(t,e,n);break e}qt(t,e,r,n)}e=e.child}return e;case 5:return NS(e),t===null&&bm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,wm(r,s)?o=null:i!==null&&wm(r,i)&&(e.flags|=32),rb(t,e),qt(t,e,o,n),e.child;case 6:return t===null&&bm(e),null;case 13:return ib(t,e,n);case 4:return _y(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Go(e,null,r,n):qt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mn(r,s),hw(t,e,r,s,n);case 7:return qt(t,e,e.pendingProps,n),e.child;case 8:return qt(t,e,e.pendingProps.children,n),e.child;case 12:return qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Oe(xh,r._currentValue),r._currentValue=o,i!==null)if(Hn(i.value,o)){if(i.children===s.children&&!sn.current){e=Mr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=kr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Im(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Im(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}qt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Mo(e,n),s=Rn(s),r=r(s),e.flags|=1,qt(t,e,r,n),e.child;case 14:return r=e.type,s=Mn(r,e.pendingProps),s=Mn(r.type,s),dw(t,e,r,s,n);case 15:return tb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mn(r,s),qc(t,e),e.tag=1,on(r)?(t=!0,wh(e)):t=!1,Mo(e,n),JS(e,r,s),Am(e,r,s,n),Rm(null,e,r,!0,t,n);case 19:return ob(t,e,n);case 22:return nb(t,e,n)}throw Error(z(156,e.tag))};function Tb(t,e){return Qx(t,e)}function ON(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,e,n,r){return new ON(t,e,n,r)}function Oy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function VN(t){if(typeof t=="function")return Oy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Zg)return 11;if(t===ey)return 14}return 2}function Ts(t,e){var n=t.alternate;return n===null?(n=An(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Oy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case go:return Ti(n.children,s,i,e);case Jg:o=8,s|=8;break;case Jp:return t=An(12,n,e,s|2),t.elementType=Jp,t.lanes=i,t;case Zp:return t=An(13,n,e,s),t.elementType=Zp,t.lanes=i,t;case em:return t=An(19,n,e,s),t.elementType=em,t.lanes=i,t;case Nx:return kd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Cx:o=10;break e;case Rx:o=9;break e;case Zg:o=11;break e;case ey:o=14;break e;case Zr:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=An(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ti(t,e,n,r){return t=An(7,t,r,e),t.lanes=n,t}function kd(t,e,n,r){return t=An(22,t,r,e),t.elementType=Nx,t.lanes=n,t.stateNode={isHidden:!1},t}function lp(t,e,n){return t=An(6,t,null,e),t.lanes=n,t}function up(t,e,n){return e=An(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function LN(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zf(0),this.expirationTimes=zf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vy(t,e,n,r,s,i,o,a,l){return t=new LN(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=An(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vy(i),t}function MN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xb(t){if(!t)return Cs;t=t._reactInternals;e:{if(ji(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(on(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(on(n))return xS(t,n,e)}return e}function Sb(t,e,n,r,s,i,o,a,l){return t=Vy(n,r,!0,t,s,i,o,a,l),t.context=xb(null),n=t.current,r=Kt(),s=Es(n),i=kr(r,s),i.callback=e??null,_s(n,i,s),t.current.lanes=s,pu(t,s,r),an(t,r),t}function Cd(t,e,n,r){var s=e.current,i=Kt(),o=Es(s);return n=xb(n),e.context===null?e.context=n:e.pendingContext=n,e=kr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_s(s,e,o),t!==null&&(qn(t,s,o,i),$c(t,s,o)),o}function Dh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Sw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ly(t,e){Sw(t,e),(t=t.alternate)&&Sw(t,e)}function jN(){return null}var bb=typeof reportError=="function"?reportError:function(t){console.error(t)};function My(t){this._internalRoot=t}Rd.prototype.render=My.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Cd(t,e,null,null)};Rd.prototype.unmount=My.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ci(function(){Cd(null,t,null,null)}),e[Vr]=null}};function Rd(t){this._internalRoot=t}Rd.prototype.unstable_scheduleHydration=function(t){if(t){var e=nS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ns.length&&e!==0&&e<ns[n].priority;n++);ns.splice(n,0,t),n===0&&sS(t)}};function jy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bw(){}function FN(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Dh(o);i.call(c)}}var o=Sb(e,r,t,0,null,!1,!1,"",bw);return t._reactRootContainer=o,t[Vr]=o.current,Bl(t.nodeType===8?t.parentNode:t),Ci(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Dh(l);a.call(c)}}var l=Vy(t,0,!1,null,null,!1,!1,"",bw);return t._reactRootContainer=l,t[Vr]=l.current,Bl(t.nodeType===8?t.parentNode:t),Ci(function(){Cd(e,l,n,r)}),l}function Dd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Dh(o);a.call(l)}}Cd(e,o,t,s)}else o=FN(n,e,t,s,r);return Dh(o)}eS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=rl(e.pendingLanes);n!==0&&(ry(e,n|1),an(e,nt()),!(Ee&6)&&(Xo=nt()+500,Ws()))}break;case 13:Ci(function(){var r=Lr(t,1);if(r!==null){var s=Kt();qn(r,t,1,s)}}),Ly(t,1)}};sy=function(t){if(t.tag===13){var e=Lr(t,134217728);if(e!==null){var n=Kt();qn(e,t,134217728,n)}Ly(t,134217728)}};tS=function(t){if(t.tag===13){var e=Es(t),n=Lr(t,e);if(n!==null){var r=Kt();qn(n,t,e,r)}Ly(t,e)}};nS=function(){return Pe};rS=function(t,e){var n=Pe;try{return Pe=t,e()}finally{Pe=n}};cm=function(t,e,n){switch(e){case"input":if(rm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=xd(r);if(!s)throw Error(z(90));Ox(r),rm(r,s)}}}break;case"textarea":Lx(t,n);break;case"select":e=n.value,e!=null&&Do(t,!!n.multiple,e,!1)}};zx=Ry;Wx=Ci;var UN={usingClientEntryPoint:!1,Events:[gu,wo,xd,Bx,$x,Ry]},Ka={findFiberByHostInstance:mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BN={bundleType:Ka.bundleType,version:Ka.version,rendererPackageName:Ka.rendererPackageName,rendererConfig:Ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Kx(t),t===null?null:t.stateNode},findFiberByHostInstance:Ka.findFiberByHostInstance||jN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{_d=wc.inject(BN),nr=wc}catch{}}yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UN;yn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jy(e))throw Error(z(200));return MN(t,e,null,n)};yn.createRoot=function(t,e){if(!jy(t))throw Error(z(299));var n=!1,r="",s=bb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Vy(t,1,!1,null,null,n,!1,r,s),t[Vr]=e.current,Bl(t.nodeType===8?t.parentNode:t),new My(e)};yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=Kx(e),t=t===null?null:t.stateNode,t};yn.flushSync=function(t){return Ci(t)};yn.hydrate=function(t,e,n){if(!Nd(e))throw Error(z(200));return Dd(null,t,e,!0,n)};yn.hydrateRoot=function(t,e,n){if(!jy(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=bb;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Sb(e,null,t,1,n??null,s,!1,i,o),t[Vr]=e.current,Bl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Rd(e)};yn.render=function(t,e,n){if(!Nd(e))throw Error(z(200));return Dd(null,t,e,!1,n)};yn.unmountComponentAtNode=function(t){if(!Nd(t))throw Error(z(40));return t._reactRootContainer?(Ci(function(){Dd(null,null,t,!1,function(){t._reactRootContainer=null,t[Vr]=null})}),!0):!1};yn.unstable_batchedUpdates=Ry;yn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Nd(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Dd(t,e,n,!1,r)};yn.version="18.3.1-next-f1338f8080-20240426";function Ib(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ib)}catch(t){console.error(t)}}Ib(),Ix.exports=yn;var $N=Ix.exports,Pb,Iw=$N;Pb=Iw.createRoot,Iw.hydrateRoot;/**
 * @remix-run/router v1.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yl(){return Yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yl.apply(this,arguments)}var fs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fs||(fs={}));const Pw="popstate";function zN(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return zm("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Oh(s)}return qN(e,n,null,t)}function Qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ab(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WN(){return Math.random().toString(36).substr(2,8)}function Aw(t,e){return{usr:t.state,key:t.key,idx:e}}function zm(t,e,n,r){return n===void 0&&(n=null),Yl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?pa(e):e,{state:n,key:e&&e.key||r||WN()})}function Oh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function pa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function qN(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=fs.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(Yl({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=fs.Pop;let b=h(),E=b==null?null:b-c;c=b,l&&l({action:a,location:T.location,delta:E})}function f(b,E){a=fs.Push;let y=zm(T.location,b,E);c=h()+1;let _=Aw(y,c),k=T.createHref(y);try{o.pushState(_,"",k)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(k)}i&&l&&l({action:a,location:T.location,delta:1})}function v(b,E){a=fs.Replace;let y=zm(T.location,b,E);c=h();let _=Aw(y,c),k=T.createHref(y);o.replaceState(_,"",k),i&&l&&l({action:a,location:T.location,delta:0})}function w(b){let E=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof b=="string"?b:Oh(b);return y=y.replace(/ $/,"%20"),Qe(E,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,E)}let T={get action(){return a},get location(){return t(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Pw,d),l=b,()=>{s.removeEventListener(Pw,d),l=null}},createHref(b){return e(s,b)},createURL:w,encodeLocation(b){let E=w(b);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:f,replace:v,go(b){return o.go(b)}};return T}var kw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(kw||(kw={}));function HN(t,e,n){return n===void 0&&(n="/"),KN(t,e,n,!1)}function KN(t,e,n,r){let s=typeof e=="string"?pa(e):e,i=Jo(s.pathname||"/",n);if(i==null)return null;let o=kb(t);GN(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=i4(i);a=r4(o[l],c,r)}return a}function kb(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Qe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=xs([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(Qe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),kb(i.children,e,h,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:t4(c,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Cb(i.path))s(i,o,l)}),e}function Cb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Cb(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function GN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:n4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const QN=/^:[\w-]+$/,YN=3,XN=2,JN=1,ZN=10,e4=-2,Cw=t=>t==="*";function t4(t,e){let n=t.split("/"),r=n.length;return n.some(Cw)&&(r+=e4),e&&(r+=XN),n.filter(s=>!Cw(s)).reduce((s,i)=>s+(QN.test(i)?YN:i===""?JN:ZN),r)}function n4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function r4(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",d=Vh({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Vh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:xs([i,d.pathname]),pathnameBase:u4(xs([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=xs([i,d.pathnameBase]))}return o}function Vh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=s4(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,h,d)=>{let{paramName:f,isOptional:v}=h;if(f==="*"){let T=a[d]||"";o=i.slice(0,i.length-T.length).replace(/(.)\/+$/,"$1")}const w=a[d];return v&&!w?c[f]=void 0:c[f]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function s4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ab(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function i4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ab(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Jo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function o4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?pa(t):t;return{pathname:n?n.startsWith("/")?n:a4(n,e):e,search:c4(r),hash:h4(s)}}function a4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function cp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function l4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Rb(t,e){let n=l4(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Nb(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=pa(t):(s=Yl({},t),Qe(!s.pathname||!s.pathname.includes("?"),cp("?","pathname","search",s)),Qe(!s.pathname||!s.pathname.includes("#"),cp("#","pathname","hash",s)),Qe(!s.search||!s.search.includes("#"),cp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=o4(s,a),c=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const xs=t=>t.join("/").replace(/\/\/+/g,"/"),u4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),c4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,h4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function d4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Db=["post","put","patch","delete"];new Set(Db);const f4=["get",...Db];new Set(f4);/**
 * React Router v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xl(){return Xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xl.apply(this,arguments)}const Od=O.createContext(null),Ob=O.createContext(null),qs=O.createContext(null),Vd=O.createContext(null),Hs=O.createContext({outlet:null,matches:[],isDataRoute:!1}),Vb=O.createContext(null);function p4(t,e){let{relative:n}=e===void 0?{}:e;vu()||Qe(!1);let{basename:r,navigator:s}=O.useContext(qs),{hash:i,pathname:o,search:a}=Md(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:xs([r,o])),s.createHref({pathname:l,search:a,hash:i})}function vu(){return O.useContext(Vd)!=null}function Fi(){return vu()||Qe(!1),O.useContext(Vd).location}function Lb(t){O.useContext(qs).static||O.useLayoutEffect(t)}function Ld(){let{isDataRoute:t}=O.useContext(Hs);return t?P4():m4()}function m4(){vu()||Qe(!1);let t=O.useContext(Od),{basename:e,future:n,navigator:r}=O.useContext(qs),{matches:s}=O.useContext(Hs),{pathname:i}=Fi(),o=JSON.stringify(Rb(s,n.v7_relativeSplatPath)),a=O.useRef(!1);return Lb(()=>{a.current=!0}),O.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Nb(c,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:xs([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,o,i,t])}function Mb(){let{matches:t}=O.useContext(Hs),e=t[t.length-1];return e?e.params:{}}function Md(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=O.useContext(qs),{matches:s}=O.useContext(Hs),{pathname:i}=Fi(),o=JSON.stringify(Rb(s,r.v7_relativeSplatPath));return O.useMemo(()=>Nb(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function g4(t,e){return y4(t,e)}function y4(t,e,n,r){vu()||Qe(!1);let{navigator:s}=O.useContext(qs),{matches:i}=O.useContext(Hs),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Fi(),h;if(e){var d;let b=typeof e=="string"?pa(e):e;l==="/"||(d=b.pathname)!=null&&d.startsWith(l)||Qe(!1),h=b}else h=c;let f=h.pathname||"/",v=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=HN(t,{pathname:v}),T=T4(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:xs([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:xs([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&T?O.createElement(Vd.Provider,{value:{location:Xl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:fs.Pop}},T):T}function v4(){let t=I4(),e=d4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:s},n):null,null)}const _4=O.createElement(v4,null);class w4 extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?O.createElement(Hs.Provider,{value:this.props.routeContext},O.createElement(Vb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function E4(t){let{routeContext:e,match:n,children:r}=t,s=O.useContext(Od);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(Hs.Provider,{value:e},r)}function T4(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);h>=0||Qe(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:f,errors:v}=n,w=d.route.loader&&f[d.route.id]===void 0&&(!v||v[d.route.id]===void 0);if(d.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,f)=>{let v,w=!1,T=null,b=null;n&&(v=a&&d.route.id?a[d.route.id]:void 0,T=d.route.errorElement||_4,l&&(c<0&&f===0?(w=!0,b=null):c===f&&(w=!0,b=d.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,f+1)),y=()=>{let _;return v?_=T:w?_=b:d.route.Component?_=O.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=h,O.createElement(E4,{match:d,routeContext:{outlet:h,matches:E,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?O.createElement(w4,{location:n.location,revalidation:n.revalidation,component:T,error:v,children:y(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):y()},null)}var jb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(jb||{}),Lh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Lh||{});function x4(t){let e=O.useContext(Od);return e||Qe(!1),e}function S4(t){let e=O.useContext(Ob);return e||Qe(!1),e}function b4(t){let e=O.useContext(Hs);return e||Qe(!1),e}function Fb(t){let e=b4(),n=e.matches[e.matches.length-1];return n.route.id||Qe(!1),n.route.id}function I4(){var t;let e=O.useContext(Vb),n=S4(Lh.UseRouteError),r=Fb(Lh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function P4(){let{router:t}=x4(jb.UseNavigateStable),e=Fb(Lh.UseNavigateStable),n=O.useRef(!1);return Lb(()=>{n.current=!0}),O.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Xl({fromRouteId:e},i)))},[t,e])}function Wt(t){Qe(!1)}function A4(t){let{basename:e="/",children:n=null,location:r,navigationType:s=fs.Pop,navigator:i,static:o=!1,future:a}=t;vu()&&Qe(!1);let l=e.replace(/^\/*/,"/"),c=O.useMemo(()=>({basename:l,navigator:i,static:o,future:Xl({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=pa(r));let{pathname:h="/",search:d="",hash:f="",state:v=null,key:w="default"}=r,T=O.useMemo(()=>{let b=Jo(h,l);return b==null?null:{location:{pathname:b,search:d,hash:f,state:v,key:w},navigationType:s}},[l,h,d,f,v,w,s]);return T==null?null:O.createElement(qs.Provider,{value:c},O.createElement(Vd.Provider,{children:n,value:T}))}function k4(t){let{children:e,location:n}=t;return g4(Wm(e),n)}new Promise(()=>{});function Wm(t,e){e===void 0&&(e=[]);let n=[];return O.Children.forEach(t,(r,s)=>{if(!O.isValidElement(r))return;let i=[...e,s];if(r.type===O.Fragment){n.push.apply(n,Wm(r.props.children,i));return}r.type!==Wt&&Qe(!1),!r.props.index||!r.props.children||Qe(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Wm(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mh(){return Mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mh.apply(this,arguments)}function Ub(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function C4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function R4(t,e){return t.button===0&&(!e||e==="_self")&&!C4(t)}const N4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],D4=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],O4="6";try{window.__reactRouterVersion=O4}catch{}const V4=O.createContext({isTransitioning:!1}),L4="startTransition",Rw=RC[L4];function M4(t){let{basename:e,children:n,future:r,window:s}=t,i=O.useRef();i.current==null&&(i.current=zN({window:s,v5Compat:!0}));let o=i.current,[a,l]=O.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=O.useCallback(d=>{c&&Rw?Rw(()=>l(d)):l(d)},[l,c]);return O.useLayoutEffect(()=>o.listen(h),[o,h]),O.createElement(A4,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const j4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",F4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tn=O.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:h,unstable_viewTransition:d}=e,f=Ub(e,N4),{basename:v}=O.useContext(qs),w,T=!1;if(typeof c=="string"&&F4.test(c)&&(w=c,j4))try{let _=new URL(window.location.href),k=c.startsWith("//")?new URL(_.protocol+c):new URL(c),V=Jo(k.pathname,v);k.origin===_.origin&&V!=null?c=V+k.search+k.hash:T=!0}catch{}let b=p4(c,{relative:s}),E=B4(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,unstable_viewTransition:d});function y(_){r&&r(_),_.defaultPrevented||E(_)}return O.createElement("a",Mh({},f,{href:w||b,onClick:T||i?r:y,ref:n,target:l}))}),Nw=O.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,unstable_viewTransition:c,children:h}=e,d=Ub(e,D4),f=Md(l,{relative:d.relative}),v=Fi(),w=O.useContext(Ob),{navigator:T,basename:b}=O.useContext(qs),E=w!=null&&$4(f)&&c===!0,y=T.encodeLocation?T.encodeLocation(f).pathname:f.pathname,_=v.pathname,k=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;s||(_=_.toLowerCase(),k=k?k.toLowerCase():null,y=y.toLowerCase()),k&&b&&(k=Jo(k,b)||k);const V=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let j=_===y||!o&&_.startsWith(y)&&_.charAt(V)==="/",I=k!=null&&(k===y||!o&&k.startsWith(y)&&k.charAt(y.length)==="/"),x={isActive:j,isPending:I,isTransitioning:E},P=j?r:void 0,C;typeof i=="function"?C=i(x):C=[i,j?"active":null,I?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(x):a;return O.createElement(tn,Mh({},d,{"aria-current":P,className:C,ref:n,style:D,to:l,unstable_viewTransition:c}),typeof h=="function"?h(x):h)});var qm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(qm||(qm={}));var Dw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Dw||(Dw={}));function U4(t){let e=O.useContext(Od);return e||Qe(!1),e}function B4(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Ld(),c=Fi(),h=Md(t,{relative:o});return O.useCallback(d=>{if(R4(d,n)){d.preventDefault();let f=r!==void 0?r:Oh(c)===Oh(h);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,h,r,s,n,t,i,o,a])}function $4(t,e){e===void 0&&(e={});let n=O.useContext(V4);n==null&&Qe(!1);let{basename:r}=U4(qm.useViewTransitionState),s=Md(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=Jo(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Jo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Vh(s.pathname,o)!=null||Vh(s.pathname,i)!=null}function z4(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}function jd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Hm=t=>Array.isArray(t);function Bb(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Jl(t){return typeof t=="string"||Array.isArray(t)}function Ow(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Fy(t,e,n,r){if(typeof e=="function"){const[s,i]=Ow(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=Ow(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Fd(t,e,n){const r=t.getProps();return Fy(r,e,n!==void 0?n:r.custom,t)}const Uy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],By=["initial",...Uy],_u=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ui=new Set(_u),Cr=t=>t*1e3,Rr=t=>t/1e3,W4={type:"spring",stiffness:500,damping:25,restSpeed:10},q4=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),H4={type:"keyframes",duration:.8},K4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},G4=(t,{keyframes:e})=>e.length>2?H4:Ui.has(t)?t.startsWith("scale")?q4(e[1]):W4:K4;function $y(t,e){return t?t[e]||t.default||t:void 0}const Q4={skipAnimations:!1,useManualTiming:!1},Y4=t=>t!==null;function Ud(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(Y4),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const Ft=t=>t;function X4(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){i.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,h=!1,d=!1)=>{const v=d&&r?e:n;return h&&i.add(c),v.has(c)||v.add(c),c},cancel:c=>{n.delete(c),i.delete(c)},process:c=>{if(o=c,r){s=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,s&&(s=!1,l.process(c))}};return l}const Ec=["read","resolveKeyframes","update","preRender","render","postRender"],J4=40;function $b(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Ec.reduce((E,y)=>(E[y]=X4(i),E),{}),{read:a,resolveKeyframes:l,update:c,preRender:h,render:d,postRender:f}=o,v=()=>{const E=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(E-s.timestamp,J4),1),s.timestamp=E,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),h.process(s),d.process(s),f.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(v))},w=()=>{n=!0,r=!0,s.isProcessing||t(v)};return{schedule:Ec.reduce((E,y)=>{const _=o[y];return E[y]=(k,V=!1,j=!1)=>(n||w(),_.schedule(k,V,j)),E},{}),cancel:E=>{for(let y=0;y<Ec.length;y++)o[Ec[y]].cancel(E)},state:s,steps:o}}const{schedule:Ae,cancel:Rs,state:Tt,steps:hp}=$b(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ft,!0),zb=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Z4=1e-7,eD=12;function tD(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=zb(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>Z4&&++a<eD);return o}function wu(t,e,n,r){if(t===e&&n===r)return Ft;const s=i=>tD(i,0,1,t,n);return i=>i===0||i===1?i:zb(s(i),e,r)}const Wb=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,qb=t=>e=>1-t(1-e),Hb=wu(.33,1.53,.69,.99),zy=qb(Hb),Kb=Wb(zy),Gb=t=>(t*=2)<1?.5*zy(t):.5*(2-Math.pow(2,-10*(t-1))),Wy=t=>1-Math.sin(Math.acos(t)),Qb=qb(Wy),Yb=Wb(Wy),Xb=t=>/^0[^.\s]+$/u.test(t);function nD(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Xb(t):!0}let Km=Ft;const Jb=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Zb=t=>e=>typeof e=="string"&&e.startsWith(t),eI=Zb("--"),rD=Zb("var(--"),qy=t=>rD(t)?sD.test(t.split("/*")[0].trim()):!1,sD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,iD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oD(t){const e=iD.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function tI(t,e,n=1){const[r,s]=oD(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return Jb(o)?parseFloat(o):o}return qy(s)?tI(s,e,n+1):s}const Ns=(t,e,n)=>n>e?e:n<t?t:n,ma={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Zl={...ma,transform:t=>Ns(0,1,t)},Tc={...ma,default:1},Eu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Xr=Eu("deg"),sr=Eu("%"),re=Eu("px"),aD=Eu("vh"),lD=Eu("vw"),Vw={...sr,parse:t=>sr.parse(t)/100,transform:t=>sr.transform(t*100)},uD=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Lw=t=>t===ma||t===re,Mw=(t,e)=>parseFloat(t.split(", ")[e]),jw=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Mw(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?Mw(i[1],t):0}},cD=new Set(["x","y","z"]),hD=_u.filter(t=>!cD.has(t));function dD(t){const e=[];return hD.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Zo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:jw(4,13),y:jw(5,14)};Zo.translateX=Zo.x;Zo.translateY=Zo.y;const nI=t=>e=>e.test(t),fD={test:t=>t==="auto",parse:t=>t},rI=[ma,re,sr,Xr,lD,aD,fD],Fw=t=>rI.find(nI(t)),xi=new Set;let Gm=!1,Qm=!1;function sI(){if(Qm){const t=Array.from(xi).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=dD(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Qm=!1,Gm=!1,xi.forEach(t=>t.complete()),xi.clear()}function iI(){xi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Qm=!0)})}function pD(){iI(),sI()}class Hy{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(xi.add(this),Gm||(Gm=!0,Ae.read(iI),Ae.resolveKeyframes(sI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),xi.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,xi.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const wl=t=>Math.round(t*1e5)/1e5,Ky=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function mD(t){return t==null}const gD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Gy=(t,e)=>n=>!!(typeof n=="string"&&gD.test(n)&&n.startsWith(t)||e&&!mD(n)&&Object.prototype.hasOwnProperty.call(n,e)),oI=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(Ky);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},yD=t=>Ns(0,255,t),dp={...ma,transform:t=>Math.round(yD(t))},vi={test:Gy("rgb","red"),parse:oI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+dp.transform(t)+", "+dp.transform(e)+", "+dp.transform(n)+", "+wl(Zl.transform(r))+")"};function vD(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Ym={test:Gy("#"),parse:vD,transform:vi.transform},Po={test:Gy("hsl","hue"),parse:oI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+sr.transform(wl(e))+", "+sr.transform(wl(n))+", "+wl(Zl.transform(r))+")"},Ot={test:t=>vi.test(t)||Ym.test(t)||Po.test(t),parse:t=>vi.test(t)?vi.parse(t):Po.test(t)?Po.parse(t):Ym.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vi.transform(t):Po.transform(t)},_D=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function wD(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Ky))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(_D))===null||n===void 0?void 0:n.length)||0)>0}const aI="number",lI="color",ED="var",TD="var(",Uw="${}",xD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function eu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(xD,l=>(Ot.test(l)?(r.color.push(i),s.push(lI),n.push(Ot.parse(l))):l.startsWith(TD)?(r.var.push(i),s.push(ED),n.push(l)):(r.number.push(i),s.push(aI),n.push(parseFloat(l))),++i,Uw)).split(Uw);return{values:n,split:a,indexes:r,types:s}}function uI(t){return eu(t).values}function cI(t){const{split:e,types:n}=eu(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===aI?i+=wl(s[o]):a===lI?i+=Ot.transform(s[o]):i+=s[o]}return i}}const SD=t=>typeof t=="number"?0:t;function bD(t){const e=uI(t);return cI(t)(e.map(SD))}const Ds={test:wD,parse:uI,createTransformer:cI,getAnimatableNone:bD},ID=new Set(["brightness","contrast","saturate","opacity"]);function PD(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Ky)||[];if(!r)return t;const s=n.replace(r,"");let i=ID.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const AD=/\b([a-z-]*)\(.*?\)/gu,Xm={...Ds,getAnimatableNone:t=>{const e=t.match(AD);return e?e.map(PD).join(" "):t}},kD={borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,radius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,top:re,right:re,bottom:re,left:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,backgroundPositionX:re,backgroundPositionY:re},CD={rotate:Xr,rotateX:Xr,rotateY:Xr,rotateZ:Xr,scale:Tc,scaleX:Tc,scaleY:Tc,scaleZ:Tc,skew:Xr,skewX:Xr,skewY:Xr,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:Zl,originX:Vw,originY:Vw,originZ:re},Bw={...ma,transform:Math.round},Qy={...kD,...CD,zIndex:Bw,size:re,fillOpacity:Zl,strokeOpacity:Zl,numOctaves:Bw},RD={...Qy,color:Ot,backgroundColor:Ot,outlineColor:Ot,fill:Ot,stroke:Ot,borderColor:Ot,borderTopColor:Ot,borderRightColor:Ot,borderBottomColor:Ot,borderLeftColor:Ot,filter:Xm,WebkitFilter:Xm},Yy=t=>RD[t];function hI(t,e){let n=Yy(t);return n!==Xm&&(n=Ds),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const ND=new Set(["auto","none","0"]);function DD(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!ND.has(i)&&eu(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=hI(n,s)}class dI extends Hy{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),qy(c))){const h=tI(c,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!uD.has(r)||e.length!==2)return;const[s,i]=e,o=Fw(s),a=Fw(i);if(o!==a)if(Lw(o)&&Lw(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)nD(e[s])&&r.push(s);r.length&&DD(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Zo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=Zo[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Xy(t){return typeof t=="function"}let Qc;function OD(){Qc=void 0}const ir={now:()=>(Qc===void 0&&ir.set(Tt.isProcessing||Q4.useManualTiming?Tt.timestamp:performance.now()),Qc),set:t=>{Qc=t,queueMicrotask(OD)}},$w=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ds.test(t)||t==="0")&&!t.startsWith("url("));function VD(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function LD(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=$w(s,e),a=$w(i,e);return!o||!a?!1:VD(t)||(n==="spring"||Xy(n))&&r}const MD=40;class fI{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ir.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MD?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&pD(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ir.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!LD(e,r,s,i))if(o)this.options.duration=0;else{l==null||l(Ud(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function pI(t,e){return e?t*(1e3/e):0}const jD=5;function mI(t,e,n){const r=Math.max(e-jD,0);return pI(n-t(r),e-r)}const fp=.001,FD=.01,UD=10,BD=.05,$D=1;function zD({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=Ns(BD,$D,o),t=Ns(FD,UD,Rr(t)),o<1?(s=c=>{const h=c*o,d=h*t,f=h-n,v=Jm(c,o),w=Math.exp(-d);return fp-f/v*w},i=c=>{const d=c*o*t,f=d*n+n,v=Math.pow(o,2)*Math.pow(c,2)*t,w=Math.exp(-d),T=Jm(Math.pow(c,2),o);return(-s(c)+fp>0?-1:1)*((f-v)*w)/T}):(s=c=>{const h=Math.exp(-c*t),d=(c-n)*t+1;return-fp+h*d},i=c=>{const h=Math.exp(-c*t),d=(n-c)*(t*t);return h*d});const a=5/t,l=qD(s,i,a);if(t=Cr(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const WD=12;function qD(t,e,n){let r=n;for(let s=1;s<WD;s++)r=r-t(r)/e(r);return r}function Jm(t,e){return t*Math.sqrt(1-e*e)}const HD=["duration","bounce"],KD=["stiffness","damping","mass"];function zw(t,e){return e.some(n=>t[n]!==void 0)}function GD(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!zw(t,KD)&&zw(t,HD)){const n=zD(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function gI({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:c,duration:h,velocity:d,isResolvedFromDuration:f}=GD({...r,velocity:-Rr(r.velocity||0)}),v=d||0,w=l/(2*Math.sqrt(a*c)),T=i-s,b=Rr(Math.sqrt(a/c)),E=Math.abs(T)<5;n||(n=E?.01:2),e||(e=E?.005:.5);let y;if(w<1){const _=Jm(b,w);y=k=>{const V=Math.exp(-w*b*k);return i-V*((v+w*b*T)/_*Math.sin(_*k)+T*Math.cos(_*k))}}else if(w===1)y=_=>i-Math.exp(-b*_)*(T+(v+b*T)*_);else{const _=b*Math.sqrt(w*w-1);y=k=>{const V=Math.exp(-w*b*k),j=Math.min(_*k,300);return i-V*((v+w*b*T)*Math.sinh(j)+_*T*Math.cosh(j))/_}}return{calculatedDuration:f&&h||null,next:_=>{const k=y(_);if(f)o.done=_>=h;else{let V=0;w<1&&(V=_===0?Cr(v):mI(y,_,k));const j=Math.abs(V)<=n,I=Math.abs(i-k)<=e;o.done=j&&I}return o.value=o.done?i:k,o}}}function Ww({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const d=t[0],f={done:!1,value:d},v=x=>a!==void 0&&x<a||l!==void 0&&x>l,w=x=>a===void 0?l:l===void 0||Math.abs(a-x)<Math.abs(l-x)?a:l;let T=n*e;const b=d+T,E=o===void 0?b:o(b);E!==b&&(T=E-d);const y=x=>-T*Math.exp(-x/r),_=x=>E+y(x),k=x=>{const P=y(x),C=_(x);f.done=Math.abs(P)<=c,f.value=f.done?E:C};let V,j;const I=x=>{v(f.value)&&(V=x,j=gI({keyframes:[f.value,w(f.value)],velocity:mI(_,x,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:h}))};return I(0),{calculatedDuration:null,next:x=>{let P=!1;return!j&&V===void 0&&(P=!0,k(x),I(x)),V!==void 0&&x>=V?j.next(x-V):(!P&&k(x),f)}}}const QD=wu(.42,0,1,1),YD=wu(0,0,.58,1),yI=wu(.42,0,.58,1),XD=t=>Array.isArray(t)&&typeof t[0]!="number",Jy=t=>Array.isArray(t)&&typeof t[0]=="number",qw={linear:Ft,easeIn:QD,easeInOut:yI,easeOut:YD,circIn:Wy,circInOut:Yb,circOut:Qb,backIn:zy,backInOut:Kb,backOut:Hb,anticipate:Gb},Hw=t=>{if(Jy(t)){Km(t.length===4);const[e,n,r,s]=t;return wu(e,n,r,s)}else if(typeof t=="string")return Km(qw[t]!==void 0),qw[t];return t},JD=(t,e)=>n=>e(t(n)),Nr=(...t)=>t.reduce(JD),ea=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ze=(t,e,n)=>t+(e-t)*n;function pp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ZD({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=pp(l,a,t+1/3),i=pp(l,a,t),o=pp(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function jh(t,e){return n=>n>0?e:t}const mp=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},eO=[Ym,vi,Po],tO=t=>eO.find(e=>e.test(t));function Kw(t){const e=tO(t);if(!e)return!1;let n=e.parse(t);return e===Po&&(n=ZD(n)),n}const Gw=(t,e)=>{const n=Kw(t),r=Kw(e);if(!n||!r)return jh(t,e);const s={...n};return i=>(s.red=mp(n.red,r.red,i),s.green=mp(n.green,r.green,i),s.blue=mp(n.blue,r.blue,i),s.alpha=ze(n.alpha,r.alpha,i),vi.transform(s))},Zm=new Set(["none","hidden"]);function nO(t,e){return Zm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function rO(t,e){return n=>ze(t,e,n)}function Zy(t){return typeof t=="number"?rO:typeof t=="string"?qy(t)?jh:Ot.test(t)?Gw:oO:Array.isArray(t)?vI:typeof t=="object"?Ot.test(t)?Gw:sO:jh}function vI(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>Zy(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function sO(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Zy(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function iO(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const oO=(t,e)=>{const n=Ds.createTransformer(e),r=eu(t),s=eu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Zm.has(t)&&!s.values.length||Zm.has(e)&&!r.values.length?nO(t,e):Nr(vI(iO(r,s),s.values),n):jh(t,e)};function _I(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ze(t,e,n):Zy(t)(t,e)}function aO(t,e,n){const r=[],s=n||_I,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Ft:e;a=Nr(l,a)}r.push(a)}return r}function lO(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Km(i===e.length),i===1)return()=>e[0];if(i===2&&t[0]===t[1])return()=>e[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=aO(e,r,s),a=o.length,l=c=>{let h=0;if(a>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const d=ea(t[h],t[h+1],c);return o[h](d)};return n?c=>l(Ns(t[0],t[i-1],c)):l}function uO(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=ea(0,e,r);t.push(ze(n,1,s))}}function cO(t){const e=[0];return uO(e,t.length-1),e}function hO(t,e){return t.map(n=>n*e)}function dO(t,e){return t.map(()=>e||yI).splice(0,t.length-1)}function Fh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=XD(r)?r.map(Hw):Hw(r),i={done:!1,value:e[0]},o=hO(n&&n.length===e.length?n:cO(e),t),a=lO(o,e,{ease:Array.isArray(s)?s:dO(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const Qw=2e4;function fO(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Qw;)e+=n,r=t.next(e);return e>=Qw?1/0:e}const pO=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ae.update(e,!0),stop:()=>Rs(e),now:()=>Tt.isProcessing?Tt.timestamp:ir.now()}},mO={decay:Ww,inertia:Ww,tween:Fh,keyframes:Fh,spring:gI},gO=t=>t/100;class ev extends fI{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||Hy,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=Xy(n)?n:mO[n]||Fh;let l,c;a!==Fh&&typeof e[0]!="number"&&(l=Nr(gO,_I(e[0],e[1])),e=[0,100]);const h=a({...this.options,keyframes:e});i==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=fO(h));const{calculatedDuration:d}=h,f=d+s,v=f*(r+1)-s;return{generator:h,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:v}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:x}=this.options;return{done:!0,value:x[x.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:h,resolvedDuration:d}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:v,repeatType:w,repeatDelay:T,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const E=this.currentTime-f*(this.speed>=0?1:-1),y=this.speed>=0?E<0:E>h;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let _=this.currentTime,k=i;if(v){const x=Math.min(this.currentTime,h)/d;let P=Math.floor(x),C=x%1;!C&&x>=1&&(C=1),C===1&&P--,P=Math.min(P,v+1),!!(P%2)&&(w==="reverse"?(C=1-C,T&&(C-=T/d)):w==="mirror"&&(k=o)),_=Ns(0,1,C)*d}const V=y?{done:!1,value:l[0]}:k.next(_);a&&(V.value=a(V.value));let{done:j}=V;!y&&c!==null&&(j=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return I&&s!==void 0&&(V.value=Ud(l,this.options,s)),b&&b(V.value),I&&this.finish(),V}get duration(){const{resolved:e}=this;return e?Rr(e.calculatedDuration):0}get time(){return Rr(this.currentTime)}set time(e){e=Cr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Rr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=pO,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const yO=new Set(["opacity","clipPath","filter","transform"]),vO=10,_O=(t,e)=>{let n="";const r=Math.max(Math.round(e/vO),2);for(let s=0;s<r;s++)n+=t(ea(0,r-1,s))+", ";return`linear(${n.substring(0,n.length-2)})`};function tv(t){let e;return()=>(e===void 0&&(e=t()),e)}const wO={linearEasing:void 0};function EO(t,e){const n=tv(t);return()=>{var r;return(r=wO[e])!==null&&r!==void 0?r:n()}}const Uh=EO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function wI(t){return!!(typeof t=="function"&&Uh()||!t||typeof t=="string"&&(t in eg||Uh())||Jy(t)||Array.isArray(t)&&t.every(wI))}const il=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,eg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:il([0,.65,.55,1]),circOut:il([.55,0,1,.45]),backIn:il([.31,.01,.66,-.59]),backOut:il([.33,1.53,.69,.99])};function EI(t,e){if(t)return typeof t=="function"&&Uh()?_O(t,e):Jy(t)?il(t):Array.isArray(t)?t.map(n=>EI(n,e)||eg.easeOut):eg[t]}function TO(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const h=EI(a,s);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function Yw(t,e){t.timeline=e,t.onfinish=null}const xO=tv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Bh=10,SO=2e4;function bO(t){return Xy(t.type)||t.type==="spring"||!wI(t.ease)}function IO(t,e){const n=new ev({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<SO;)r=n.sample(i),s.push(r.value),i+=Bh;return{times:void 0,keyframes:s,duration:i-Bh,ease:"linear"}}const TI={anticipate:Gb,backInOut:Kb,circInOut:Yb};function PO(t){return t in TI}class Xw extends fI{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new dI(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:s=300,times:i,ease:o,type:a,motionValue:l,name:c,startTime:h}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&Uh()&&PO(o)&&(o=TI[o]),bO(this.options)){const{onComplete:f,onUpdate:v,motionValue:w,element:T,...b}=this.options,E=IO(e,b);e=E.keyframes,e.length===1&&(e[1]=e[0]),s=E.duration,i=E.times,o=E.ease,a="keyframes"}const d=TO(l.owner.current,c,e,{...this.options,duration:s,times:i,ease:o});return d.startTime=h??this.calcStartTime(),this.pendingTimeline?(Yw(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set(Ud(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:s,times:i,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Rr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Rr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Cr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Ft;const{animation:r}=n;Yw(r,e)}return Ft}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:h,onComplete:d,element:f,...v}=this.options,w=new ev({...v,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),T=Cr(this.time);c.setWithVelocity(w.sample(T-Bh).value,w.sample(T).value,Bh)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=e;return xO()&&r&&yO.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const AO=tv(()=>window.ScrollTimeline!==void 0);class kO{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>AO()&&s.attachTimeline?s.attachTimeline(e):n(s));return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function CO({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}const nv=(t,e,n,r={},s,i)=>o=>{const a=$y(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Cr(l);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};CO(a)||(h={...h,...G4(t,h)}),h.duration&&(h.duration=Cr(h.duration)),h.repeatDelay&&(h.repeatDelay=Cr(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(d=!0)),d&&!i&&e.get()!==void 0){const f=Ud(h.keyframes,a);if(f!==void 0)return Ae.update(()=>{h.onUpdate(f),h.onComplete()}),new kO([])}return!i&&Xw.supports(h)?new Xw(h):new ev(h)},RO=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),NO=t=>Hm(t)?t[t.length-1]||0:t;function rv(t,e){t.indexOf(e)===-1&&t.push(e)}function sv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class iv{constructor(){this.subscriptions=[]}add(e){return rv(this.subscriptions,e),()=>sv(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Jw=30,DO=t=>!isNaN(parseFloat(t));class OO{constructor(e,n={}){this.version="11.11.11",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=ir.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ir.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=DO(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new iv);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ae.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ir.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Jw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Jw);return pI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function tu(t,e){return new OO(t,e)}function VO(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,tu(n))}function LO(t,e){const n=Fd(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=NO(i[o]);VO(t,o,a)}}const ov=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),MO="framerAppearId",xI="data-"+ov(MO);function SI(t){return t.props[xI]}const jt=t=>!!(t&&t.getVelocity);function jO(t){return!!(jt(t)&&t.add)}function tg(t,e){const n=t.getValue("willChange");if(jO(n))return n.add(e)}function FO({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function bI(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const d in l){const f=t.getValue(d,(i=t.latestValues[d])!==null&&i!==void 0?i:null),v=l[d];if(v===void 0||h&&FO(h,d))continue;const w={delay:n,...$y(o||{},d)};let T=!1;if(window.MotionHandoffAnimation){const E=SI(t);if(E){const y=window.MotionHandoffAnimation(E,d,Ae);y!==null&&(w.startTime=y,T=!0)}}tg(t,d),f.start(nv(d,f,v,t.shouldReduceMotion&&Ui.has(d)?{type:!1}:w,t,T));const b=f.animation;b&&c.push(b)}return a&&Promise.all(c).then(()=>{Ae.update(()=>{a&&LO(t,a)})}),c}function ng(t,e,n={}){var r;const s=Fd(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(bI(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:f}=i;return UO(t,e,h+c,d,f,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,h]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function UO(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(BO).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(ng(c,e,{...i,delay:n+l(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function BO(t,e){return t.sortNodePosition(e)}function $O(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>ng(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=ng(t,e,n);else{const s=typeof e=="function"?Fd(t,e,n.custom):e;r=Promise.all(bI(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const zO=By.length;function II(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?II(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<zO;n++){const r=By[n],s=t.props[r];(Jl(s)||s===!1)&&(e[r]=s)}return e}const WO=[...Uy].reverse(),qO=Uy.length;function HO(t){return e=>Promise.all(e.map(({animation:n,options:r})=>$O(t,n,r)))}function KO(t){let e=HO(t),n=Zw(),r=!0;const s=l=>(c,h)=>{var d;const f=Fd(t,h,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:v,transitionEnd:w,...T}=f;c={...c,...T,...w}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,h=II(t.parent)||{},d=[],f=new Set;let v={},w=1/0;for(let b=0;b<qO;b++){const E=WO[b],y=n[E],_=c[E]!==void 0?c[E]:h[E],k=Jl(_),V=E===l?y.isActive:null;V===!1&&(w=b);let j=_===h[E]&&_!==c[E]&&k;if(j&&r&&t.manuallyAnimateOnMount&&(j=!1),y.protectedKeys={...v},!y.isActive&&V===null||!_&&!y.prevProp||jd(_)||typeof _=="boolean")continue;const I=GO(y.prevProp,_);let x=I||E===l&&y.isActive&&!j&&k||b>w&&k,P=!1;const C=Array.isArray(_)?_:[_];let D=C.reduce(s(E),{});V===!1&&(D={});const{prevResolvedValues:N={}}=y,A={...N,...D},ye=ce=>{x=!0,f.has(ce)&&(P=!0,f.delete(ce)),y.needsAnimating[ce]=!0;const q=t.getValue(ce);q&&(q.liveStyle=!1)};for(const ce in A){const q=D[ce],Z=N[ce];if(v.hasOwnProperty(ce))continue;let ne=!1;Hm(q)&&Hm(Z)?ne=!Bb(q,Z):ne=q!==Z,ne?q!=null?ye(ce):f.add(ce):q!==void 0&&f.has(ce)?ye(ce):y.protectedKeys[ce]=!0}y.prevProp=_,y.prevResolvedValues=D,y.isActive&&(v={...v,...D}),r&&t.blockInitialAnimation&&(x=!1),x&&(!(j&&I)||P)&&d.push(...C.map(ce=>({animation:ce,options:{type:E}})))}if(f.size){const b={};f.forEach(E=>{const y=t.getBaseTarget(E),_=t.getValue(E);_&&(_.liveStyle=!0),b[E]=y??null}),d.push({animation:b})}let T=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(T=!1),r=!1,T?e(d):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(f=>{var v;return(v=f.animationState)===null||v===void 0?void 0:v.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Zw(),r=!0}}}function GO(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Bb(e,t):!1}function si(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Zw(){return{animate:si(!0),whileInView:si(),whileHover:si(),whileTap:si(),whileDrag:si(),whileFocus:si(),exit:si()}}class Ks{constructor(e){this.isMounted=!1,this.node=e}update(){}}class QO extends Ks{constructor(e){super(e),e.animationState||(e.animationState=KO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let YO=0;class XO extends Ks{constructor(){super(...arguments),this.id=YO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const JO={animation:{Feature:QO},exit:{Feature:XO}},PI=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Bd(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const ZO=t=>e=>PI(e)&&t(e,Bd(e));function br(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Dr(t,e,n,r){return br(t,e,ZO(n),r)}const e1=(t,e)=>Math.abs(t-e);function eV(t,e){const n=e1(t.x,e.x),r=e1(t.y,e.y);return Math.sqrt(n**2+r**2)}class AI{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=yp(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,v=eV(d.offset,{x:0,y:0})>=3;if(!f&&!v)return;const{point:w}=d,{timestamp:T}=Tt;this.history.push({...w,timestamp:T});const{onStart:b,onMove:E}=this.handlers;f||(b&&b(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=gp(f,this.transformPagePoint),Ae.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:v,onSessionEnd:w,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=yp(d.type==="pointercancel"?this.lastMoveEventInfo:gp(f,this.transformPagePoint),this.history);this.startEvent&&v&&v(d,b),w&&w(d,b)},!PI(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Bd(e),a=gp(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Tt;this.history=[{...l,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,yp(a,this.history)),this.removeListeners=Nr(Dr(this.contextWindow,"pointermove",this.handlePointerMove),Dr(this.contextWindow,"pointerup",this.handlePointerUp),Dr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Rs(this.updatePoint)}}function gp(t,e){return e?{point:e(t.point)}:t}function t1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function yp({point:t},e){return{point:t,delta:t1(t,kI(e)),offset:t1(t,tV(e)),velocity:nV(e,.1)}}function tV(t){return t[0]}function kI(t){return t[t.length-1]}function nV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=kI(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Cr(e)));)n--;if(!r)return{x:0,y:0};const i=Rr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function CI(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const n1=CI("dragHorizontal"),r1=CI("dragVertical");function RI(t){let e=!1;if(t==="y")e=r1();else if(t==="x")e=n1();else{const n=n1(),r=r1();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function NI(){const t=RI(!0);return t?(t(),!1):!0}function Ao(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const DI=1e-4,rV=1-DI,sV=1+DI,OI=.01,iV=0-OI,oV=0+OI;function gn(t){return t.max-t.min}function aV(t,e,n){return Math.abs(t-e)<=n}function s1(t,e,n,r=.5){t.origin=r,t.originPoint=ze(e.min,e.max,t.origin),t.scale=gn(n)/gn(e),t.translate=ze(n.min,n.max,t.origin)-t.originPoint,(t.scale>=rV&&t.scale<=sV||isNaN(t.scale))&&(t.scale=1),(t.translate>=iV&&t.translate<=oV||isNaN(t.translate))&&(t.translate=0)}function El(t,e,n,r){s1(t.x,e.x,n.x,r?r.originX:void 0),s1(t.y,e.y,n.y,r?r.originY:void 0)}function i1(t,e,n){t.min=n.min+e.min,t.max=t.min+gn(e)}function lV(t,e,n){i1(t.x,e.x,n.x),i1(t.y,e.y,n.y)}function o1(t,e,n){t.min=e.min-n.min,t.max=t.min+gn(e)}function Tl(t,e,n){o1(t.x,e.x,n.x),o1(t.y,e.y,n.y)}function uV(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ze(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ze(n,t,r.max):Math.min(t,n)),t}function a1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function cV(t,{top:e,left:n,bottom:r,right:s}){return{x:a1(t.x,n,s),y:a1(t.y,e,r)}}function l1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function hV(t,e){return{x:l1(t.x,e.x),y:l1(t.y,e.y)}}function dV(t,e){let n=.5;const r=gn(t),s=gn(e);return s>r?n=ea(e.min,e.max-r,t.min):r>s&&(n=ea(t.min,t.max-s,e.min)),Ns(0,1,n)}function fV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const rg=.35;function pV(t=rg){return t===!1?t=0:t===!0&&(t=rg),{x:u1(t,"left","right"),y:u1(t,"top","bottom")}}function u1(t,e,n){return{min:c1(t,e),max:c1(t,n)}}function c1(t,e){return typeof t=="number"?t:t[e]||0}const h1=()=>({translate:0,scale:1,origin:0,originPoint:0}),ko=()=>({x:h1(),y:h1()}),d1=()=>({min:0,max:0}),Je=()=>({x:d1(),y:d1()});function Sn(t){return[t("x"),t("y")]}function VI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function mV({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function gV(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function vp(t){return t===void 0||t===1}function sg({scale:t,scaleX:e,scaleY:n}){return!vp(t)||!vp(e)||!vp(n)}function ui(t){return sg(t)||LI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function LI(t){return f1(t.x)||f1(t.y)}function f1(t){return t&&t!=="0%"}function $h(t,e,n){const r=t-n,s=e*r;return n+s}function p1(t,e,n,r,s){return s!==void 0&&(t=$h(t,s,r)),$h(t,n,r)+e}function ig(t,e=0,n=1,r,s){t.min=p1(t.min,e,n,r,s),t.max=p1(t.max,e,n,r,s)}function MI(t,{x:e,y:n}){ig(t.x,e.translate,e.scale,e.originPoint),ig(t.y,n.translate,n.scale,n.originPoint)}const m1=.999999999999,g1=1.0000000000001;function yV(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ro(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,MI(t,o)),r&&ui(i.latestValues)&&Ro(t,i.latestValues))}e.x<g1&&e.x>m1&&(e.x=1),e.y<g1&&e.y>m1&&(e.y=1)}function Co(t,e){t.min=t.min+e,t.max=t.max+e}function y1(t,e,n,r,s=.5){const i=ze(t.min,t.max,s);ig(t,e,n,i,r)}function Ro(t,e){y1(t.x,e.x,e.scaleX,e.scale,e.originX),y1(t.y,e.y,e.scaleY,e.scale,e.originY)}function jI(t,e){return VI(gV(t.getBoundingClientRect(),e))}function vV(t,e,n){const r=jI(t,n),{scroll:s}=e;return s&&(Co(r.x,s.offset.x),Co(r.y,s.offset.y)),r}const FI=({current:t})=>t?t.ownerDocument.defaultView:null,_V=new WeakMap;class wV{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Je(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Bd(h,"page").point)},i=(h,d)=>{const{drag:f,dragPropagation:v,onDragStart:w}=this.getProps();if(f&&!v&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=RI(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Sn(b=>{let E=this.getAxisMotionValue(b).get()||0;if(sr.test(E)){const{projection:y}=this.visualElement;if(y&&y.layout){const _=y.layout.layoutBox[b];_&&(E=gn(_)*(parseFloat(E)/100))}}this.originPoint[b]=E}),w&&Ae.postRender(()=>w(h,d)),tg(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},o=(h,d)=>{const{dragPropagation:f,dragDirectionLock:v,onDirectionLock:w,onDrag:T}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:b}=d;if(v&&this.currentDirection===null){this.currentDirection=EV(b),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",d.point,b),this.updateAxis("y",d.point,b),this.visualElement.render(),T&&T(h,d)},a=(h,d)=>this.stop(h,d),l=()=>Sn(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new AI(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:FI(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Ae.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!xc(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=uV(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Ao(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=cV(s.layoutBox,n):this.constraints=!1,this.elastic=pV(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Sn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=fV(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ao(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=vV(r,s.root,this.visualElement.getTransformPagePoint());let o=hV(s.layout.layoutBox,i);if(n){const a=n(mV(o));this.hasMutatedConstraints=!!a,a&&(o=VI(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Sn(h=>{if(!xc(h,n,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const f=s?200:1e6,v=s?40:1e7,w={type:"inertia",velocity:r?e[h]:0,bounceStiffness:f,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(h,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return tg(this.visualElement,e),r.start(nv(e,r,0,n,this.visualElement,!1))}stopAnimation(){Sn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Sn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Sn(n=>{const{drag:r}=this.getProps();if(!xc(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-ze(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ao(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Sn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=dV({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Sn(o=>{if(!xc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(ze(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;_V.set(this.visualElement,this);const e=this.visualElement.current,n=Dr(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ao(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ae.read(r);const o=br(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Sn(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=rg,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function xc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function EV(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class TV extends Ks{constructor(e){super(e),this.removeGroupControls=Ft,this.removeListeners=Ft,this.controls=new wV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ft}unmount(){this.removeGroupControls(),this.removeListeners()}}const v1=t=>(e,n)=>{t&&Ae.postRender(()=>t(e,n))};class xV extends Ks{constructor(){super(...arguments),this.removePointerDownListener=Ft}onPointerDown(e){this.session=new AI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:FI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:v1(e),onStart:v1(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Ae.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Dr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const $d=O.createContext(null);function SV(){const t=O.useContext($d);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=O.useId();O.useEffect(()=>r(s),[]);const i=O.useCallback(()=>n&&n(s),[s,n]);return!e&&n?[!1,i]:[!0]}const av=O.createContext({}),UI=O.createContext({}),Yc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ga={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(re.test(t))t=parseFloat(t);else return t;const n=_1(t,e.target.x),r=_1(t,e.target.y);return`${n}% ${r}%`}},bV={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Ds.parse(t);if(s.length>5)return r;const i=Ds.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=ze(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}},zh={};function IV(t){Object.assign(zh,t)}const{schedule:lv,cancel:fW}=$b(queueMicrotask,!1);class PV extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;IV(AV),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Yc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Ae.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),lv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function BI(t){const[e,n]=SV(),r=O.useContext(av);return g.jsx(PV,{...t,layoutGroup:r,switchLayoutGroup:O.useContext(UI),isPresent:e,safeToRemove:n})}const AV={borderRadius:{...Ga,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ga,borderTopRightRadius:Ga,borderBottomLeftRadius:Ga,borderBottomRightRadius:Ga,boxShadow:bV},$I=["TopLeft","TopRight","BottomLeft","BottomRight"],kV=$I.length,w1=t=>typeof t=="string"?parseFloat(t):t,E1=t=>typeof t=="number"||re.test(t);function CV(t,e,n,r,s,i){s?(t.opacity=ze(0,n.opacity!==void 0?n.opacity:1,RV(r)),t.opacityExit=ze(e.opacity!==void 0?e.opacity:1,0,NV(r))):i&&(t.opacity=ze(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<kV;o++){const a=`border${$I[o]}Radius`;let l=T1(e,a),c=T1(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||E1(l)===E1(c)?(t[a]=Math.max(ze(w1(l),w1(c),r),0),(sr.test(c)||sr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=ze(e.rotate||0,n.rotate||0,r))}function T1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const RV=zI(0,.5,Qb),NV=zI(.5,.95,Ft);function zI(t,e,n){return r=>r<t?0:r>e?1:n(ea(t,e,r))}function x1(t,e){t.min=e.min,t.max=e.max}function Tn(t,e){x1(t.x,e.x),x1(t.y,e.y)}function S1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function b1(t,e,n,r,s){return t-=e,t=$h(t,1/n,r),s!==void 0&&(t=$h(t,1/s,r)),t}function DV(t,e=0,n=1,r=.5,s,i=t,o=t){if(sr.test(e)&&(e=parseFloat(e),e=ze(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ze(i.min,i.max,r);t===i&&(a-=e),t.min=b1(t.min,e,n,a,s),t.max=b1(t.max,e,n,a,s)}function I1(t,e,[n,r,s],i,o){DV(t,e[n],e[r],e[s],e.scale,i,o)}const OV=["x","scaleX","originX"],VV=["y","scaleY","originY"];function P1(t,e,n,r){I1(t.x,e,OV,n?n.x:void 0,r?r.x:void 0),I1(t.y,e,VV,n?n.y:void 0,r?r.y:void 0)}function A1(t){return t.translate===0&&t.scale===1}function WI(t){return A1(t.x)&&A1(t.y)}function k1(t,e){return t.min===e.min&&t.max===e.max}function LV(t,e){return k1(t.x,e.x)&&k1(t.y,e.y)}function C1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function qI(t,e){return C1(t.x,e.x)&&C1(t.y,e.y)}function R1(t){return gn(t.x)/gn(t.y)}function N1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class MV{constructor(){this.members=[]}add(e){rv(this.members,e),e.scheduleRender()}remove(e){if(sv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jV(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:d,rotateY:f,skewX:v,skewY:w}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),v&&(r+=`skewX(${v}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const FV=(t,e)=>t.depth-e.depth;class UV{constructor(){this.children=[],this.isDirty=!1}add(e){rv(this.children,e),this.isDirty=!0}remove(e){sv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(FV),this.isDirty=!1,this.children.forEach(e)}}function Xc(t){const e=jt(t)?t.get():t;return RO(e)?e.toValue():e}function BV(t,e){const n=ir.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Rs(r),t(i-e))};return Ae.read(r,!0),()=>Rs(r)}function $V(t){return t instanceof SVGElement&&t.tagName!=="svg"}function zV(t,e,n){const r=jt(t)?t:tu(t);return r.start(nv("",r,e,n)),r.animation}const ci={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ol=typeof window<"u"&&window.MotionDebug!==void 0,_p=["","X","Y","Z"],WV={visibility:"hidden"},D1=1e3;let qV=0;function wp(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function HI(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=SI(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ae,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&HI(r)}function KI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=qV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ol&&(ci.totalNodes=ci.resolvedTargetDeltas=ci.recalculatedProjection=0),this.nodes.forEach(GV),this.nodes.forEach(ZV),this.nodes.forEach(eL),this.nodes.forEach(QV),ol&&window.MotionDebug.record(ci)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new UV)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new iv),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=$V(o),this.instance=o;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=BV(f,250),Yc.hasAnimatedSinceResize&&(Yc.hasAnimatedSinceResize=!1,this.nodes.forEach(V1))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:v,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||h.getDefaultTransition()||iL,{onLayoutAnimationStart:b,onLayoutAnimationComplete:E}=h.getProps(),y=!this.targetLayout||!qI(this.targetLayout,w)||v,_=!f&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,_);const k={...$y(T,"layout"),onPlay:b,onComplete:E};(h.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else f||V1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Rs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tL),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&HI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(O1);return}this.isUpdating||this.nodes.forEach(XV),this.isUpdating=!1,this.nodes.forEach(JV),this.nodes.forEach(HV),this.nodes.forEach(KV),this.clearAllSnapshots();const a=ir.now();Tt.delta=Ns(0,1e3/60,a-Tt.timestamp),Tt.timestamp=a,Tt.isProcessing=!0,hp.update.process(Tt),hp.preRender.process(Tt),hp.render.process(Tt),Tt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,lv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(YV),this.sharedNodes.forEach(nL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Je(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!WI(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||ui(this.latestValues)||h)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),oL(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Je();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(aL))){const{scroll:h}=this.root;h&&(Co(l.x,h.offset.x),Co(l.y,h.offset.y))}return l}removeElementScroll(o){var a;const l=Je();if(Tn(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:d,options:f}=h;h!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Tn(l,o),Co(l.x,d.offset.x),Co(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=Je();Tn(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Ro(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),ui(h.latestValues)&&Ro(l,h.latestValues)}return ui(this.latestValues)&&Ro(l,this.latestValues),l}removeTransform(o){const a=Je();Tn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ui(c.latestValues))continue;sg(c.latestValues)&&c.updateSnapshot();const h=Je(),d=c.measurePageBox();Tn(h,d),P1(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return ui(this.latestValues)&&P1(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Tt.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Je(),this.relativeTargetOrigin=Je(),Tl(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Je(),this.targetWithTransforms=Je()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Tn(this.target,this.layout.layoutBox),MI(this.target,this.targetDelta)):Tn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Je(),this.relativeTargetOrigin=Je(),Tl(this.relativeTargetOrigin,this.target,v.target),Tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ol&&ci.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||sg(this.parent.latestValues)||LI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Tt.timestamp&&(c=!1),c)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;Tn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,v=this.treeScale.y;yV(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Je());const{target:w}=a;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(S1(this.prevProjectionDelta.x,this.projectionDelta.x),S1(this.prevProjectionDelta.y,this.projectionDelta.y)),El(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==v||!N1(this.projectionDelta.x,this.prevProjectionDelta.x)||!N1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),ol&&ci.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ko(),this.projectionDelta=ko(),this.projectionDeltaWithTransform=ko()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},d=ko();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Je(),v=l?l.source:void 0,w=this.layout?this.layout.source:void 0,T=v!==w,b=this.getStack(),E=!b||b.members.length<=1,y=!!(T&&!E&&this.options.crossfade===!0&&!this.path.some(sL));this.animationProgress=0;let _;this.mixTargetDelta=k=>{const V=k/1e3;L1(d.x,o.x,V),L1(d.y,o.y,V),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tl(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rL(this.relativeTarget,this.relativeTargetOrigin,f,V),_&&LV(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Je()),Tn(_,this.relativeTarget)),T&&(this.animationValues=h,CV(h,c,this.latestValues,V,y,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Rs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ae.update(()=>{Yc.hasAnimatedSinceResize=!0,this.currentAnimation=zV(0,D1,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(D1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&GI(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Je();const d=gn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=gn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Tn(a,l),Ro(a,h),El(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new MV),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&wp("z",o,c,this.animationValues);for(let h=0;h<_p.length;h++)wp(`rotate${_p[h]}`,o,c,this.animationValues),wp(`skew${_p[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return WV;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Xc(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=Xc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ui(this.latestValues)&&(T.transform=h?h({},""):"none",this.hasProjected=!1),T}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=jV(this.projectionDeltaWithTransform,this.treeScale,f),h&&(c.transform=h(f,c.transform));const{x:v,y:w}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${w.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const T in zh){if(f[T]===void 0)continue;const{correct:b,applyTo:E}=zh[T],y=c.transform==="none"?f[T]:b(f[T],d);if(E){const _=E.length;for(let k=0;k<_;k++)c[E[k]]=y}else c[T]=y}return this.options.layoutId&&(c.pointerEvents=d===this?Xc(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(O1),this.root.sharedNodes.clear()}}}function HV(t){t.updateLayout()}function KV(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?Sn(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],v=gn(f);f.min=r[d].min,f.max=f.min+v}):GI(i,n.layoutBox,r)&&Sn(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],v=gn(r[d]);f.max=f.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+v)});const a=ko();El(a,r,n.layoutBox);const l=ko();o?El(l,t.applyTransform(s,!0),n.measuredBox):El(l,r,n.layoutBox);const c=!WI(a);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:v}=d;if(f&&v){const w=Je();Tl(w,n.layoutBox,f.layoutBox);const T=Je();Tl(T,r,v.layoutBox),qI(w,T)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=w,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function GV(t){ol&&ci.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function QV(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function YV(t){t.clearSnapshot()}function O1(t){t.clearMeasurements()}function XV(t){t.isLayoutDirty=!1}function JV(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function V1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ZV(t){t.resolveTargetDelta()}function eL(t){t.calcProjection()}function tL(t){t.resetSkewAndRotation()}function nL(t){t.removeLeadSnapshot()}function L1(t,e,n){t.translate=ze(e.translate,0,n),t.scale=ze(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function M1(t,e,n,r){t.min=ze(e.min,n.min,r),t.max=ze(e.max,n.max,r)}function rL(t,e,n,r){M1(t.x,e.x,n.x,r),M1(t.y,e.y,n.y,r)}function sL(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const iL={duration:.45,ease:[.4,0,.1,1]},j1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),F1=j1("applewebkit/")&&!j1("chrome/")?Math.round:Ft;function U1(t){t.min=F1(t.min),t.max=F1(t.max)}function oL(t){U1(t.x),U1(t.y)}function GI(t,e,n){return t==="position"||t==="preserve-aspect"&&!aV(R1(e),R1(n),.2)}function aL(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const lL=KI({attachResizeListener:(t,e)=>br(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ep={current:void 0},QI=KI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ep.current){const t=new lL({});t.mount(window),t.setOptions({layoutScroll:!0}),Ep.current=t}return Ep.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),uL={pan:{Feature:xV},drag:{Feature:TV,ProjectionNode:QI,MeasureLayout:BI}};function B1(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",s=(i,o)=>{if(i.pointerType==="touch"||NI())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&Ae.postRender(()=>l(i,o))};return Dr(t.current,n,s,{passive:!t.getProps()[r]})}class cL extends Ks{mount(){this.unmount=Nr(B1(this.node,!0),B1(this.node,!1))}unmount(){}}class hL extends Ks{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nr(br(this.node.current,"focus",()=>this.onFocus()),br(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const YI=(t,e)=>e?t===e?!0:YI(t,e.parentElement):!1;function Tp(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Bd(n))}class dL extends Ks{constructor(){super(...arguments),this.removeStartListeners=Ft,this.removeEndListeners=Ft,this.removeAccessibleListeners=Ft,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Dr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:h,globalTapTarget:d}=this.node.getProps(),f=!d&&!YI(this.node.current,a.target)?h:c;f&&Ae.update(()=>f(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=Dr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Nr(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Tp("up",(l,c)=>{const{onTap:h}=this.node.getProps();h&&Ae.postRender(()=>h(l,c))})};this.removeEndListeners(),this.removeEndListeners=br(this.node.current,"keyup",o),Tp("down",(a,l)=>{this.startPress(a,l)})},n=br(this.node.current,"keydown",e),r=()=>{this.isPressing&&Tp("cancel",(i,o)=>this.cancelPress(i,o))},s=br(this.node.current,"blur",r);this.removeAccessibleListeners=Nr(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ae.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!NI()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ae.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Dr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=br(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Nr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const og=new WeakMap,xp=new WeakMap,fL=t=>{const e=og.get(t.target);e&&e(t)},pL=t=>{t.forEach(fL)};function mL({root:t,...e}){const n=t||document;xp.has(n)||xp.set(n,{});const r=xp.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(pL,{root:t,...e})),r[s]}function gL(t,e,n){const r=mL(e);return og.set(t,n),r.observe(t),()=>{og.delete(t),r.unobserve(t)}}const yL={some:0,all:1};class vL extends Ks{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:yL[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),f=c?h:d;f&&f(l)};return gL(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(_L(e,n))&&this.startObserver()}unmount(){}}function _L({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const wL={inView:{Feature:vL},tap:{Feature:dL},focus:{Feature:hL},hover:{Feature:cL}},EL={layout:{ProjectionNode:QI,MeasureLayout:BI}},uv=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),zd=O.createContext({}),cv=typeof window<"u",XI=cv?O.useLayoutEffect:O.useEffect,JI=O.createContext({strict:!1});function TL(t,e,n,r,s){var i,o;const{visualElement:a}=O.useContext(zd),l=O.useContext(JI),c=O.useContext($d),h=O.useContext(uv).reducedMotion,d=O.useRef();r=r||l.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const f=d.current,v=O.useContext(UI);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&xL(d.current,n,s,v);const w=O.useRef(!1);O.useInsertionEffect(()=>{f&&w.current&&f.update(n,c)});const T=n[xI],b=O.useRef(!!T&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,T))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,T)));return XI(()=>{f&&(w.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),lv.render(f.render),b.current&&f.animationState&&f.animationState.animateChanges())}),O.useEffect(()=>{f&&(!b.current&&f.animationState&&f.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)===null||E===void 0||E.call(window,T)}),b.current=!1))}),f}function xL(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ZI(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Ao(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function ZI(t){if(t)return t.options.allowProjection!==!1?t.projection:ZI(t.parent)}function SL(t,e,n){return O.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ao(n)&&(n.current=r))},[e])}function Wd(t){return jd(t.animate)||By.some(e=>Jl(t[e]))}function eP(t){return!!(Wd(t)||t.variants)}function bL(t,e){if(Wd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Jl(n)?n:void 0,animate:Jl(r)?r:void 0}}return t.inherit!==!1?e:{}}function IL(t){const{initial:e,animate:n}=bL(t,O.useContext(zd));return O.useMemo(()=>({initial:e,animate:n}),[$1(e),$1(n)])}function $1(t){return Array.isArray(t)?t.join(" "):t}const z1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ta={};for(const t in z1)ta[t]={isEnabled:e=>z1[t].some(n=>!!e[n])};function PL(t){for(const e in t)ta[e]={...ta[e],...t[e]}}const AL=Symbol.for("motionComponentSymbol");function kL({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&PL(t);function i(a,l){let c;const h={...O.useContext(uv),...a,layoutId:CL(a)},{isStatic:d}=h,f=IL(a),v=r(a,d);if(!d&&cv){RL();const w=NL(h);c=w.MeasureLayout,f.visualElement=TL(s,v,h,e,w.ProjectionNode)}return g.jsxs(zd.Provider,{value:f,children:[c&&f.visualElement?g.jsx(c,{visualElement:f.visualElement,...h}):null,n(s,a,SL(v,f.visualElement,l),v,d,f.visualElement)]})}const o=O.forwardRef(i);return o[AL]=s,o}function CL({layoutId:t}){const e=O.useContext(av).id;return e&&t!==void 0?e+"-"+t:t}function RL(t,e){O.useContext(JI).strict}function NL(t){const{drag:e,layout:n}=ta;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const DL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hv(t){return typeof t!="string"||t.includes("-")?!1:!!(DL.indexOf(t)>-1||/[A-Z]/u.test(t))}function tP(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const nP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function rP(t,e,n,r){tP(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(nP.has(s)?s:ov(s),e.attrs[s])}function sP(t,{layout:e,layoutId:n}){return Ui.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!zh[t]||t==="opacity")}function dv(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(jt(s[o])||e.style&&jt(e.style[o])||sP(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function iP(t,e,n){const r=dv(t,e,n);for(const s in t)if(jt(t[s])||jt(e[s])){const i=_u.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function fv(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}function OL({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const o={latestValues:VL(r,s,i,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const oP=t=>(e,n)=>{const r=O.useContext(zd),s=O.useContext($d),i=()=>OL(t,e,r,s);return n?i():fv(i)};function VL(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=Xc(i[f]);let{initial:o,animate:a}=t;const l=Wd(t),c=eP(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const d=h?a:o;if(d&&typeof d!="boolean"&&!jd(d)){const f=Array.isArray(d)?d:[d];for(let v=0;v<f.length;v++){const w=Fy(t,f[v]);if(w){const{transitionEnd:T,transition:b,...E}=w;for(const y in E){let _=E[y];if(Array.isArray(_)){const k=h?_.length-1:0;_=_[k]}_!==null&&(s[y]=_)}for(const y in T)s[y]=T[y]}}}return s}const pv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),aP=()=>({...pv(),attrs:{}}),lP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,LL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ML=_u.length;function jL(t,e,n){let r="",s=!0;for(let i=0;i<ML;i++){const o=_u[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=lP(a,Qy[o]);if(!l){s=!1;const h=LL[o]||o;r+=`${h}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function mv(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Ui.has(l)){o=!0;continue}else if(eI(l)){s[l]=c;continue}else{const h=lP(c,Qy[l]);l.startsWith("origin")?(a=!0,i[l]=h):r[l]=h}}if(e.transform||(o||n?r.transform=jL(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:h=0}=i;r.transformOrigin=`${l} ${c} ${h}`}}function W1(t,e,n){return typeof t=="string"?t:re.transform(e+n*t)}function FL(t,e,n){const r=W1(e,t.x,t.width),s=W1(n,t.y,t.height);return`${r} ${s}`}const UL={offset:"stroke-dashoffset",array:"stroke-dasharray"},BL={offset:"strokeDashoffset",array:"strokeDasharray"};function $L(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?UL:BL;t[i.offset]=re.transform(-r);const o=re.transform(e),a=re.transform(n);t[i.array]=`${o} ${a}`}function gv(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},h,d){if(mv(t,c,d),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:v,dimensions:w}=t;f.transform&&(w&&(v.transform=f.transform),delete f.transform),w&&(s!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=FL(w,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&$L(f,o,a,l,!1)}const yv=t=>typeof t=="string"&&t.toLowerCase()==="svg",zL={useVisualState:oP({scrapeMotionValuesFromProps:iP,createRenderState:aP,onMount:(t,e,{renderState:n,latestValues:r})=>{Ae.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ae.render(()=>{gv(n,r,yv(e.tagName),t.transformTemplate),rP(e,n)})}})},WL={useVisualState:oP({scrapeMotionValuesFromProps:dv,createRenderState:pv})};function uP(t,e,n){for(const r in e)!jt(e[r])&&!sP(r,n)&&(t[r]=e[r])}function qL({transformTemplate:t},e){return O.useMemo(()=>{const n=pv();return mv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function HL(t,e){const n=t.style||{},r={};return uP(r,n,t),Object.assign(r,qL(t,e)),r}function KL(t,e){const n={},r=HL(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const GL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Wh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||GL.has(t)}let cP=t=>!Wh(t);function QL(t){t&&(cP=e=>e.startsWith("on")?!Wh(e):t(e))}try{QL(require("@emotion/is-prop-valid").default)}catch{}function YL(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(cP(s)||n===!0&&Wh(s)||!e&&!Wh(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function XL(t,e,n,r){const s=O.useMemo(()=>{const i=aP();return gv(i,e,yv(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};uP(i,t.style,t),s.style={...i,...s.style}}return s}function JL(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(hv(n)?XL:KL)(r,i,o,n),c=YL(r,typeof n=="string",t),h=n!==O.Fragment?{...c,...l,ref:s}:{},{children:d}=r,f=O.useMemo(()=>jt(d)?d.get():d,[d]);return O.createElement(n,{...h,children:f})}}function ZL(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...hv(r)?zL:WL,preloadedFeatures:t,useRender:JL(s),createVisualElement:e,Component:r};return kL(o)}}const ag={current:null},hP={current:!1};function e6(){if(hP.current=!0,!!cv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ag.current=t.matches;t.addListener(e),e()}else ag.current=!1}function t6(t,e,n){for(const r in e){const s=e[r],i=n[r];if(jt(s))t.addValue(r,s);else if(jt(i))t.addValue(r,tu(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,tu(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const q1=new WeakMap,n6=[...rI,Ot,Ds],r6=t=>n6.find(nI(t)),H1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class s6{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Hy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=ir.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Ae.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Wd(n),this.isVariantNode=eP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const v=d[f];l[f]!==void 0&&jt(v)&&v.set(l[f],!1)}}mount(e){this.current=e,q1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),hP.current||e6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ag.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){q1.delete(this.current),this.projection&&this.projection.unmount(),Rs(this.notifyUpdate),Rs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ui.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Ae.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ta){const n=ta[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Je()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<H1.length;r++){const s=H1[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=t6(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=tu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Jb(s)||Xb(s))?s=parseFloat(s):!r6(s)&&Ds.test(n)&&(s=hI(e,n)),this.setBaseTarget(e,jt(s)?s.get():s)),jt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=Fy(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!jt(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new iv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class dP extends s6{constructor(){super(...arguments),this.KeyframeResolver=dI}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function i6(t){return window.getComputedStyle(t)}class o6 extends dP{constructor(){super(...arguments),this.type="html",this.renderInstance=tP}readValueFromInstance(e,n){if(Ui.has(n)){const r=Yy(n);return r&&r.default||0}else{const r=i6(e),s=(eI(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return jI(e,n)}build(e,n,r){mv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return dv(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;jt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class a6 extends dP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Je}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ui.has(n)){const r=Yy(n);return r&&r.default||0}return n=nP.has(n)?n:ov(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return iP(e,n,r)}build(e,n,r){gv(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){rP(e,n,r,s)}mount(e){this.isSVGTag=yv(e.tagName),super.mount(e)}}const l6=(t,e)=>hv(t)?new a6(e):new o6(e,{allowProjection:t!==O.Fragment}),u6=ZL({...JO,...wL,...uL,...EL},l6),he=z4(u6);class c6 extends O.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function h6({children:t,isPresent:e}){const n=O.useId(),r=O.useRef(null),s=O.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=O.useContext(uv);return O.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=s.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return i&&(h.nonce=i),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[e]),g.jsx(c6,{isPresent:e,childRef:r,sizeRef:s,children:O.cloneElement(t,{ref:r})})}const d6=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=fv(f6),l=O.useId(),c=O.useCallback(d=>{a.set(d,!0);for(const f of a.values())if(!f)return;r&&r()},[a,r]),h=O.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:c,register:d=>(a.set(d,!1),()=>a.delete(d))}),i?[Math.random(),c]:[n,c]);return O.useMemo(()=>{a.forEach((d,f)=>a.set(f,!1))},[n]),O.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=g.jsx(h6,{isPresent:n,children:t})),g.jsx($d.Provider,{value:h,children:t})};function f6(){return new Map}const Sc=t=>t.key||"";function K1(t){const e=[];return O.Children.forEach(t,n=>{O.isValidElement(n)&&e.push(n)}),e}const fP=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=O.useMemo(()=>K1(t),[t]),l=a.map(Sc),c=O.useRef(!0),h=O.useRef(a),d=fv(()=>new Map),[f,v]=O.useState(a),[w,T]=O.useState(a);XI(()=>{c.current=!1,h.current=a;for(let y=0;y<w.length;y++){const _=Sc(w[y]);l.includes(_)?d.delete(_):d.get(_)!==!0&&d.set(_,!1)}},[w,l.length,l.join("-")]);const b=[];if(a!==f){let y=[...a];for(let _=0;_<w.length;_++){const k=w[_],V=Sc(k);l.includes(V)||(y.splice(_,0,k),b.push(k))}o==="wait"&&b.length&&(y=b),T(K1(y)),v(a);return}const{forceRender:E}=O.useContext(av);return g.jsx(g.Fragment,{children:w.map(y=>{const _=Sc(y),k=a===w||l.includes(_),V=()=>{if(d.has(_))d.set(_,!0);else return;let j=!0;d.forEach(I=>{I||(j=!1)}),j&&(E==null||E(),T(h.current),s&&s())};return g.jsx(d6,{isPresent:k,initial:!c.current||r?void 0:!1,custom:k?void 0:n,presenceAffectsLayout:i,mode:o,onExitComplete:k?void 0:V,children:y},_)})})};var pP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},G1=Ze.createContext&&Ze.createContext(pP),p6=["attr","size","title"];function m6(t,e){if(t==null)return{};var n=g6(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function g6(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qh(){return qh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qh.apply(this,arguments)}function Q1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Hh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q1(Object(n),!0).forEach(function(r){y6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y6(t,e,n){return e=v6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v6(t){var e=_6(t,"string");return typeof e=="symbol"?e:e+""}function _6(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mP(t){return t&&t.map((e,n)=>Ze.createElement(e.tag,Hh({key:n},e.attr),mP(e.child)))}function _t(t){return e=>Ze.createElement(w6,qh({attr:Hh({},t.attr)},e),mP(t.child))}function w6(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=m6(t,p6),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Ze.createElement("svg",qh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Hh(Hh({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&Ze.createElement("title",null,i),t.children)};return G1!==void 0?Ze.createElement(G1.Consumer,null,n=>e(n)):e(pP)}function E6(t){return _t({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function T6(t){return _t({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 492v20H0v-20c0-6.627 5.373-12 12-12h20V120c0-13.255 10.745-24 24-24h88V24c0-13.255 10.745-24 24-24h112c13.255 0 24 10.745 24 24v72h88c13.255 0 24 10.745 24 24v360h20c6.627 0 12 5.373 12 12zM308 192h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12zm-168 64h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12zm104 128h-40c-6.627 0-12 5.373-12 12v84h64v-84c0-6.627-5.373-12-12-12zm64-96h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12zm-116 12c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40zM182 96h26v26a6 6 0 0 0 6 6h20a6 6 0 0 0 6-6V96h26a6 6 0 0 0 6-6V70a6 6 0 0 0-6-6h-26V38a6 6 0 0 0-6-6h-20a6 6 0 0 0-6 6v26h-26a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6z"},child:[]}]})(t)}function x6(t){return _t({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function S6(t){return _t({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function b6(t){return _t({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M400 54.1c63 45 104 118.6 104 201.9 0 136.8-110.8 247.7-247.5 248C120 504.3 8.2 393 8 256.4 7.9 173.1 48.9 99.3 111.8 54.2c11.7-8.3 28-4.8 35 7.7L162.6 90c5.9 10.5 3.1 23.8-6.6 31-41.5 30.8-68 79.6-68 134.9-.1 92.3 74.5 168.1 168 168.1 91.6 0 168.6-74.2 168-169.1-.3-51.8-24.7-101.8-68.1-134-9.7-7.2-12.4-20.5-6.5-30.9l15.8-28.1c7-12.4 23.2-16.1 34.8-7.8zM296 264V24c0-13.3-10.7-24-24-24h-32c-13.3 0-24 10.7-24 24v240c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24z"},child:[]}]})(t)}function I6(t){return _t({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"},child:[]}]})(t)}function P6(t){return _t({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zM104 424c0 13.3 10.7 24 24 24s24-10.7 24-24-10.7-24-24-24-24 10.7-24 24zm216-135.4v49c36.5 7.4 64 39.8 64 78.4v41.7c0 7.6-5.4 14.2-12.9 15.7l-32.2 6.4c-4.3.9-8.5-1.9-9.4-6.3l-3.1-15.7c-.9-4.3 1.9-8.6 6.3-9.4l19.3-3.9V416c0-62.8-96-65.1-96 1.9v26.7l19.3 3.9c4.3.9 7.1 5.1 6.3 9.4l-3.1 15.7c-.9 4.3-5.1 7.1-9.4 6.3l-31.2-4.2c-7.9-1.1-13.8-7.8-13.8-15.9V416c0-38.6 27.5-70.9 64-78.4v-45.2c-2.2.7-4.4 1.1-6.6 1.9-18 6.3-37.3 9.8-57.4 9.8s-39.4-3.5-57.4-9.8c-7.4-2.6-14.9-4.2-22.6-5.2v81.6c23.1 6.9 40 28.1 40 53.4 0 30.9-25.1 56-56 56s-56-25.1-56-56c0-25.3 16.9-46.5 40-53.4v-80.4C48.5 301 0 355.8 0 422.4v44.8C0 491.9 20.1 512 44.8 512h358.4c24.7 0 44.8-20.1 44.8-44.8v-44.8c0-72-56.8-130.3-128-133.8z"},child:[]}]})(t)}function A6(){return g.jsx("section",{className:"bg-white py-20 px-6 sm:px-10 lg:px-32",children:g.jsxs("div",{className:"text-center mb-14",children:[g.jsx(he.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},viewport:{once:!0},className:"text-4xl sm:text-5xl font-bold text-blue-700 mb-4",children:"About Us"}),g.jsx(he.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2,ease:"easeOut"},viewport:{once:!0},className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"We are revolutionizing healthcare access with cutting-edge technology and a user-first approach.Our platform bridges the gap between patients and top-tier healthcare professionals.With a focus on reliability and real-time access, we ensure every patient gets the care they deserve."})]})})}const k6="modulepreload",C6=function(t){return"/"+t},Y1={},Tu=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.all(n.map(a=>{if(a=C6(a),a in Y1)return;Y1[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":k6,l||(h.as="script",h.crossOrigin=""),h.href=a,o&&h.setAttribute("nonce",o),document.head.appendChild(h),l)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}return s.then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},R6=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Tu(async()=>{const{default:r}=await Promise.resolve().then(()=>ga);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class vv extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class N6 extends vv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class X1 extends vv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class J1 extends vv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var lg;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(lg||(lg={}));var D6=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{c(r.next(h))}catch(d){o(d)}}function l(h){try{c(r.throw(h))}catch(d){o(d)}}function c(h){h.done?i(h.value):s(h.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class O6{constructor(e,{headers:n={},customFetch:r,region:s=lg.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=R6(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return D6(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let h;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(a["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(a["Content-Type"]="application/json",h=JSON.stringify(o)));const d=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:h}).catch(T=>{throw new N6(T)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new X1(d);if(!d.ok)throw new J1(d);let v=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return v==="application/json"?w=yield d.json():v==="application/octet-stream"?w=yield d.blob():v==="text/event-stream"?w=d:v==="multipart/form-data"?w=yield d.formData():w=yield d.text(),{data:w,error:null,response:d}}catch(s){return{data:null,error:s,response:s instanceof J1||s instanceof X1?s.context:void 0}}})}}var en={},_v={},qd={},xu={},Hd={},Kd={},V6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},na=V6();const L6=na.fetch,gP=na.fetch.bind(na),yP=na.Headers,M6=na.Request,j6=na.Response,ga=Object.freeze(Object.defineProperty({__proto__:null,Headers:yP,Request:M6,Response:j6,default:gP,fetch:L6},Symbol.toStringTag,{value:"Module"})),F6=mC(ga);var Gd={};Object.defineProperty(Gd,"__esModule",{value:!0});let U6=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Gd.default=U6;var vP=Cn&&Cn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kd,"__esModule",{value:!0});const B6=vP(F6),$6=vP(Gd);let z6=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=B6.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,h=null,d=null,f=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const E=await i.text();E===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=E:h=JSON.parse(E))}const T=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");T&&b&&b.length>1&&(d=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,d=null,f=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const T=await i.text();try{c=JSON.parse(T),Array.isArray(c)&&i.status===404&&(h=[],c=null,f=200,v="OK")}catch{i.status===404&&T===""?(f=204,v="No Content"):c={message:T}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,v="OK"),c&&this.shouldThrowOnError)throw new $6.default(c)}return{error:c,data:h,count:d,status:f,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Kd.default=z6;var W6=Cn&&Cn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hd,"__esModule",{value:!0});const q6=W6(Kd);let H6=class extends q6.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Hd.default=H6;var K6=Cn&&Cn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xu,"__esModule",{value:!0});const G6=K6(Hd);let Q6=class extends G6.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};xu.default=Q6;var Y6=Cn&&Cn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qd,"__esModule",{value:!0});const Qa=Y6(xu);let X6=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Qa.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Qa.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(l.length>0){const c=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new Qa.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Qa.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Qa.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};qd.default=X6;var Qd={},Yd={};Object.defineProperty(Yd,"__esModule",{value:!0});Yd.version=void 0;Yd.version="0.0.0-automated";Object.defineProperty(Qd,"__esModule",{value:!0});Qd.DEFAULT_HEADERS=void 0;const J6=Yd;Qd.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${J6.version}`};var _P=Cn&&Cn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_v,"__esModule",{value:!0});const Z6=_P(qd),eM=_P(xu),tM=Qd;let nM=class wP{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},tM.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new Z6.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new wP(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([h,d])=>d!==void 0).map(([h,d])=>[h,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([h,d])=>{a.searchParams.append(h,d)})):(o="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new eM.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};_v.default=nM;var ya=Cn&&Cn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(en,"__esModule",{value:!0});en.PostgrestError=en.PostgrestBuilder=en.PostgrestTransformBuilder=en.PostgrestFilterBuilder=en.PostgrestQueryBuilder=en.PostgrestClient=void 0;const EP=ya(_v);en.PostgrestClient=EP.default;const TP=ya(qd);en.PostgrestQueryBuilder=TP.default;const xP=ya(xu);en.PostgrestFilterBuilder=xP.default;const SP=ya(Hd);en.PostgrestTransformBuilder=SP.default;const bP=ya(Kd);en.PostgrestBuilder=bP.default;const IP=ya(Gd);en.PostgrestError=IP.default;var rM=en.default={PostgrestClient:EP.default,PostgrestQueryBuilder:TP.default,PostgrestFilterBuilder:xP.default,PostgrestTransformBuilder:SP.default,PostgrestBuilder:bP.default,PostgrestError:IP.default};const{PostgrestClient:sM,PostgrestQueryBuilder:wW,PostgrestFilterBuilder:EW,PostgrestTransformBuilder:TW,PostgrestBuilder:xW,PostgrestError:SW}=rM;function iM(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const oM=iM(),aM="2.11.15",lM=`realtime-js/${aM}`,uM="1.0.0",PP=1e4,cM=1e3;var xl;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(xl||(xl={}));var Dt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Dt||(Dt={}));var Fn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Fn||(Fn={}));var ug;(function(t){t.websocket="websocket"})(ug||(ug={}));var pi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(pi||(pi={}));class hM{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class AP{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Re;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Re||(Re={}));const Z1=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=dM(o,t,e,s),i),{})},dM=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?kP(i,o):cg(o)},kP=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return gM(e,n)}switch(t){case Re.bool:return fM(e);case Re.float4:case Re.float8:case Re.int2:case Re.int4:case Re.int8:case Re.numeric:case Re.oid:return pM(e);case Re.json:case Re.jsonb:return mM(e);case Re.timestamp:return yM(e);case Re.abstime:case Re.date:case Re.daterange:case Re.int4range:case Re.int8range:case Re.money:case Re.reltime:case Re.text:case Re.time:case Re.timestamptz:case Re.timetz:case Re.tsrange:case Re.tstzrange:return cg(e);default:return cg(e)}},cg=t=>t,fM=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},pM=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},mM=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},gM=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>kP(e,a))}return t},yM=t=>typeof t=="string"?t.replace(" ","T"):t,CP=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Sp{constructor(e,n,r={},s=PP){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var eE;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(eE||(eE={}));class Sl{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sl.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Sl.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Sl.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(c,h)=>{o[c]||(l[c]=h)}),this.map(o,(c,h)=>{const d=i[c];if(d){const f=h.map(b=>b.presence_ref),v=d.map(b=>b.presence_ref),w=h.filter(b=>v.indexOf(b.presence_ref)<0),T=d.filter(b=>f.indexOf(b.presence_ref)<0);w.length>0&&(a[c]=w),T.length>0&&(l[c]=T)}else a[c]=h}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const h=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),h.length>0){const d=e[a].map(v=>v.presence_ref),f=h.filter(v=>d.indexOf(v.presence_ref)<0);e[a].unshift(...f)}r(a,h,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const h=l.map(d=>d.presence_ref);c=c.filter(d=>h.indexOf(d.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tE;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(tE||(tE={}));var nE;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(nE||(nE={}));var Er;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Er||(Er={}));class wv{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Sp(this,Fn.join,this.params,this.timeout),this.rejoinTimer=new AP(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Dt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fn.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Sl(this),this.broadcastEndpointURL=CP(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Dt.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(h=>e==null?void 0:e(Er.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(Er.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var d;if(this.socket.setAuth(),h===void 0){e==null||e(Er.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,v=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,w=[];for(let T=0;T<v;T++){const b=f[T],{filter:{event:E,schema:y,table:_,filter:k}}=b,V=h&&h[T];if(V&&V.event===E&&V.schema===y&&V.table===_&&V.filter===k)w.push(Object.assign(Object.assign({},b),{id:V.id}));else{this.unsubscribe(),this.state=Dt.errored,e==null||e(Er.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(Er.SUBSCRIBED);return}}).receive("error",h=>{this.state=Dt.errored,e==null||e(Er.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Er.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Dt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Sp(this,Fn.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Sp(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:h}=Fn;if(r&&[a,l,c,h].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var w,T,b;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(T=v.filter)===null||T===void 0?void 0:T.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(v=>v.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var w,T,b,E,y,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const k=v.id,V=(w=v.filter)===null||w===void 0?void 0:w.event;return k&&((T=n.ids)===null||T===void 0?void 0:T.includes(k))&&(V==="*"||(V==null?void 0:V.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const k=(y=(E=v==null?void 0:v.filter)===null||E===void 0?void 0:E.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return k==="*"||k===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:T,table:b,commit_timestamp:E,type:y,errors:_}=w;f=Object.assign(Object.assign({},{schema:T,table:b,commit_timestamp:E,eventType:y,new:{},old:{},errors:_}),this._getPayloadRecords(w))}v.callback(f,r)})}_isClosed(){return this.state===Dt.closed}_isJoined(){return this.state===Dt.joined}_isJoining(){return this.state===Dt.joining}_isLeaving(){return this.state===Dt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&wv.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Fn.close,{},e)}_onError(e){this._on(Fn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Dt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Z1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Z1(e.columns,e.old_record)),n}}const rE=()=>{},vM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class _M{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=PP,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=rE,this.ref=0,this.logger=rE,this.conn=null,this.sendBuffer=[],this.serializer=new hM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Tu(async()=>{const{default:l}=await Promise.resolve().then(()=>ga);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${ug.websocket}`,this.httpEndpoint=CP(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new AP(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=oM),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:uM}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case xl.connecting:return pi.Connecting;case xl.open:return pi.Open;case xl.closing:return pi.Closing;default:return pi.Closed}}isConnected(){return this.connectionState()===pi.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new wv(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:lM};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Fn.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(cM,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Fn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([vM],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}let Ev=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function mt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class wM extends Ev{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class hg extends Ev{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var EM=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{c(r.next(h))}catch(d){o(d)}}function l(h){try{c(r.throw(h))}catch(d){o(d)}}function c(h){h.done?i(h.value):s(h.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const RP=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Tu(async()=>{const{default:r}=await Promise.resolve().then(()=>ga);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},TM=()=>EM(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Tu(()=>Promise.resolve().then(()=>ga),void 0)).Response:Response}),dg=t=>{if(Array.isArray(t))return t.map(n=>dg(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=dg(r)}),e};var Bi=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{c(r.next(h))}catch(d){o(d)}}function l(h){try{c(r.throw(h))}catch(d){o(d)}}function c(h){h.done?i(h.value):s(h.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const bp=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),xM=(t,e,n)=>Bi(void 0,void 0,void 0,function*(){const r=yield TM();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new wM(bp(s),t.status||500))}).catch(s=>{e(new hg(bp(s),s))}):e(new hg(bp(t),t))}),SM=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Su(t,e,n,r,s,i){return Bi(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,SM(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>xM(l,a,r))})})}function Kh(t,e,n,r){return Bi(this,void 0,void 0,function*(){return Su(t,"GET",e,n,r)})}function ts(t,e,n,r,s){return Bi(this,void 0,void 0,function*(){return Su(t,"POST",e,r,s,n)})}function bM(t,e,n,r,s){return Bi(this,void 0,void 0,function*(){return Su(t,"PUT",e,r,s,n)})}function IM(t,e,n,r){return Bi(this,void 0,void 0,function*(){return Su(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function NP(t,e,n,r,s){return Bi(this,void 0,void 0,function*(){return Su(t,"DELETE",e,r,s,n)})}var Yt=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{c(r.next(h))}catch(d){o(d)}}function l(h){try{c(r.throw(h))}catch(d){o(d)}}function c(h){h.done?i(h.value):s(h.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const PM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class AM{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=RP(s)}uploadOrUpdate(e,n,r,s){return Yt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},sE),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),h=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield d.json();return d.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(mt(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Yt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:sE.upsert},s),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:h}),f=yield d.json();return d.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(mt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Yt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield ts(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Ev("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(mt(r))return{data:null,error:r};throw r}})}update(e,n,r){return Yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Yt(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(mt(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Yt(this,void 0,void 0,function*(){try{return{data:{path:(yield ts(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(mt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Yt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield ts(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(mt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Yt(this,void 0,void 0,function*(){try{const s=yield ts(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(mt(s))return{data:null,error:s};throw s}})}download(e,n){return Yt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Kh(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(mt(a))return{data:null,error:a};throw a}})}info(e){return Yt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Kh(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:dg(r),error:null}}catch(r){if(mt(r))return{data:null,error:r};throw r}})}exists(e){return Yt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield IM(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(mt(r)&&r instanceof hg){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return Yt(this,void 0,void 0,function*(){try{return{data:yield NP(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(mt(n))return{data:null,error:n};throw n}})}list(e,n,r){return Yt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},PM),n),{prefix:e||""});return{data:yield ts(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(mt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const kM="2.7.1",CM={"X-Client-Info":`storage-js/${kM}`};var to=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{c(r.next(h))}catch(d){o(d)}}function l(h){try{c(r.throw(h))}catch(d){o(d)}}function c(h){h.done?i(h.value):s(h.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class RM{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},CM),n),this.fetch=RP(r)}listBuckets(){return to(this,void 0,void 0,function*(){try{return{data:yield Kh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(mt(e))return{data:null,error:e};throw e}})}getBucket(e){return to(this,void 0,void 0,function*(){try{return{data:yield Kh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(mt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return to(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(mt(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return to(this,void 0,void 0,function*(){try{return{data:yield bM(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(mt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return to(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(mt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return to(this,void 0,void 0,function*(){try{return{data:yield NP(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(mt(n))return{data:null,error:n};throw n}})}}class NM extends RM{constructor(e,n={},r){super(e,n,r)}from(e){return new AM(this.url,this.headers,e,this.fetch)}}const DM="2.52.1";let al="";typeof Deno<"u"?al="deno":typeof document<"u"?al="web":typeof navigator<"u"&&navigator.product==="ReactNative"?al="react-native":al="node";const OM={"X-Client-Info":`supabase-js-${al}/${DM}`},VM={headers:OM},LM={schema:"public"},MM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jM={};var FM=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{c(r.next(h))}catch(d){o(d)}}function l(h){try{c(r.throw(h))}catch(d){o(d)}}function c(h){h.done?i(h.value):s(h.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const UM=t=>{let e;return t?e=t:typeof fetch>"u"?e=gP:e=fetch,(...n)=>e(...n)},BM=()=>typeof Headers>"u"?yP:Headers,$M=(t,e,n)=>{const r=UM(n),s=BM();return(i,o)=>FM(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var zM=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{c(r.next(h))}catch(d){o(d)}}function l(h){try{c(r.throw(h))}catch(d){o(d)}}function c(h){h.done?i(h.value):s(h.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function WM(t){return t.endsWith("/")?t:t+"/"}function qM(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:h,global:d}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},h),o),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>zM(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const DP="2.71.1",lo=30*1e3,fg=3,Ip=fg*lo,HM="http://localhost:9999",KM="supabase.auth.token",GM={"X-Client-Info":`gotrue-js/${DP}`},pg="X-Supabase-Api-Version",OP={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},QM=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,YM=10*60*1e3;class Tv extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function le(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class XM extends Tv{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function JM(t){return le(t)&&t.name==="AuthApiError"}class VP extends Tv{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Gs extends Tv{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Jr extends Gs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ZM(t){return le(t)&&t.name==="AuthSessionMissingError"}class bc extends Gs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ic extends Gs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Pc extends Gs{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ej(t){return le(t)&&t.name==="AuthImplicitGrantRedirectError"}class iE extends Gs{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class mg extends Gs{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Pp(t){return le(t)&&t.name==="AuthRetryableFetchError"}class oE extends Gs{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class gg extends Gs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),aE=` 	
\r=`.split(""),tj=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<aE.length;e+=1)t[aE[e].charCodeAt(0)]=-2;for(let e=0;e<Gh.length;e+=1)t[Gh[e].charCodeAt(0)]=e;return t})();function lE(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Gh[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Gh[r]),e.queuedBits-=6}}function LP(t,e,n){const r=tj[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function uE(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{sj(o,r,n)};for(let o=0;o<t.length;o+=1)LP(t.charCodeAt(o),s,i);return e.join("")}function nj(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function rj(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}nj(r,e)}}function sj(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function ij(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)LP(t.charCodeAt(s),n,r);return new Uint8Array(e)}function oj(t){const e=[];return rj(t,n=>e.push(n)),new Uint8Array(e)}function aj(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>lE(s,n,r)),lE(null,n,r),e.join("")}function lj(t){return Math.round(Date.now()/1e3)+t}function uj(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ln=()=>typeof window<"u"&&typeof document<"u",ii={tested:!1,writable:!1},MP=()=>{if(!Ln())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ii.tested)return ii.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ii.tested=!0,ii.writable=!0}catch{ii.tested=!0,ii.writable=!1}return ii.writable};function cj(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const jP=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Tu(async()=>{const{default:r}=await Promise.resolve().then(()=>ga);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},hj=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",uo=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},oi=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Gr=async(t,e)=>{await t.removeItem(e)};let FP=class UP{constructor(){this.promise=new UP.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};FP.promiseConstructor=Promise;function Ap(t){const e=t.split(".");if(e.length!==3)throw new gg("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!QM.test(e[r]))throw new gg("JWT not in base64url format");return{header:JSON.parse(uE(e[0])),payload:JSON.parse(uE(e[1])),signature:ij(e[2]),raw:{header:e[0],payload:e[1]}}}async function dj(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function fj(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function pj(t){return("0"+t.toString(16)).substr(-2)}function mj(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,pj).join("")}async function gj(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function yj(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await gj(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function no(t,e,n=!1){const r=mj();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await uo(t,`${e}-code-verifier`,s);const i=await yj(r);return[i,r===i?"plain":"s256"]}const vj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _j(t){const e=t.headers.get(pg);if(!e||!e.match(vj))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function wj(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Ej(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Tj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ro(t){if(!Tj.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function kp(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function cE(t){return JSON.parse(JSON.stringify(t))}var xj=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const hi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Sj=[502,503,504];async function hE(t){var e;if(!hj(t))throw new mg(hi(t),0);if(Sj.includes(t.status))throw new mg(hi(t),t.status);let n;try{n=await t.json()}catch(i){throw new VP(hi(i),i)}let r;const s=_j(t);if(s&&s.getTime()>=OP["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new oE(hi(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Jr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new oE(hi(n),t.status,n.weak_password.reasons);throw new XM(hi(n),t.status||500,r)}const bj=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function de(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[pg]||(i[pg]=OP["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Ij(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Ij(t,e,n,r,s,i){const o=bj(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new mg(hi(l),0)}if(a.ok||await hE(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await hE(l)}}function _r(t){var e;let n=null;Cj(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=lj(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function dE(t){const e=_r(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ss(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Pj(t){return{data:t,error:null}}function Aj(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=xj(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function kj(t){return t}function Cj(t){return t.access_token&&t.refresh_token&&t.expires_in}const Cp=["global","local","others"];var Rj=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class Nj{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=jP(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Cp[0]){if(Cp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Cp.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ss})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Rj(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Aj,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(le(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ss})}catch(n){if(le(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},h=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:kj});if(h.error)throw h.error;const d=await h.json(),f=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(w=>{const T=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);c[`${b}Page`]=T}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(le(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){ro(e);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ss})}catch(n){if(le(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ro(e);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ss})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){ro(e);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ss})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ro(e.userId);try{const{data:n,error:r}=await de(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(le(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ro(e.userId),ro(e.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}}}function fE(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Dj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const so={debug:!!(globalThis&&MP()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class BP extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Oj extends BP{}async function Vj(t,e,n){so.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),so.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){so.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{so.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw so.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Oj(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(so.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Dj();const Lj={url:HM,storageKey:KM,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:GM,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function pE(t,e,n){return await n()}const io={};class nu{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=nu.nextInstanceID,nu.nextInstanceID+=1,this.instanceID>0&&Ln()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Lj),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Nj({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=jP(s.fetch),this.lock=s.lock||pE,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ln()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Vj:this.lock=pE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:MP()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=fE(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=fE(this.memoryStorage)),Ln()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=io[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){io[this.storageKey]=Object.assign(Object.assign({},io[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=io[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){io[this.storageKey]=Object.assign(Object.assign({},io[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${DP}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=cj(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ln()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ej(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return le(n)?{error:n}:{error:new VP("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:_r}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(le(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:h,password:d,options:f}=e;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await no(this.storage,this.storageKey)),i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:h,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:w},xform:_r})}else if("phone"in e){const{phone:h,password:d,options:f}=e;i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:_r})}else throw new Ic("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(le(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:dE})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:dE})}else throw new Ic("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new bc}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(le(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,a,l,c,h,d,f,v;let w,T;if("message"in e)w=e.message,T=e.signature;else{const{chain:b,wallet:E,statement:y,options:_}=e;let k;if(Ln())if(typeof E=="object")k=E;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))k=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=E}const V=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const j=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:V.host,uri:V.href}),y?{statement:y}:null));let I;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")I=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)I=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)w=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),T=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${V.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${V.href}`,`Issued At: ${(s=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=_==null?void 0:_.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((d=(h=_==null?void 0:_.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||d===void 0)&&d.length?["Resources",..._.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const j=await k.signMessage(new TextEncoder().encode(w),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=j}}try{const{data:b,error:E}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:aj(T)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:_r});if(E)throw E;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new bc}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:E})}catch(b){if(le(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const n=await oi(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:_r});if(await Gr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new bc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(le(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:_r}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new bc}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(le(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,h=null;this.flowType==="pkce"&&([c,h]=await no(this.storage,this.storageKey));const{error:d}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:h}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new Ic("You must provide either an email or phone number.")}catch(a){if(le(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:_r});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(le(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await no(this.storage,this.storageKey)),await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Pj})}catch(i){if(le(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Jr;const{error:s}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(le(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await de(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await de(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ic("You must provide either an email or phone number and a type")}catch(n){if(le(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await oi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Ip:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await oi(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=kp()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,h)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,h))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ss}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Jr}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ss})})}catch(n){if(le(n))return ZM(n)&&(await this._removeSession(),await Gr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Jr;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await no(this.storage,this.storageKey));const{data:c,error:h}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:ss});if(h)throw h;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Jr;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Ap(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(le(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Jr;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(le(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ln())throw new Pc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Pc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new iE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Pc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new iE("No code detected.");const{data:y,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new Pc("No session defined in URL");const h=Math.round(Date.now()/1e3),d=parseInt(a);let f=h+d;l&&(f=parseInt(l));const v=f-h;v*1e3<=lo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${d}s`);const w=f-d;h-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,h):h-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,h);const{data:T,error:b}=await this._getUser(i);if(b)throw b;const E={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:c,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:e.type},error:null}}catch(r){if(le(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await oi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(JM(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Gr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=uj(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await no(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(le(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,h;const{data:d,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",v,{headers:this.headers,jwt:(h=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return Ln()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(le(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(le(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await fj(async s=>(s>0&&await dj(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:_r})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Pp(i)&&Date.now()+o-r<lo})}catch(r){if(this._debug(n,"error",r),le(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ln()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await oi(this.storage,this.storageKey);if(s&&this.userStorage){let o=await oi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await uo(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:kp()}else if(s&&!s.user&&!s.user){const o=await oi(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Gr(this.storage,this.storageKey+"-user"),await uo(this.storage,this.storageKey,s)):s.user=kp()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ip;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Ip}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Pp(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Jr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new FP;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Jr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),le(i)){const o={session:null,error:i};return Pp(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await uo(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=cE(s);await uo(this.storage,this.storageKey,i)}else{const s=cE(n);await uo(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Gr(this.storage,this.storageKey),await Gr(this.storage,this.storageKey+"-code-verifier"),await Gr(this.storage,this.storageKey+"-user"),this.userStorage&&await Gr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ln()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),lo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/lo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${lo}ms, refresh threshold is ${fg} ticks`),s<=fg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof BP)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ln()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await no(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await de(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(le(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await de(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(le(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await de(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(le(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await de(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(le(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ap(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const h=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+YM>s)return r;const{data:i,error:o}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:w}=await this.getSession();if(w||!v.session)return{data:null,error:w};r=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Ap(r);n!=null&&n.allowExpired||wj(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const h=Ej(s.alg),d=await crypto.subtle.importKey("jwk",c,h,!0,["verify"]);if(!await crypto.subtle.verify(h,d,o,oj(`${a}.${l}`)))throw new gg("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}}}nu.nextInstanceID=0;const Mj=nu;class jj extends Mj{constructor(e){super(e)}}var Fj=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{c(r.next(h))}catch(d){o(d)}}function l(h){try{c(r.throw(h))}catch(d){o(d)}}function c(h){h.done?i(h.value):s(h.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class Uj{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=WM(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,h={db:LM,realtime:jM,auth:Object.assign(Object.assign({},MM),{storageKey:c}),global:VM},d=qM(r??{},h);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=$M(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new sM(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new O6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new NM(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Fj(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jj({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new _M(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Bj=(t,e,n)=>new Uj(t,e,n);function $j(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}$j()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const zj="https://xiaoszcyyedansoxkrik.supabase.co",Wj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhpYW9zemN5eWVkYW5zb3hrcmlrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMzNzIyNDcsImV4cCI6MjA2ODk0ODI0N30.hQV9t-IxNNqaX0P9dw281avi6BUN11g61d7XbsG5pTs",xe=Bj(zj,Wj);function qj(){const[t,e]=O.useState([]),[n,r]=O.useState(0);return O.useEffect(()=>{(async()=>{const{data:i,error:o}=await xe.from("ads").select("*").eq("is_token_ad",!1).eq("is_disable",!1);if(o){console.error("Error fetching ads:",o.message);return}e(i)})()},[]),O.useEffect(()=>{if(t.length===0)return;const s=setInterval(()=>{r(i=>(i+1)%t.length)},3e3);return()=>clearInterval(s)},[t]),g.jsxs("div",{className:"w-full flex flex-col items-center mt-2 px-4 sm:px-8 lg:px-0",children:[g.jsx("div",{className:"w-full max-w-4xl h-36 sm:h-48 md:h-56 lg:h-64 relative overflow-hidden rounded-xl shadow-lg",children:g.jsx(fP,{mode:"wait",children:t.length>0&&g.jsx(he.img,{src:t[n].image_url,alt:t[n].name||"Ad",onClick:()=>window.open(t[n].linkUrl,"_blank"),className:"w-full h-full object-cover absolute inset-0 cursor-pointer",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.8}},t[n].id)})}),g.jsx("div",{className:"flex gap-2 mt-4",children:t.map((s,i)=>g.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${i===n?"bg-blue-600 scale-110":"bg-gray-300"}`},i))})]})}function Hj(t){return _t({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M80 299.3V512H196V299.3h86.5l18-97.8H196V166.9c0-51.7 20.3-71.5 72.7-71.5c16.3 0 29.4 .4 37 1.2V7.9C291.4 4 256.4 0 236.2 0C129.3 0 80 50.5 80 159.4v42.1H14v97.8H80z"},child:[]}]})(t)}function Kj(t){return _t({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function Gj(t){return _t({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"},child:[]}]})(t)}function Qj(t){return _t({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function Yj(t){return _t({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M215.4 96L144 96l-36.2 0L96 96l0 8.8L96 144l0 40.4 0 89L.2 202.5c1.6-18.1 10.9-34.9 25.7-45.8L48 140.3 48 96c0-26.5 21.5-48 48-48l76.6 0 49.9-36.9C232.2 3.9 243.9 0 256 0s23.8 3.9 33.5 11L339.4 48 416 48c26.5 0 48 21.5 48 48l0 44.3 22.1 16.4c14.8 10.9 24.1 27.7 25.7 45.8L416 273.4l0-89 0-40.4 0-39.2 0-8.8-11.8 0L368 96l-71.4 0-81.3 0zM0 448L0 242.1 217.6 403.3c11.1 8.2 24.6 12.7 38.4 12.7s27.3-4.4 38.4-12.7L512 242.1 512 448s0 0 0 0c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64c0 0 0 0 0 0zM176 160l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16z"},child:[]}]})(t)}function $P(t){return _t({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64zM0 176L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-208L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"},child:[]}]})(t)}function bu(t){return _t({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"},child:[]}]})(t)}function zP(t){return _t({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M280 0C408.1 0 512 103.9 512 232c0 13.3-10.7 24-24 24s-24-10.7-24-24c0-101.6-82.4-184-184-184c-13.3 0-24-10.7-24-24s10.7-24 24-24zm8 192a32 32 0 1 1 0 64 32 32 0 1 1 0-64zm-32-72c0-13.3 10.7-24 24-24c75.1 0 136 60.9 136 136c0 13.3-10.7 24-24 24s-24-10.7-24-24c0-48.6-39.4-88-88-88c-13.3 0-24-10.7-24-24zM117.5 1.4c19.4-5.3 39.7 4.6 47.4 23.2l40 96c6.8 16.3 2.1 35.2-11.6 46.3L144 207.3c33.3 70.4 90.3 127.4 160.7 160.7L345 318.7c11.2-13.7 30-18.4 46.3-11.6l96 40c18.6 7.7 28.5 28 23.2 47.4l-24 88C481.8 499.9 466 512 448 512C200.6 512 0 311.4 0 64C0 46 12.1 30.2 29.5 25.4l88-24z"},child:[]}]})(t)}function WP(t){return _t({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M142.4 21.9c5.6 16.8-3.5 34.9-20.2 40.5L96 71.1 96 192c0 53 43 96 96 96s96-43 96-96l0-120.9-26.1-8.7c-16.8-5.6-25.8-23.7-20.2-40.5s23.7-25.8 40.5-20.2l26.1 8.7C334.4 19.1 352 43.5 352 71.1L352 192c0 77.2-54.6 141.6-127.3 156.7C231 404.6 278.4 448 336 448c61.9 0 112-50.1 112-112l0-70.7c-28.3-12.3-48-40.5-48-73.3c0-44.2 35.8-80 80-80s80 35.8 80 80c0 32.8-19.7 61-48 73.3l0 70.7c0 97.2-78.8 176-176 176c-92.9 0-168.9-71.9-175.5-163.1C87.2 334.2 32 269.6 32 192L32 71.1c0-27.5 17.6-52 43.8-60.7l26.1-8.7c16.8-5.6 34.9 3.5 40.5 20.2zM480 224a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"},child:[]}]})(t)}function Xj(){return O.useState(""),g.jsxs("footer",{className:"bg-slate-100",children:[g.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-12 py-10 sm:py-16",children:g.jsxs("div",{className:"flex flex-wrap justify-between gap-5 xl:gap-8",children:[g.jsx("div",{className:"w-full sm:w-[48%] lg:w-[26%]",children:g.jsx("div",{className:"mb-5",children:g.jsxs("a",{href:"#",className:"text-2xl font-extrabold sm:text-3xl",children:[g.jsx("span",{className:"text-[#0e82fd]",children:"optoken"}),g.jsx("span",{className:"text-black",children:".in"})]})})}),g.jsxs("div",{className:"w-full sm:w-[48%] md:w-[50%] lg:w-[18%] flex flex-col gap-4",children:[g.jsx("h2",{className:"text-lg font-medium",children:"Specialities"}),["Neurology","Cardiologist","Dentist","Urology"].map((t,e)=>g.jsx("p",{className:"text-base text-[#6B7280]",children:t},e))]}),g.jsxs("div",{className:"w-full sm:w-[48%] md:w-[47%] lg:w-[18%] flex flex-col gap-4",children:[g.jsx("h2",{className:"text-lg font-medium",children:"Services"}),["Medical","Operation","Laboratory","ICU"].map((t,e)=>g.jsx("p",{className:"text-base text-[#6B7280]",children:t},e))]}),g.jsxs("div",{className:"w-full sm:w-[48%] md:w-[48%] lg:w-[22%] flex flex-col gap-4",children:[g.jsx("h2",{className:"text-lg font-medium",children:"Contact Us"}),[{icon:g.jsx(bu,{}),text:"Kerala,Kottayam"},{icon:g.jsx(zP,{}),text:"+91 9497600699"},{icon:g.jsx($P,{}),text:"nurisconnect@gmail.com"}].map((t,e)=>g.jsxs("div",{className:"flex items-center gap-2",children:[t.icon,g.jsx("p",{className:"text-base text-[#6B7280]",children:t.text})]},e))]}),g.jsxs("div",{className:"w-full md:w-[47%] lg:w-[32%] flex flex-col gap-4 mt-6 md:mt-0",children:[g.jsx("h2",{className:"text-lg font-medium",children:"Follow Us"}),g.jsx("div",{className:"flex gap-2 justify-center md:justify-start",children:[Hj,Qj,Gj,Kj].map((t,e)=>g.jsx("div",{className:"group rounded-full border-2 border-[#0e82fd] bg-slate-200 p-3 cursor-pointer hover:-translate-y-1 transition duration-300 transform hover:border-[#0e82fd] hover:bg-[#0e82fd]",children:g.jsx("a",{href:"#",children:g.jsx(t,{className:"group-hover:fill-white"})})},e))})]})]})}),g.jsx("div",{className:"bg-slate-200 w-full px-4 sm:px-6 lg:px-12 py-5",children:g.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[g.jsx("p",{className:"text-[#6B7280] text-sm sm:text-base text-center sm:text-left",children:" 2025 optoken.in. All rights reserved."}),g.jsxs("div",{className:"flex gap-2.5 items-center",children:[g.jsx("p",{className:"text-[#6B7280] text-sm sm:text-base",children:"Terms and Conditions"}),g.jsx("p",{className:"text-[#6B7280]",children:"|"}),g.jsx("p",{className:"text-[#6B7280] text-sm sm:text-base",children:"Privacy Policy"})]})]})})]})}const Jj=[{title:"Register",content:"Create your account to get started with your clinic or hospital profile."},{title:"Add your profile",content:"Fill in essential information about your clinic or hospital, including services and contact details."},{title:"Get verified",content:"Well review your details and verify your listing to ensure credibility and quality."},{title:"Start live",content:"Once verified, your clinic goes live. Patients can now view live Token number online."}];function Zj(){return g.jsxs("section",{className:"relative bg-white py-20 px-6 sm:px-10 lg:px-20 overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#ebf4ff] to-white -z-10 opacity-50"}),g.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-16",children:[g.jsx(he.h2,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"text-4xl sm:text-5xl font-bold text-blue-500 mb-4",children:"List Your Clinic or Hospital"}),g.jsx(he.p,{initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.2,duration:.6},className:"text-gray-700 text-lg sm:text-xl max-w-2xl mx-auto",children:"Just register your account and list your hospital with us. Your clients can then see live token status of their booked slots."})]}),g.jsx("div",{className:"flex justify-center",children:g.jsx("div",{className:"relative border-l-4 border-blue-200 ml-4 space-y-14 max-w-xl w-full px-4",children:Jj.map((t,e)=>g.jsxs(he.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},viewport:{once:!0},className:"relative pl-8",children:[g.jsx("span",{className:"absolute -left-5 top-1 w-4 h-4 rounded-full bg-blue-600 border-4 border-white shadow"}),g.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:t.title}),g.jsx("p",{className:"text-gray-600 text-md leading-relaxed",children:t.content})]},e))})})]})}function mE(){return g.jsxs("div",{className:"w-full min-h-[80vh] bg-slate-50 bg-[url('https://doccure-wp.dreamstechnologies.com/wp-content/uploads/2021/11/banner-bg.png')] bg-center bg-no-repeat bg-cover relative",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/50 to-transparent"}),g.jsx(qj,{}),g.jsx("div",{className:"relative py-12 px-4 sm:px-6 lg:px-12 lg:py-24 max-w-7xl mx-auto",children:g.jsxs(he.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[g.jsx(he.h1,{initial:{opacity:0,y:-40},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},className:"text-4xl sm:text-5xl lg:text-6xl text-[#272b41] font-bold mb-6 leading-tight text-center",children:"Track Your Turn in Real Time!"}),g.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-6 w-full max-w-2xl mx-auto mt-8",children:[g.jsxs(tn,{to:"/hospitals",className:"flex-1 min-h-[120px] sm:min-h-[160px] rounded-xl shadow-xl p-4 sm:p-6 flex flex-col items-center justify-center transition hover:scale-105 hover:shadow-2xl bg-white/60 backdrop-blur-lg border border-white/20",style:{boxShadow:"0 6px 24px 0 rgba(31, 38, 135, 0.18)",backdropFilter:"blur(10px) saturate(160%)",WebkitBackdropFilter:"blur(10px) saturate(160%)",border:"1px solid rgba(255,255,255,0.2)"},children:[g.jsxs("div",{className:"flex flex-row sm:flex-col items-center gap-3",children:[g.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:g.jsx(T6,{className:"text-blue-500 w-8 h-8"})}),g.jsx("div",{children:g.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-[#0e82fd] mb-1 text-center sm:text-left",children:"Search by Hospital"})})]}),g.jsx("p",{className:"text-gray-600 text-sm mt-2 text-center",children:"Browse hospitals and clinics to find the right healthcare facility."})]}),g.jsxs(tn,{to:"/doctors",className:"flex-1 min-h-[120px] sm:min-h-[160px] rounded-xl shadow-xl p-4 sm:p-6 flex flex-col items-center justify-center transition hover:scale-105 hover:shadow-2xl bg-white/30 backdrop-blur-md border border-white/20",style:{boxShadow:"0 6px 24px 0 rgba(31, 38, 135, 0.18)",backdropFilter:"blur(10px) saturate(160%)",WebkitBackdropFilter:"blur(10px) saturate(160%)",border:"1px solid rgba(255,255,255,0.2)"},children:[g.jsxs("div",{className:"flex flex-row sm:flex-col items-center gap-3",children:[g.jsx("div",{className:"bg-green-100 rounded-full p-3",children:g.jsx(P6,{className:"text-green-500 w-8 h-8"})}),g.jsx("div",{children:g.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-[#0e82fd] mb-1 text-center sm:text-left",children:"Search by Doctor"})})]}),g.jsx("p",{className:"text-gray-600 text-sm mt-2 text-center",children:"Find the best doctors for your needs and book appointments easily."})]})]})]})}),g.jsx(A6,{}),g.jsx(Zj,{}),g.jsx(Xj,{})]})}function e3(t){return _t({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M278.6 256l68.2-68.2c6.2-6.2 6.2-16.4 0-22.6-6.2-6.2-16.4-6.2-22.6 0L256 233.4l-68.2-68.2c-6.2-6.2-16.4-6.2-22.6 0-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3l68.2 68.2-68.2 68.2c-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3 6.2 6.2 16.4 6.2 22.6 0l68.2-68.2 68.2 68.2c6.2 6.2 16.4 6.2 22.6 0 6.2-6.2 6.2-16.4 0-22.6L278.6 256z"},child:[]}]})(t)}function t3(){const[t,e]=O.useState(!1),[n,r]=O.useState(null),s=Ld(),i=()=>e(!t);O.useEffect(()=>{(async()=>{const{data:{user:h}}=await xe.auth.getUser();r(h)})();const{data:c}=xe.auth.onAuthStateChange((h,d)=>{r((d==null?void 0:d.user)||null)});return()=>{c.subscription.unsubscribe()}},[]);const o=async()=>{await xe.auth.signOut(),localStorage.removeItem("user"),r(null),e(!1),s("/")},a=n?["Our Doctors","Add Doctor","Profile","Logout"]:["Home","Hospitals","Doctors","Contact Us"];return g.jsxs("nav",{className:"w-full px-4 sm:px-6 lg:px-12 py-5 flex justify-between items-center",children:[g.jsx("div",{className:"logo",children:g.jsx(tn,{to:"/",children:g.jsxs("span",{className:"text-2xl sm:text-3xl font-extrabold text-[#0e82fd] tracking-tight font-sans",children:["optoken.",g.jsx("span",{className:"text-black",children:"in"})]})})}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("div",{className:"hidden lg:flex lg:space-x-8",children:a.map((l,c)=>l==="Logout"?g.jsx("button",{onClick:o,className:"text-base font-medium text-red-500 hover:text-red-600",children:"Logout"},c):g.jsx(Nw,{to:l==="Home"?"/":`/${l.toLowerCase().replace(/\s/g,"")}`,className:({isActive:h})=>`text-base font-medium ${h?"text-sky-500":"hover:text-sky-500"}`,children:l},c))}),!n&&g.jsxs("div",{className:"hidden md:hidden lg:block sm:flex space-x-3",children:[g.jsx(tn,{to:"/register",children:g.jsx("button",{className:"text-sm sm:text-base font-medium border-[#0e82fd] border-2 rounded-md p-2 w-20 sm:w-24 hover:bg-[#0e82fd] hover:text-white transition",children:"Register"})}),g.jsx(tn,{to:"/login",children:g.jsx("button",{className:"text-sm sm:text-base font-medium border-[#0e82fd] border-2 rounded-md p-2 w-20 sm:w-24 hover:bg-[#0e82fd] hover:text-white transition",children:"Login"})})]}),g.jsx("div",{className:"lg:hidden",children:g.jsx("button",{"aria-label":"Open Menu",onClick:i,children:g.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})})})]}),g.jsx("div",{className:`fixed inset-0 z-50 bg-black bg-opacity-50 transition-opacity duration-300 ${t?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:i,children:g.jsxs("div",{className:`fixed top-0 right-0 w-64 h-full z-50 bg-white flex flex-col items-center pt-14 px-5 transition-transform duration-300 transform ${t?"translate-x-0":"translate-x-full"}`,onClick:l=>l.stopPropagation(),children:[g.jsx("button",{"aria-label":"Close Menu",className:"absolute top-4 right-4 text-3xl p-2 bg-[#0e82fd] rounded-full",onClick:i,children:g.jsx(e3,{className:"fill-white text-2xl"})}),g.jsx("div",{className:"flex flex-col gap-4 w-full",children:a.map((l,c)=>l==="Logout"?g.jsx("button",{onClick:()=>{o(),i()},className:"text-base text-red-500 hover:text-red-600 mt-2",children:"Logout"},c):g.jsx(Nw,{to:l==="Home"?"/":`/${l.toLowerCase().replace(/\s/g,"")}`,className:({isActive:h})=>`text-base font-medium ${h?"text-sky-500":"hover:text-sky-500"}`,onClick:i,children:l},c))}),!n&&g.jsxs("div",{className:"mt-8 flex flex-col space-y-3 w-full",children:[g.jsx(tn,{to:"/register",onClick:i,children:g.jsx("button",{className:"text-base font-medium border-[#0e82fd] border-2 rounded-md p-2 w-full hover:bg-[#0e82fd] hover:text-white",children:"Register"})}),g.jsx(tn,{to:"/login",onClick:i,children:g.jsx("button",{className:"text-base font-medium border-[#0e82fd] border-2 rounded-md p-2 w-full hover:bg-[#0e82fd] hover:text-white",children:"Login"})})]})]})})]})}const n3=()=>{};var gE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},r3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},HP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,h=i>>2,d=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,v=c&63;l||(v=64,o||(f=64)),r.push(n[h],n[d],n[f],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):r3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||d==null)throw new s3;const f=i<<2|a>>4;if(r.push(f),c!==64){const v=a<<4&240|c>>2;if(r.push(v),d!==64){const w=c<<6&192|d;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class s3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i3=function(t){const e=qP(t);return HP.encodeByteArray(e,!0)},Qh=function(t){return i3(t).replace(/\./g,"")},KP=function(t){try{return HP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=()=>o3().__FIREBASE_DEFAULTS__,l3=()=>{if(typeof process>"u"||typeof gE>"u")return;const t=gE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},u3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&KP(t[1]);return e&&JSON.parse(e)},Xd=()=>{try{return n3()||a3()||l3()||u3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},GP=t=>{var e,n;return(n=(e=Xd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},QP=t=>{const e=GP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},YP=()=>{var t;return(t=Xd())==null?void 0:t.config},XP=t=>{var e;return(e=Xd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Qh(JSON.stringify(n)),Qh(JSON.stringify(o)),""].join(".")}const bl={};function h3(){const t={prod:[],emulator:[]};for(const e of Object.keys(bl))bl[e]?t.emulator.push(e):t.prod.push(e);return t}function d3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let yE=!1;function Sv(t,e){if(typeof window>"u"||typeof document>"u"||!Qs(window.location.host)||bl[t]===e||bl[t]||yE)return;bl[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=h3().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,v){f.setAttribute("width","24"),f.setAttribute("id",v),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{yE=!0,o()},f}function h(f,v){f.setAttribute("id",v),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=d3(r),v=n("text"),w=document.getElementById(v)||document.createElement("span"),T=n("learnmore"),b=document.getElementById(T)||document.createElement("a"),E=n("preprendIcon"),y=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const _=f.element;a(_),h(b,T);const k=c();l(y,E),_.append(y,w,b,k),document.body.appendChild(_)}i?(w.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function f3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function p3(){var e;const t=(e=Xd())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function m3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function g3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function y3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function v3(){const t=Bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _3(){return!p3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w3(){try{return typeof indexedDB=="object"}catch{return!1}}function E3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3="FirebaseError";class mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=T3,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Iu.prototype.create)}}class Iu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?x3(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new mr(s,a,r)}}function x3(t,e){return t.replace(S3,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const S3=/\{\$([^}]+)}/g;function b3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ri(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(vE(i)&&vE(o)){if(!Ri(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function vE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function I3(t,e){const n=new P3(t,e);return n.subscribe.bind(n)}class P3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");A3(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Rp),s.error===void 0&&(s.error=Rp),s.complete===void 0&&(s.complete=Rp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function A3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t){return t&&t._delegate?t._delegate:t}class Os{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new c3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(R3(e))try{this.getOrInitializeService({instanceIdentifier:di})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=di){return this.instances.has(e)}getOptions(e=di){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:C3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=di){return this.component?this.component.multipleInstances?e:di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function C3(t){return t===di?void 0:t}function R3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new k3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const D3={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},O3=pe.INFO,V3={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},L3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=V3[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bv{constructor(e){this.name=e,this._logLevel=O3,this._logHandler=L3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?D3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const M3=(t,e)=>e.some(n=>t instanceof n);let _E,wE;function j3(){return _E||(_E=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F3(){return wE||(wE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZP=new WeakMap,yg=new WeakMap,eA=new WeakMap,Np=new WeakMap,Iv=new WeakMap;function U3(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ss(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ZP.set(n,t)}).catch(()=>{}),Iv.set(e,t),e}function B3(t){if(yg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});yg.set(t,e)}let vg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ss(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $3(t){vg=t(vg)}function z3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Dp(this),e,...n);return eA.set(r,e.sort?e.sort():[e]),Ss(r)}:F3().includes(t)?function(...e){return t.apply(Dp(this),e),Ss(ZP.get(this))}:function(...e){return Ss(t.apply(Dp(this),e))}}function W3(t){return typeof t=="function"?z3(t):(t instanceof IDBTransaction&&B3(t),M3(t,j3())?new Proxy(t,vg):t)}function Ss(t){if(t instanceof IDBRequest)return U3(t);if(Np.has(t))return Np.get(t);const e=W3(t);return e!==t&&(Np.set(t,e),Iv.set(e,t)),e}const Dp=t=>Iv.get(t);function q3(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ss(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ss(o.result),l.oldVersion,l.newVersion,Ss(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const H3=["get","getKey","getAll","getAllKeys","count"],K3=["put","add","delete","clear"],Op=new Map;function EE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Op.get(e))return Op.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=K3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||H3.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Op.set(e,i),i}$3(t=>({...t,get:(e,n,r)=>EE(e,n)||t.get(e,n,r),has:(e,n)=>!!EE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Q3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Q3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _g="@firebase/app",TE="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new bv("@firebase/app"),Y3="@firebase/app-compat",X3="@firebase/analytics-compat",J3="@firebase/analytics",Z3="@firebase/app-check-compat",eF="@firebase/app-check",tF="@firebase/auth",nF="@firebase/auth-compat",rF="@firebase/database",sF="@firebase/data-connect",iF="@firebase/database-compat",oF="@firebase/functions",aF="@firebase/functions-compat",lF="@firebase/installations",uF="@firebase/installations-compat",cF="@firebase/messaging",hF="@firebase/messaging-compat",dF="@firebase/performance",fF="@firebase/performance-compat",pF="@firebase/remote-config",mF="@firebase/remote-config-compat",gF="@firebase/storage",yF="@firebase/storage-compat",vF="@firebase/firestore",_F="@firebase/ai",wF="@firebase/firestore-compat",EF="firebase",TF="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="[DEFAULT]",xF={[_g]:"fire-core",[Y3]:"fire-core-compat",[J3]:"fire-analytics",[X3]:"fire-analytics-compat",[eF]:"fire-app-check",[Z3]:"fire-app-check-compat",[tF]:"fire-auth",[nF]:"fire-auth-compat",[rF]:"fire-rtdb",[sF]:"fire-data-connect",[iF]:"fire-rtdb-compat",[oF]:"fire-fn",[aF]:"fire-fn-compat",[lF]:"fire-iid",[uF]:"fire-iid-compat",[cF]:"fire-fcm",[hF]:"fire-fcm-compat",[dF]:"fire-perf",[fF]:"fire-perf-compat",[pF]:"fire-rc",[mF]:"fire-rc-compat",[gF]:"fire-gcs",[yF]:"fire-gcs-compat",[vF]:"fire-fst",[wF]:"fire-fst-compat",[_F]:"fire-vertex","fire-js":"fire-js",[EF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new Map,SF=new Map,Eg=new Map;function xE(t,e){try{t.container.addComponent(e)}catch(n){jr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ni(t){const e=t.name;if(Eg.has(e))return jr.debug(`There were multiple attempts to register component ${e}.`),!1;Eg.set(e,t);for(const n of Yh.values())xE(n,t);for(const n of SF.values())xE(n,t);return!0}function Jd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Bn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new Iu("app","Firebase",bF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=TF;function tA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:wg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw bs.create("bad-app-name",{appName:String(s)});if(n||(n=YP()),!n)throw bs.create("no-options");const i=Yh.get(s);if(i){if(Ri(n,i.options)&&Ri(r,i.config))return i;throw bs.create("duplicate-app",{appName:s})}const o=new N3(s);for(const l of Eg.values())o.addComponent(l);const a=new IF(n,r,o);return Yh.set(s,a),a}function Pv(t=wg){const e=Yh.get(t);if(!e&&t===wg&&YP())return tA();if(!e)throw bs.create("no-app",{appName:t});return e}function or(t,e,n){let r=xF[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jr.warn(o.join(" "));return}Ni(new Os(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF="firebase-heartbeat-database",AF=1,ru="firebase-heartbeat-store";let Vp=null;function nA(){return Vp||(Vp=q3(PF,AF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ru)}catch(n){console.warn(n)}}}}).catch(t=>{throw bs.create("idb-open",{originalErrorMessage:t.message})})),Vp}async function kF(t){try{const n=(await nA()).transaction(ru),r=await n.objectStore(ru).get(rA(t));return await n.done,r}catch(e){if(e instanceof mr)jr.warn(e.message);else{const n=bs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});jr.warn(n.message)}}}async function SE(t,e){try{const r=(await nA()).transaction(ru,"readwrite");await r.objectStore(ru).put(e,rA(t)),await r.done}catch(n){if(n instanceof mr)jr.warn(n.message);else{const r=bs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});jr.warn(r.message)}}}function rA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF=1024,RF=30;class NF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=bE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>RF){const o=VF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){jr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bE(),{heartbeatsToSend:r,unsentEntries:s}=DF(this._heartbeatsCache.heartbeats),i=Qh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return jr.warn(n),""}}}function bE(){return new Date().toISOString().substring(0,10)}function DF(t,e=CF){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),IE(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),IE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class OF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return w3()?E3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return SE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return SE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function IE(t){return Qh(JSON.stringify({version:2,heartbeats:t})).length}function VF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(t){Ni(new Os("platform-logger",e=>new G3(e),"PRIVATE")),Ni(new Os("heartbeat",e=>new NF(e),"PRIVATE")),or(_g,TE,t),or(_g,TE,"esm2020"),or("fire-js","")}LF("");var PE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Is,sA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,x){function P(){}P.prototype=x.prototype,I.D=x.prototype,I.prototype=new P,I.prototype.constructor=I,I.C=function(C,D,N){for(var A=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)A[ye-2]=arguments[ye];return x.prototype[D].apply(C,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,x,P){P||(P=0);var C=Array(16);if(typeof x=="string")for(var D=0;16>D;++D)C[D]=x.charCodeAt(P++)|x.charCodeAt(P++)<<8|x.charCodeAt(P++)<<16|x.charCodeAt(P++)<<24;else for(D=0;16>D;++D)C[D]=x[P++]|x[P++]<<8|x[P++]<<16|x[P++]<<24;x=I.g[0],P=I.g[1],D=I.g[2];var N=I.g[3],A=x+(N^P&(D^N))+C[0]+3614090360&4294967295;x=P+(A<<7&4294967295|A>>>25),A=N+(D^x&(P^D))+C[1]+3905402710&4294967295,N=x+(A<<12&4294967295|A>>>20),A=D+(P^N&(x^P))+C[2]+606105819&4294967295,D=N+(A<<17&4294967295|A>>>15),A=P+(x^D&(N^x))+C[3]+3250441966&4294967295,P=D+(A<<22&4294967295|A>>>10),A=x+(N^P&(D^N))+C[4]+4118548399&4294967295,x=P+(A<<7&4294967295|A>>>25),A=N+(D^x&(P^D))+C[5]+1200080426&4294967295,N=x+(A<<12&4294967295|A>>>20),A=D+(P^N&(x^P))+C[6]+2821735955&4294967295,D=N+(A<<17&4294967295|A>>>15),A=P+(x^D&(N^x))+C[7]+4249261313&4294967295,P=D+(A<<22&4294967295|A>>>10),A=x+(N^P&(D^N))+C[8]+1770035416&4294967295,x=P+(A<<7&4294967295|A>>>25),A=N+(D^x&(P^D))+C[9]+2336552879&4294967295,N=x+(A<<12&4294967295|A>>>20),A=D+(P^N&(x^P))+C[10]+4294925233&4294967295,D=N+(A<<17&4294967295|A>>>15),A=P+(x^D&(N^x))+C[11]+2304563134&4294967295,P=D+(A<<22&4294967295|A>>>10),A=x+(N^P&(D^N))+C[12]+1804603682&4294967295,x=P+(A<<7&4294967295|A>>>25),A=N+(D^x&(P^D))+C[13]+4254626195&4294967295,N=x+(A<<12&4294967295|A>>>20),A=D+(P^N&(x^P))+C[14]+2792965006&4294967295,D=N+(A<<17&4294967295|A>>>15),A=P+(x^D&(N^x))+C[15]+1236535329&4294967295,P=D+(A<<22&4294967295|A>>>10),A=x+(D^N&(P^D))+C[1]+4129170786&4294967295,x=P+(A<<5&4294967295|A>>>27),A=N+(P^D&(x^P))+C[6]+3225465664&4294967295,N=x+(A<<9&4294967295|A>>>23),A=D+(x^P&(N^x))+C[11]+643717713&4294967295,D=N+(A<<14&4294967295|A>>>18),A=P+(N^x&(D^N))+C[0]+3921069994&4294967295,P=D+(A<<20&4294967295|A>>>12),A=x+(D^N&(P^D))+C[5]+3593408605&4294967295,x=P+(A<<5&4294967295|A>>>27),A=N+(P^D&(x^P))+C[10]+38016083&4294967295,N=x+(A<<9&4294967295|A>>>23),A=D+(x^P&(N^x))+C[15]+3634488961&4294967295,D=N+(A<<14&4294967295|A>>>18),A=P+(N^x&(D^N))+C[4]+3889429448&4294967295,P=D+(A<<20&4294967295|A>>>12),A=x+(D^N&(P^D))+C[9]+568446438&4294967295,x=P+(A<<5&4294967295|A>>>27),A=N+(P^D&(x^P))+C[14]+3275163606&4294967295,N=x+(A<<9&4294967295|A>>>23),A=D+(x^P&(N^x))+C[3]+4107603335&4294967295,D=N+(A<<14&4294967295|A>>>18),A=P+(N^x&(D^N))+C[8]+1163531501&4294967295,P=D+(A<<20&4294967295|A>>>12),A=x+(D^N&(P^D))+C[13]+2850285829&4294967295,x=P+(A<<5&4294967295|A>>>27),A=N+(P^D&(x^P))+C[2]+4243563512&4294967295,N=x+(A<<9&4294967295|A>>>23),A=D+(x^P&(N^x))+C[7]+1735328473&4294967295,D=N+(A<<14&4294967295|A>>>18),A=P+(N^x&(D^N))+C[12]+2368359562&4294967295,P=D+(A<<20&4294967295|A>>>12),A=x+(P^D^N)+C[5]+4294588738&4294967295,x=P+(A<<4&4294967295|A>>>28),A=N+(x^P^D)+C[8]+2272392833&4294967295,N=x+(A<<11&4294967295|A>>>21),A=D+(N^x^P)+C[11]+1839030562&4294967295,D=N+(A<<16&4294967295|A>>>16),A=P+(D^N^x)+C[14]+4259657740&4294967295,P=D+(A<<23&4294967295|A>>>9),A=x+(P^D^N)+C[1]+2763975236&4294967295,x=P+(A<<4&4294967295|A>>>28),A=N+(x^P^D)+C[4]+1272893353&4294967295,N=x+(A<<11&4294967295|A>>>21),A=D+(N^x^P)+C[7]+4139469664&4294967295,D=N+(A<<16&4294967295|A>>>16),A=P+(D^N^x)+C[10]+3200236656&4294967295,P=D+(A<<23&4294967295|A>>>9),A=x+(P^D^N)+C[13]+681279174&4294967295,x=P+(A<<4&4294967295|A>>>28),A=N+(x^P^D)+C[0]+3936430074&4294967295,N=x+(A<<11&4294967295|A>>>21),A=D+(N^x^P)+C[3]+3572445317&4294967295,D=N+(A<<16&4294967295|A>>>16),A=P+(D^N^x)+C[6]+76029189&4294967295,P=D+(A<<23&4294967295|A>>>9),A=x+(P^D^N)+C[9]+3654602809&4294967295,x=P+(A<<4&4294967295|A>>>28),A=N+(x^P^D)+C[12]+3873151461&4294967295,N=x+(A<<11&4294967295|A>>>21),A=D+(N^x^P)+C[15]+530742520&4294967295,D=N+(A<<16&4294967295|A>>>16),A=P+(D^N^x)+C[2]+3299628645&4294967295,P=D+(A<<23&4294967295|A>>>9),A=x+(D^(P|~N))+C[0]+4096336452&4294967295,x=P+(A<<6&4294967295|A>>>26),A=N+(P^(x|~D))+C[7]+1126891415&4294967295,N=x+(A<<10&4294967295|A>>>22),A=D+(x^(N|~P))+C[14]+2878612391&4294967295,D=N+(A<<15&4294967295|A>>>17),A=P+(N^(D|~x))+C[5]+4237533241&4294967295,P=D+(A<<21&4294967295|A>>>11),A=x+(D^(P|~N))+C[12]+1700485571&4294967295,x=P+(A<<6&4294967295|A>>>26),A=N+(P^(x|~D))+C[3]+2399980690&4294967295,N=x+(A<<10&4294967295|A>>>22),A=D+(x^(N|~P))+C[10]+4293915773&4294967295,D=N+(A<<15&4294967295|A>>>17),A=P+(N^(D|~x))+C[1]+2240044497&4294967295,P=D+(A<<21&4294967295|A>>>11),A=x+(D^(P|~N))+C[8]+1873313359&4294967295,x=P+(A<<6&4294967295|A>>>26),A=N+(P^(x|~D))+C[15]+4264355552&4294967295,N=x+(A<<10&4294967295|A>>>22),A=D+(x^(N|~P))+C[6]+2734768916&4294967295,D=N+(A<<15&4294967295|A>>>17),A=P+(N^(D|~x))+C[13]+1309151649&4294967295,P=D+(A<<21&4294967295|A>>>11),A=x+(D^(P|~N))+C[4]+4149444226&4294967295,x=P+(A<<6&4294967295|A>>>26),A=N+(P^(x|~D))+C[11]+3174756917&4294967295,N=x+(A<<10&4294967295|A>>>22),A=D+(x^(N|~P))+C[2]+718787259&4294967295,D=N+(A<<15&4294967295|A>>>17),A=P+(N^(D|~x))+C[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(D+(A<<21&4294967295|A>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+N&4294967295}r.prototype.u=function(I,x){x===void 0&&(x=I.length);for(var P=x-this.blockSize,C=this.B,D=this.h,N=0;N<x;){if(D==0)for(;N<=P;)s(this,I,N),N+=this.blockSize;if(typeof I=="string"){for(;N<x;)if(C[D++]=I.charCodeAt(N++),D==this.blockSize){s(this,C),D=0;break}}else for(;N<x;)if(C[D++]=I[N++],D==this.blockSize){s(this,C),D=0;break}}this.h=D,this.o+=x},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;var P=8*this.o;for(x=I.length-8;x<I.length;++x)I[x]=P&255,P/=256;for(this.u(I),I=Array(16),x=P=0;4>x;++x)for(var C=0;32>C;C+=8)I[P++]=this.g[x]>>>C&255;return I};function i(I,x){var P=a;return Object.prototype.hasOwnProperty.call(P,I)?P[I]:P[I]=x(I)}function o(I,x){this.h=x;for(var P=[],C=!0,D=I.length-1;0<=D;D--){var N=I[D]|0;C&&N==x||(P[D]=N,C=!1)}this.g=P}var a={};function l(I){return-128<=I&&128>I?i(I,function(x){return new o([x|0],0>x?-1:0)}):new o([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return d;if(0>I)return b(c(-I));for(var x=[],P=1,C=0;I>=P;C++)x[C]=I/P|0,P*=4294967296;return new o(x,0)}function h(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return b(h(I.substring(1),x));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(x,8)),C=d,D=0;D<I.length;D+=8){var N=Math.min(8,I.length-D),A=parseInt(I.substring(D,D+N),x);8>N?(N=c(Math.pow(x,N)),C=C.j(N).add(c(A))):(C=C.j(P),C=C.add(c(A)))}return C}var d=l(0),f=l(1),v=l(16777216);t=o.prototype,t.m=function(){if(T(this))return-b(this).m();for(var I=0,x=1,P=0;P<this.g.length;P++){var C=this.i(P);I+=(0<=C?C:4294967296+C)*x,x*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(w(this))return"0";if(T(this))return"-"+b(this).toString(I);for(var x=c(Math.pow(I,6)),P=this,C="";;){var D=k(P,x).g;P=E(P,D.j(x));var N=((0<P.g.length?P.g[0]:P.h)>>>0).toString(I);if(P=D,w(P))return N+C;for(;6>N.length;)N="0"+N;C=N+C}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function w(I){if(I.h!=0)return!1;for(var x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function T(I){return I.h==-1}t.l=function(I){return I=E(this,I),T(I)?-1:w(I)?0:1};function b(I){for(var x=I.g.length,P=[],C=0;C<x;C++)P[C]=~I.g[C];return new o(P,~I.h).add(f)}t.abs=function(){return T(this)?b(this):this},t.add=function(I){for(var x=Math.max(this.g.length,I.g.length),P=[],C=0,D=0;D<=x;D++){var N=C+(this.i(D)&65535)+(I.i(D)&65535),A=(N>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);C=A>>>16,N&=65535,A&=65535,P[D]=A<<16|N}return new o(P,P[P.length-1]&-2147483648?-1:0)};function E(I,x){return I.add(b(x))}t.j=function(I){if(w(this)||w(I))return d;if(T(this))return T(I)?b(this).j(b(I)):b(b(this).j(I));if(T(I))return b(this.j(b(I)));if(0>this.l(v)&&0>I.l(v))return c(this.m()*I.m());for(var x=this.g.length+I.g.length,P=[],C=0;C<2*x;C++)P[C]=0;for(C=0;C<this.g.length;C++)for(var D=0;D<I.g.length;D++){var N=this.i(C)>>>16,A=this.i(C)&65535,ye=I.i(D)>>>16,Ve=I.i(D)&65535;P[2*C+2*D]+=A*Ve,y(P,2*C+2*D),P[2*C+2*D+1]+=N*Ve,y(P,2*C+2*D+1),P[2*C+2*D+1]+=A*ye,y(P,2*C+2*D+1),P[2*C+2*D+2]+=N*ye,y(P,2*C+2*D+2)}for(C=0;C<x;C++)P[C]=P[2*C+1]<<16|P[2*C];for(C=x;C<2*x;C++)P[C]=0;return new o(P,0)};function y(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function _(I,x){this.g=I,this.h=x}function k(I,x){if(w(x))throw Error("division by zero");if(w(I))return new _(d,d);if(T(I))return x=k(b(I),x),new _(b(x.g),b(x.h));if(T(x))return x=k(I,b(x)),new _(b(x.g),x.h);if(30<I.g.length){if(T(I)||T(x))throw Error("slowDivide_ only works with positive integers.");for(var P=f,C=x;0>=C.l(I);)P=V(P),C=V(C);var D=j(P,1),N=j(C,1);for(C=j(C,2),P=j(P,2);!w(C);){var A=N.add(C);0>=A.l(I)&&(D=D.add(P),N=A),C=j(C,1),P=j(P,1)}return x=E(I,D.j(x)),new _(D,x)}for(D=d;0<=I.l(x);){for(P=Math.max(1,Math.floor(I.m()/x.m())),C=Math.ceil(Math.log(P)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),N=c(P),A=N.j(x);T(A)||0<A.l(I);)P-=C,N=c(P),A=N.j(x);w(N)&&(N=f),D=D.add(N),I=E(I,A)}return new _(D,I)}t.A=function(I){return k(this,I).h},t.and=function(I){for(var x=Math.max(this.g.length,I.g.length),P=[],C=0;C<x;C++)P[C]=this.i(C)&I.i(C);return new o(P,this.h&I.h)},t.or=function(I){for(var x=Math.max(this.g.length,I.g.length),P=[],C=0;C<x;C++)P[C]=this.i(C)|I.i(C);return new o(P,this.h|I.h)},t.xor=function(I){for(var x=Math.max(this.g.length,I.g.length),P=[],C=0;C<x;C++)P[C]=this.i(C)^I.i(C);return new o(P,this.h^I.h)};function V(I){for(var x=I.g.length+1,P=[],C=0;C<x;C++)P[C]=I.i(C)<<1|I.i(C-1)>>>31;return new o(P,I.h)}function j(I,x){var P=x>>5;x%=32;for(var C=I.g.length-P,D=[],N=0;N<C;N++)D[N]=0<x?I.i(N+P)>>>x|I.i(N+P+1)<<32-x:I.i(N+P);return new o(D,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sA=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Is=o}).apply(typeof PE<"u"?PE:typeof self<"u"?self:typeof window<"u"?window:{});var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iA,ll,oA,Jc,Tg,aA,lA,uA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,m){return u==Array.prototype||u==Object.prototype||(u[p]=m.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ac=="object"&&Ac];for(var p=0;p<u.length;++p){var m=u[p];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(u,p){if(p)e:{var m=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var L=u[S];if(!(L in m))break e;m=m[L]}u=u[u.length-1],S=m[u],p=p(S),p!=S&&p!=null&&e(m,u,{configurable:!0,writable:!0,value:p})}}function i(u,p){u instanceof String&&(u+="");var m=0,S=!1,L={next:function(){if(!S&&m<u.length){var F=m++;return{value:p(F,u[F]),done:!1}}return S=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(u){return u||function(){return i(this,function(p,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,m){return u.call.apply(u.bind,arguments)}function d(u,p,m){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,S),u.apply(p,L)}}return function(){return u.apply(p,arguments)}}function f(u,p,m){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,f.apply(null,arguments)}function v(u,p){var m=Array.prototype.slice.call(arguments,1);return function(){var S=m.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function w(u,p){function m(){}m.prototype=p.prototype,u.aa=p.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(S,L,F){for(var H=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)H[ke-2]=arguments[ke];return p.prototype[L].apply(S,H)}}function T(u){const p=u.length;if(0<p){const m=Array(p);for(let S=0;S<p;S++)m[S]=u[S];return m}return[]}function b(u,p){for(let m=1;m<arguments.length;m++){const S=arguments[m];if(l(S)){const L=u.length||0,F=S.length||0;u.length=L+F;for(let H=0;H<F;H++)u[L+H]=S[H]}else u.push(S)}}class E{constructor(p,m){this.i=p,this.j=m,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function y(u){return/^[\s\xa0]*$/.test(u)}function _(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function k(u){return k[" "](u),u}k[" "]=function(){};var V=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function j(u,p,m){for(const S in u)p.call(m,u[S],S,u)}function I(u,p){for(const m in u)p.call(void 0,u[m],m,u)}function x(u){const p={};for(const m in u)p[m]=u[m];return p}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,p){let m,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(m in S)u[m]=S[m];for(let F=0;F<P.length;F++)m=P[F],Object.prototype.hasOwnProperty.call(S,m)&&(u[m]=S[m])}}function D(u){var p=1;u=u.split(":");const m=[];for(;0<p&&u.length;)m.push(u.shift()),p--;return u.length&&m.push(u.join(":")),m}function N(u){a.setTimeout(()=>{throw u},0)}function A(){var u=Z;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class ye{constructor(){this.h=this.g=null}add(p,m){const S=Ve.get();S.set(p,m),this.h?this.h.next=S:this.g=S,this.h=S}}var Ve=new E(()=>new pt,u=>u.reset());class pt{constructor(){this.next=this.g=this.h=null}set(p,m){this.h=p,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,q=!1,Z=new ye,ne=()=>{const u=a.Promise.resolve(void 0);ce=()=>{u.then(Ce)}};var Ce=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(m){N(m)}var p=Ve;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}q=!1};function Se(){this.s=this.s,this.C=this.C}Se.prototype.s=!1,Se.prototype.ma=function(){this.s||(this.s=!0,this.N())},Se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Be(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}Be.prototype.h=function(){this.defaultPrevented=!0};var _n=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};a.addEventListener("test",m,p),a.removeEventListener("test",m,p)}catch{}return u}();function Dn(u,p){if(Be.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(V){e:{try{k(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else m=="mouseover"?p=u.fromElement:m=="mouseout"&&(p=u.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ln[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Dn.aa.h.call(this)}}w(Dn,Be);var ln={2:"touch",3:"pen",4:"mouse"};Dn.prototype.h=function(){Dn.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var wn="closure_listenable_"+(1e6*Math.random()|0),Sa=0;function Fu(u,p,m,S,L){this.listener=u,this.proxy=null,this.src=p,this.type=m,this.capture=!!S,this.ha=L,this.key=++Sa,this.da=this.fa=!1}function qi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Js(u){this.src=u,this.g={},this.h=0}Js.prototype.add=function(u,p,m,S,L){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var H=Hi(u,p,S,L);return-1<H?(p=u[H],m||(p.fa=!1)):(p=new Fu(p,this.src,F,!!S,L),p.fa=m,u.push(p)),p};function ba(u,p){var m=p.type;if(m in u.g){var S=u.g[m],L=Array.prototype.indexOf.call(S,p,void 0),F;(F=0<=L)&&Array.prototype.splice.call(S,L,1),F&&(qi(p),u.g[m].length==0&&(delete u.g[m],u.h--))}}function Hi(u,p,m,S){for(var L=0;L<u.length;++L){var F=u[L];if(!F.da&&F.listener==p&&F.capture==!!m&&F.ha==S)return L}return-1}var Ki="closure_lm_"+(1e6*Math.random()|0),Uu={};function Tf(u,p,m,S,L){if(Array.isArray(p)){for(var F=0;F<p.length;F++)Tf(u,p[F],m,S,L);return null}return m=ue(m),u&&u[wn]?u.K(p,m,c(S)?!!S.capture:!!S,L):I0(u,p,m,!1,S,L)}function I0(u,p,m,S,L,F){if(!p)throw Error("Invalid event type");var H=c(L)?!!L.capture:!!L,ke=W(u);if(ke||(u[Ki]=ke=new Js(u)),m=ke.add(p,m,S,H,F),m.proxy)return m;if(S=R(),m.proxy=S,S.src=u,S.listener=m,u.addEventListener)_n||(L=H),L===void 0&&(L=!1),u.addEventListener(p.toString(),S,L);else if(u.attachEvent)u.attachEvent(G(p.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return m}function R(){function u(m){return p.call(u.src,u.listener,m)}const p=K;return u}function M(u,p,m,S,L){if(Array.isArray(p))for(var F=0;F<p.length;F++)M(u,p[F],m,S,L);else S=c(S)?!!S.capture:!!S,m=ue(m),u&&u[wn]?(u=u.i,p=String(p).toString(),p in u.g&&(F=u.g[p],m=Hi(F,m,S,L),-1<m&&(qi(F[m]),Array.prototype.splice.call(F,m,1),F.length==0&&(delete u.g[p],u.h--)))):u&&(u=W(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Hi(p,m,S,L)),(m=-1<u?p[u]:null)&&U(m))}function U(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[wn])ba(p.i,u);else{var m=u.type,S=u.proxy;p.removeEventListener?p.removeEventListener(m,S,u.capture):p.detachEvent?p.detachEvent(G(m),S):p.addListener&&p.removeListener&&p.removeListener(S),(m=W(p))?(ba(m,u),m.h==0&&(m.src=null,p[Ki]=null)):qi(u)}}}function G(u){return u in Uu?Uu[u]:Uu[u]="on"+u}function K(u,p){if(u.da)u=!0;else{p=new Dn(p,this);var m=u.listener,S=u.ha||u.src;u.fa&&U(u),u=m.call(S,p)}return u}function W(u){return u=u[Ki],u instanceof Js?u:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function ue(u){return typeof u=="function"?u:(u[ee]||(u[ee]=function(p){return u.handleEvent(p)}),u[ee])}function ve(){Se.call(this),this.i=new Js(this),this.M=this,this.F=null}w(ve,Se),ve.prototype[wn]=!0,ve.prototype.removeEventListener=function(u,p,m,S){M(this,u,p,m,S)};function _e(u,p){var m,S=u.F;if(S)for(m=[];S;S=S.F)m.push(S);if(u=u.M,S=p.type||p,typeof p=="string")p=new Be(p,u);else if(p instanceof Be)p.target=p.target||u;else{var L=p;p=new Be(S,u),C(p,L)}if(L=!0,m)for(var F=m.length-1;0<=F;F--){var H=p.g=m[F];L=En(H,S,!0,p)&&L}if(H=p.g=u,L=En(H,S,!0,p)&&L,L=En(H,S,!1,p)&&L,m)for(F=0;F<m.length;F++)H=p.g=m[F],L=En(H,S,!1,p)&&L}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var m=u.g[p],S=0;S<m.length;S++)qi(m[S]);delete u.g[p],u.h--}}this.F=null},ve.prototype.K=function(u,p,m,S){return this.i.add(String(u),p,!1,m,S)},ve.prototype.L=function(u,p,m,S){return this.i.add(String(u),p,!0,m,S)};function En(u,p,m,S){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,F=0;F<p.length;++F){var H=p[F];if(H&&!H.da&&H.capture==m){var ke=H.listener,wt=H.ha||H.src;H.fa&&ba(u.i,H),L=ke.call(wt,S)!==!1&&L}}return L&&!S.defaultPrevented}function Bu(u,p,m){if(typeof u=="function")m&&(u=f(u,m));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function Gi(u){u.g=Bu(()=>{u.g=null,u.i&&(u.i=!1,Gi(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Ia extends Se{constructor(p,m){super(),this.m=p,this.l=m,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Gi(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zs(u){Se.call(this),this.h=u,this.g={}}w(Zs,Se);var Pa=[];function $u(u){j(u.g,function(p,m){this.g.hasOwnProperty(m)&&U(p)},u),u.g={}}Zs.prototype.N=function(){Zs.aa.N.call(this),$u(this)},Zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qi=a.JSON.stringify,$2=a.JSON.parse,z2=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function xf(){}xf.prototype.h=null;function P0(u){return u.h||(u.h=u.i())}function A0(){}var Aa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sf(){Be.call(this,"d")}w(Sf,Be);function bf(){Be.call(this,"c")}w(bf,Be);var ei={},k0=null;function zu(){return k0=k0||new ve}ei.La="serverreachability";function C0(u){Be.call(this,ei.La,u)}w(C0,Be);function ka(u){const p=zu();_e(p,new C0(p))}ei.STAT_EVENT="statevent";function R0(u,p){Be.call(this,ei.STAT_EVENT,u),this.stat=p}w(R0,Be);function $t(u){const p=zu();_e(p,new R0(p,u))}ei.Ma="timingevent";function N0(u,p){Be.call(this,ei.Ma,u),this.size=p}w(N0,Be);function Ca(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function Ra(){this.g=!0}Ra.prototype.xa=function(){this.g=!1};function W2(u,p,m,S,L,F){u.info(function(){if(u.g)if(F)for(var H="",ke=F.split("&"),wt=0;wt<ke.length;wt++){var Te=ke[wt].split("=");if(1<Te.length){var At=Te[0];Te=Te[1];var kt=At.split("_");H=2<=kt.length&&kt[1]=="type"?H+(At+"="+Te+"&"):H+(At+"=redacted&")}}else H=null;else H=F;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+p+`
`+m+`
`+H})}function q2(u,p,m,S,L,F,H){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+p+`
`+m+`
`+F+" "+H})}function Yi(u,p,m,S){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+K2(u,m)+(S?" "+S:"")})}function H2(u,p){u.info(function(){return"TIMEOUT: "+p})}Ra.prototype.info=function(){};function K2(u,p){if(!u.g)return p;if(!p)return null;try{var m=JSON.parse(p);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var S=m[u];if(!(2>S.length)){var L=S[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var H=1;H<L.length;H++)L[H]=""}}}}return Qi(m)}catch{return p}}var Wu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},D0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},If;function qu(){}w(qu,xf),qu.prototype.g=function(){return new XMLHttpRequest},qu.prototype.i=function(){return{}},If=new qu;function Wr(u,p,m,S){this.j=u,this.i=p,this.l=m,this.R=S||1,this.U=new Zs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new O0}function O0(){this.i=null,this.g="",this.h=!1}var V0={},Pf={};function Af(u,p,m){u.L=1,u.v=Qu(gr(p)),u.m=m,u.P=!0,L0(u,null)}function L0(u,p){u.F=Date.now(),Hu(u),u.A=gr(u.v);var m=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),Y0(m.i,"t",S),u.C=0,m=u.j.J,u.h=new O0,u.g=p_(u.j,m?p:null,!u.m),0<u.O&&(u.M=new Ia(f(u.Y,u,u.g),u.O)),p=u.U,m=u.g,S=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Pa[0]=L.toString()),L=Pa);for(var F=0;F<L.length;F++){var H=Tf(m,L[F],S||p.handleEvent,!1,p.h||p);if(!H)break;p.g[H.key]=H}p=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),ka(),W2(u.i,u.u,u.A,u.l,u.R,u.m)}Wr.prototype.ca=function(u){u=u.target;const p=this.M;p&&yr(u)==3?p.j():this.Y(u)},Wr.prototype.Y=function(u){try{if(u==this.g)e:{const kt=yr(this.g);var p=this.g.Ba();const Zi=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||r_(this.g)))){this.J||kt!=4||p==7||(p==8||0>=Zi?ka(3):ka(2)),kf(this);var m=this.g.Z();this.X=m;t:if(M0(this)){var S=r_(this.g);u="";var L=S.length,F=yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ti(this),Na(this);var H="";break t}this.h.i=new a.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,u+=this.h.i.decode(S[p],{stream:!(F&&p==L-1)});S.length=0,this.h.g+=u,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=m==200,q2(this.i,this.u,this.A,this.l,this.R,kt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,wt=this.g;if((ke=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(ke)){var Te=ke;break t}}Te=null}if(m=Te)Yi(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cf(this,m);else{this.o=!1,this.s=3,$t(12),ti(this),Na(this);break e}}if(this.P){m=!0;let On;for(;!this.J&&this.C<H.length;)if(On=G2(this,H),On==Pf){kt==4&&(this.s=4,$t(14),m=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(On==V0){this.s=4,$t(15),Yi(this.i,this.l,H,"[Invalid Chunk]"),m=!1;break}else Yi(this.i,this.l,On,null),Cf(this,On);if(M0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||H.length!=0||this.h.h||(this.s=1,$t(16),m=!1),this.o=this.o&&m,!m)Yi(this.i,this.l,H,"[Invalid Chunked Response]"),ti(this),Na(this);else if(0<H.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),Lf(At),At.M=!0,$t(11))}}else Yi(this.i,this.l,H,null),Cf(this,H);kt==4&&ti(this),this.o&&!this.J&&(kt==4?c_(this.j,this):(this.o=!1,Hu(this)))}else hC(this.g),m==400&&0<H.indexOf("Unknown SID")?(this.s=3,$t(12)):(this.s=0,$t(13)),ti(this),Na(this)}}}catch{}finally{}};function M0(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function G2(u,p){var m=u.C,S=p.indexOf(`
`,m);return S==-1?Pf:(m=Number(p.substring(m,S)),isNaN(m)?V0:(S+=1,S+m>p.length?Pf:(p=p.slice(S,S+m),u.C=S+m,p)))}Wr.prototype.cancel=function(){this.J=!0,ti(this)};function Hu(u){u.S=Date.now()+u.I,j0(u,u.I)}function j0(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ca(f(u.ba,u),p)}function kf(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Wr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(H2(this.i,this.A),this.L!=2&&(ka(),$t(17)),ti(this),this.s=2,Na(this)):j0(this,this.S-u)};function Na(u){u.j.G==0||u.J||c_(u.j,u)}function ti(u){kf(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,$u(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Cf(u,p){try{var m=u.j;if(m.G!=0&&(m.g==u||Rf(m.h,u))){if(!u.K&&Rf(m.h,u)&&m.G==3){try{var S=m.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)tc(m),Zu(m);else break e;Vf(m),$t(18)}}else m.za=L[1],0<m.za-m.T&&37500>L[2]&&m.F&&m.v==0&&!m.C&&(m.C=Ca(f(m.Za,m),6e3));if(1>=B0(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else ri(m,11)}else if((u.K||m.g==u)&&tc(m),!y(p))for(L=m.Da.g.parse(p),p=0;p<L.length;p++){let Te=L[p];if(m.T=Te[0],Te=Te[1],m.G==2)if(Te[0]=="c"){m.K=Te[1],m.ia=Te[2];const At=Te[3];At!=null&&(m.la=At,m.j.info("VER="+m.la));const kt=Te[4];kt!=null&&(m.Aa=kt,m.j.info("SVER="+m.Aa));const Zi=Te[5];Zi!=null&&typeof Zi=="number"&&0<Zi&&(S=1.5*Zi,m.L=S,m.j.info("backChannelRequestTimeoutMs_="+S)),S=m;const On=u.g;if(On){const rc=On.g?On.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rc){var F=S.h;F.g||rc.indexOf("spdy")==-1&&rc.indexOf("quic")==-1&&rc.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Nf(F,F.h),F.h=null))}if(S.D){const Mf=On.g?On.g.getResponseHeader("X-HTTP-Session-Id"):null;Mf&&(S.ya=Mf,Le(S.I,S.D,Mf))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),S=m;var H=u;if(S.qa=f_(S,S.J?S.ia:null,S.W),H.K){$0(S.h,H);var ke=H,wt=S.L;wt&&(ke.I=wt),ke.B&&(kf(ke),Hu(ke)),S.g=H}else l_(S);0<m.i.length&&ec(m)}else Te[0]!="stop"&&Te[0]!="close"||ri(m,7);else m.G==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?ri(m,7):Of(m):Te[0]!="noop"&&m.l&&m.l.ta(Te),m.v=0)}}ka(4)}catch{}}var Q2=class{constructor(u,p){this.g=u,this.map=p}};function F0(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function U0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function B0(u){return u.h?1:u.g?u.g.size:0}function Rf(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Nf(u,p){u.g?u.g.add(p):u.h=p}function $0(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}F0.prototype.cancel=function(){if(this.i=z0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function z0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const m of u.g.values())p=p.concat(m.D);return p}return T(u.i)}function Y2(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],m=u.length,S=0;S<m;S++)p.push(u[S]);return p}p=[],m=0;for(S in u)p[m++]=u[S];return p}function X2(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var m=0;m<u;m++)p.push(m);return p}p=[],m=0;for(const S in u)p[m++]=S;return p}}}function W0(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var m=X2(u),S=Y2(u),L=S.length,F=0;F<L;F++)p.call(void 0,S[F],m&&m[F],u)}var q0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function J2(u,p){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var S=u[m].indexOf("="),L=null;if(0<=S){var F=u[m].substring(0,S);L=u[m].substring(S+1)}else F=u[m];p(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ni(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ni){this.h=u.h,Ku(this,u.j),this.o=u.o,this.g=u.g,Gu(this,u.s),this.l=u.l;var p=u.i,m=new Va;m.i=p.i,p.g&&(m.g=new Map(p.g),m.h=p.h),H0(this,m),this.m=u.m}else u&&(p=String(u).match(q0))?(this.h=!1,Ku(this,p[1]||"",!0),this.o=Da(p[2]||""),this.g=Da(p[3]||"",!0),Gu(this,p[4]),this.l=Da(p[5]||"",!0),H0(this,p[6]||"",!0),this.m=Da(p[7]||"")):(this.h=!1,this.i=new Va(null,this.h))}ni.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Oa(p,K0,!0),":");var m=this.g;return(m||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Oa(p,K0,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(Oa(m,m.charAt(0)=="/"?tC:eC,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",Oa(m,rC)),u.join("")};function gr(u){return new ni(u)}function Ku(u,p,m){u.j=m?Da(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Gu(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function H0(u,p,m){p instanceof Va?(u.i=p,sC(u.i,u.h)):(m||(p=Oa(p,nC)),u.i=new Va(p,u.h))}function Le(u,p,m){u.i.set(p,m)}function Qu(u){return Le(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Da(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Oa(u,p,m){return typeof u=="string"?(u=encodeURI(u).replace(p,Z2),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Z2(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var K0=/[#\/\?@]/g,eC=/[#\?:]/g,tC=/[#\?]/g,nC=/[#\?@]/g,rC=/#/g;function Va(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function qr(u){u.g||(u.g=new Map,u.h=0,u.i&&J2(u.i,function(p,m){u.add(decodeURIComponent(p.replace(/\+/g," ")),m)}))}t=Va.prototype,t.add=function(u,p){qr(this),this.i=null,u=Xi(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(p),this.h+=1,this};function G0(u,p){qr(u),p=Xi(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Q0(u,p){return qr(u),p=Xi(u,p),u.g.has(p)}t.forEach=function(u,p){qr(this),this.g.forEach(function(m,S){m.forEach(function(L){u.call(p,L,S,this)},this)},this)},t.na=function(){qr(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),m=[];for(let S=0;S<p.length;S++){const L=u[S];for(let F=0;F<L.length;F++)m.push(p[S])}return m},t.V=function(u){qr(this);let p=[];if(typeof u=="string")Q0(this,u)&&(p=p.concat(this.g.get(Xi(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)p=p.concat(u[m])}return p},t.set=function(u,p){return qr(this),this.i=null,u=Xi(this,u),Q0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Y0(u,p,m){G0(u,p),0<m.length&&(u.i=null,u.g.set(Xi(u,p),T(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var m=0;m<p.length;m++){var S=p[m];const F=encodeURIComponent(String(S)),H=this.V(S);for(S=0;S<H.length;S++){var L=F;H[S]!==""&&(L+="="+encodeURIComponent(String(H[S]))),u.push(L)}}return this.i=u.join("&")};function Xi(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function sC(u,p){p&&!u.j&&(qr(u),u.i=null,u.g.forEach(function(m,S){var L=S.toLowerCase();S!=L&&(G0(this,S),Y0(this,L,m))},u)),u.j=p}function iC(u,p){const m=new Ra;if(a.Image){const S=new Image;S.onload=v(Hr,m,"TestLoadImage: loaded",!0,p,S),S.onerror=v(Hr,m,"TestLoadImage: error",!1,p,S),S.onabort=v(Hr,m,"TestLoadImage: abort",!1,p,S),S.ontimeout=v(Hr,m,"TestLoadImage: timeout",!1,p,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else p(!1)}function oC(u,p){const m=new Ra,S=new AbortController,L=setTimeout(()=>{S.abort(),Hr(m,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:S.signal}).then(F=>{clearTimeout(L),F.ok?Hr(m,"TestPingServer: ok",!0,p):Hr(m,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Hr(m,"TestPingServer: error",!1,p)})}function Hr(u,p,m,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(m)}catch{}}function aC(){this.g=new z2}function lC(u,p,m){const S=m||"";try{W0(u,function(L,F){let H=L;c(L)&&(H=Qi(L)),p.push(S+F+"="+encodeURIComponent(H))})}catch(L){throw p.push(S+"type="+encodeURIComponent("_badmap")),L}}function Yu(u){this.l=u.Ub||null,this.j=u.eb||!1}w(Yu,xf),Yu.prototype.g=function(){return new Xu(this.l,this.j)},Yu.prototype.i=function(u){return function(){return u}}({});function Xu(u,p){ve.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Xu,ve),t=Xu.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Ma(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,La(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ma(this)),this.g&&(this.readyState=3,Ma(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;X0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function X0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?La(this):Ma(this),this.readyState==3&&X0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,La(this))},t.Qa=function(u){this.g&&(this.response=u,La(this))},t.ga=function(){this.g&&La(this)};function La(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ma(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var m=p.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=p.next();return u.join(`\r
`)};function Ma(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Xu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function J0(u){let p="";return j(u,function(m,S){p+=S,p+=":",p+=m,p+=`\r
`}),p}function Df(u,p,m){e:{for(S in m){var S=!1;break e}S=!0}S||(m=J0(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):Le(u,p,m))}function Ke(u){ve.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Ke,ve);var uC=/^https?$/i,cC=["POST","PUT"];t=Ke.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,m,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():If.g(),this.v=this.o?P0(this.o):P0(If),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(F){Z0(this,F);return}if(u=m||"",m=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)m.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())m.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(m.keys()).find(F=>F.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(cC,p,void 0))||S||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,H]of m)this.g.setRequestHeader(F,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{n_(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){Z0(this,F)}};function Z0(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,e_(u),Ju(u)}function e_(u){u.A||(u.A=!0,_e(u,"complete"),_e(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,_e(this,"complete"),_e(this,"abort"),Ju(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ju(this,!0)),Ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?t_(this):this.bb())},t.bb=function(){t_(this)};function t_(u){if(u.h&&typeof o<"u"&&(!u.v[1]||yr(u)!=4||u.Z()!=2)){if(u.u&&yr(u)==4)Bu(u.Ea,0,u);else if(_e(u,"readystatechange"),yr(u)==4){u.h=!1;try{const H=u.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var m;if(!(m=p)){var S;if(S=H===0){var L=String(u.D).match(q0)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),S=!uC.test(L?L.toLowerCase():"")}m=S}if(m)_e(u,"complete"),_e(u,"success");else{u.m=6;try{var F=2<yr(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",e_(u)}}finally{Ju(u)}}}}function Ju(u,p){if(u.g){n_(u);const m=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||_e(u,"ready");try{m.onreadystatechange=S}catch{}}}function n_(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function yr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<yr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),$2(p)}};function r_(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function hC(u){const p={};u=(u.g&&2<=yr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(y(u[S]))continue;var m=D(u[S]);const L=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const F=p[L]||[];p[L]=F,F.push(m)}I(p,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ja(u,p,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||p}function s_(u){this.Aa=0,this.i=[],this.j=new Ra,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ja("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ja("baseRetryDelayMs",5e3,u),this.cb=ja("retryDelaySeedMs",1e4,u),this.Wa=ja("forwardChannelMaxRetries",2,u),this.wa=ja("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new F0(u&&u.concurrentRequestLimit),this.Da=new aC,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=s_.prototype,t.la=8,t.G=1,t.connect=function(u,p,m,S){$t(0),this.W=u,this.H=p||{},m&&S!==void 0&&(this.H.OSID=m,this.H.OAID=S),this.F=this.X,this.I=f_(this,null,this.W),ec(this)};function Of(u){if(i_(u),u.G==3){var p=u.U++,m=gr(u.I);if(Le(m,"SID",u.K),Le(m,"RID",p),Le(m,"TYPE","terminate"),Fa(u,m),p=new Wr(u,u.j,p),p.L=2,p.v=Qu(gr(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=p.v,m=!0),m||(p.g=p_(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Hu(p)}d_(u)}function Zu(u){u.g&&(Lf(u),u.g.cancel(),u.g=null)}function i_(u){Zu(u),u.u&&(a.clearTimeout(u.u),u.u=null),tc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function ec(u){if(!U0(u.h)&&!u.s){u.s=!0;var p=u.Ga;ce||ne(),q||(ce(),q=!0),Z.add(p,u),u.B=0}}function dC(u,p){return B0(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ca(f(u.Ga,u,p),h_(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Wr(this,this.j,u);let F=this.o;if(this.S&&(F?(F=x(F),C(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var p=0,m=0;m<this.i.length;m++){t:{var S=this.i[m];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=m;break e}if(p===4096||m===this.i.length-1){p=m+1;break e}}p=1e3}else p=1e3;p=a_(this,L,p),m=gr(this.I),Le(m,"RID",u),Le(m,"CVER",22),this.D&&Le(m,"X-HTTP-Session-Id",this.D),Fa(this,m),F&&(this.O?p="headers="+encodeURIComponent(String(J0(F)))+"&"+p:this.m&&Df(m,this.m,F)),Nf(this.h,L),this.Ua&&Le(m,"TYPE","init"),this.P?(Le(m,"$req",p),Le(m,"SID","null"),L.T=!0,Af(L,m,null)):Af(L,m,p),this.G=2}}else this.G==3&&(u?o_(this,u):this.i.length==0||U0(this.h)||o_(this))};function o_(u,p){var m;p?m=p.l:m=u.U++;const S=gr(u.I);Le(S,"SID",u.K),Le(S,"RID",m),Le(S,"AID",u.T),Fa(u,S),u.m&&u.o&&Df(S,u.m,u.o),m=new Wr(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),p&&(u.i=p.D.concat(u.i)),p=a_(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Nf(u.h,m),Af(m,S,p)}function Fa(u,p){u.H&&j(u.H,function(m,S){Le(p,S,m)}),u.l&&W0({},function(m,S){Le(p,S,m)})}function a_(u,p,m){m=Math.min(u.i.length,m);var S=u.l?f(u.l.Na,u.l,u):null;e:{var L=u.i;let F=-1;for(;;){const H=["count="+m];F==-1?0<m?(F=L[0].g,H.push("ofs="+F)):F=0:H.push("ofs="+F);let ke=!0;for(let wt=0;wt<m;wt++){let Te=L[wt].g;const At=L[wt].map;if(Te-=F,0>Te)F=Math.max(0,L[wt].g-100),ke=!1;else try{lC(At,H,"req"+Te+"_")}catch{S&&S(At)}}if(ke){S=H.join("&");break e}}}return u=u.i.splice(0,m),p.D=u,S}function l_(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;ce||ne(),q||(ce(),q=!0),Z.add(p,u),u.v=0}}function Vf(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ca(f(u.Fa,u),h_(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,u_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ca(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$t(10),Zu(this),u_(this))};function Lf(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function u_(u){u.g=new Wr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=gr(u.qa);Le(p,"RID","rpc"),Le(p,"SID",u.K),Le(p,"AID",u.T),Le(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Le(p,"TO",u.ja),Le(p,"TYPE","xmlhttp"),Fa(u,p),u.m&&u.o&&Df(p,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=Qu(gr(p)),m.m=null,m.P=!0,L0(m,u)}t.Za=function(){this.C!=null&&(this.C=null,Zu(this),Vf(this),$t(19))};function tc(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function c_(u,p){var m=null;if(u.g==p){tc(u),Lf(u),u.g=null;var S=2}else if(Rf(u.h,p))m=p.D,$0(u.h,p),S=1;else return;if(u.G!=0){if(p.o)if(S==1){m=p.m?p.m.length:0,p=Date.now()-p.F;var L=u.B;S=zu(),_e(S,new N0(S,m)),ec(u)}else l_(u);else if(L=p.s,L==3||L==0&&0<p.X||!(S==1&&dC(u,p)||S==2&&Vf(u)))switch(m&&0<m.length&&(p=u.h,p.i=p.i.concat(m)),L){case 1:ri(u,5);break;case 4:ri(u,10);break;case 3:ri(u,6);break;default:ri(u,2)}}}function h_(u,p){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*p}function ri(u,p){if(u.j.info("Error code "+p),p==2){var m=f(u.fb,u),S=u.Xa;const L=!S;S=new ni(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ku(S,"https"),Qu(S),L?iC(S.toString(),m):oC(S.toString(),m)}else $t(2);u.G=0,u.l&&u.l.sa(p),d_(u),i_(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function d_(u){if(u.G=0,u.ka=[],u.l){const p=z0(u.h);(p.length!=0||u.i.length!=0)&&(b(u.ka,p),b(u.ka,u.i),u.h.i.length=0,T(u.i),u.i.length=0),u.l.ra()}}function f_(u,p,m){var S=m instanceof ni?gr(m):new ni(m);if(S.g!="")p&&(S.g=p+"."+S.g),Gu(S,S.s);else{var L=a.location;S=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var F=new ni(null);S&&Ku(F,S),p&&(F.g=p),L&&Gu(F,L),m&&(F.l=m),S=F}return m=u.D,p=u.ya,m&&p&&Le(S,m,p),Le(S,"VER",u.la),Fa(u,S),S}function p_(u,p,m){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Ke(new Yu({eb:m})):new Ke(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function m_(){}t=m_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function nc(){}nc.prototype.g=function(u,p){return new un(u,p)};function un(u,p){ve.call(this),this.g=new s_(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!y(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!y(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Ji(this)}w(un,ve),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Of(this.g)},un.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=Qi(u),u=m);p.i.push(new Q2(p.Ya++,u)),p.G==3&&ec(p)},un.prototype.N=function(){this.g.l=null,delete this.j,Of(this.g),delete this.g,un.aa.N.call(this)};function g_(u){Sf.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const m in p){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}w(g_,Sf);function y_(){bf.call(this),this.status=1}w(y_,bf);function Ji(u){this.g=u}w(Ji,m_),Ji.prototype.ua=function(){_e(this.g,"a")},Ji.prototype.ta=function(u){_e(this.g,new g_(u))},Ji.prototype.sa=function(u){_e(this.g,new y_)},Ji.prototype.ra=function(){_e(this.g,"b")},nc.prototype.createWebChannel=nc.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,uA=function(){return new nc},lA=function(){return zu()},aA=ei,Tg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wu.NO_ERROR=0,Wu.TIMEOUT=8,Wu.HTTP_ERROR=6,Jc=Wu,D0.COMPLETE="complete",oA=D0,A0.EventType=Aa,Aa.OPEN="a",Aa.CLOSE="b",Aa.ERROR="c",Aa.MESSAGE="d",ve.prototype.listen=ve.prototype.K,ll=A0,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,iA=Ke}).apply(typeof Ac<"u"?Ac:typeof self<"u"?self:typeof window<"u"?window:{});const AE="@firebase/firestore",kE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let va="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new bv("@firebase/firestore");function co(){return Di.logLevel}function Y(t,...e){if(Di.logLevel<=pe.DEBUG){const n=e.map(Av);Di.debug(`Firestore (${va}): ${t}`,...n)}}function Fr(t,...e){if(Di.logLevel<=pe.ERROR){const n=e.map(Av);Di.error(`Firestore (${va}): ${t}`,...n)}}function ra(t,...e){if(Di.logLevel<=pe.WARN){const n=e.map(Av);Di.warn(`Firestore (${va}): ${t}`,...n)}}function Av(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,cA(t,r,n)}function cA(t,e,n){let r=`FIRESTORE (${va}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Fr(r),new Error(r)}function be(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||cA(e,s,r)}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}}class jF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class FF{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){be(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Ps;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ps,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ps)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(be(typeof r.accessToken=="string",31837,{l:r}),new hA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string",2055,{h:e}),new Vt(e)}}class UF{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BF{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new UF(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $F{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){be(this.o===void 0,3512);const r=i=>{i.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new CE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(be(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new CE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=zF(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function me(t,e){return t<e?-1:t>e?1:0}function xg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Lp(s)===Lp(i)?me(s,i):Lp(s)?1:-1}return me(t.length,e.length)}const WF=55296,qF=57343;function Lp(t){const e=t.charCodeAt(0);return e>=WF&&e<=qF}function sa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="__name__";class Xn{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Xn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return me(e.length,n.length)}static compareSegments(e,n){const r=Xn.isNumericId(e),s=Xn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Xn.extractNumericId(e).compare(Xn.extractNumericId(n)):xg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Is.fromString(e.substring(4,e.length-2))}}class Ne extends Xn{construct(e,n,r){return new Ne(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ne(n)}static emptyPath(){return new Ne([])}}const HF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends Xn{construct(e,n,r){return new St(e,n,r)}static isValidIdentifier(e){return HF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===RE}static keyField(){return new St([RE])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Q(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Q(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Q(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(n)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Ne.fromString(e))}static fromName(e){return new te(Ne.fromString(e).popFirst(5))}static empty(){return new te(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Ne(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(t,e,n){if(!n)throw new Q(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function KF(t,e,n,r){if(e===!0&&r===!0)throw new Q(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function NE(t){if(!te.isDocumentKey(t))throw new Q(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function DE(t){if(te.isDocumentKey(t))throw new Q(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Zd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se(12329,{type:typeof t})}function ia(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zd(t);throw new Q(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t,e){const n={typeString:t};return e&&(n.value=e),n}function Au(t,e){if(!fA(t))throw new Q(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Q(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=-62135596800,VE=1e6;class De{static now(){return De.fromMillis(Date.now())}static fromDate(e){return De.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*VE);return new De(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<OE)throw new Q(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/VE}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:De._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Au(e,De._jsonSchema))return new De(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-OE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}De._jsonSchemaVersion="firestore/timestamp/1.0",De._jsonSchema={type:at("string",De._jsonSchemaVersion),seconds:at("number"),nanoseconds:at("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{static fromTimestamp(e){return new oe(e)}static min(){return new oe(new De(0,0))}static max(){return new oe(new De(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=-1;function GF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=oe.fromTimestamp(r===1e9?new De(n+1,0):new De(n,r));return new Vs(s,te.empty(),e)}function QF(t){return new Vs(t.readTime,t.key,su)}class Vs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Vs(oe.min(),te.empty(),su)}static max(){return new Vs(oe.max(),te.empty(),su)}}function YF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _a(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==XF)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new $((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function ZF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ef.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=-1;function tf(t){return t==null}function Xh(t){return t===0&&1/t==-1/0}function eU(t){return typeof t=="number"&&Number.isInteger(t)&&!Xh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="";function tU(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=LE(e)),e=nU(t.get(n),e);return LE(e)}function nU(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case pA:n+="";break;default:n+=i}}return n}function LE(t){return t+pA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ys(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){this.comparator=e,this.root=n||xt.EMPTY}insert(e,n){return new He(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xt.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kc(this.root,e,this.comparator,!0)}}class kc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??xt.RED,this.left=s??xt.EMPTY,this.right=i??xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new xt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return xt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw se(27949);return e+(this.isRed()?0:1)}}xt.EMPTY=null,xt.RED=!0,xt.BLACK=!1;xt.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jE(this.data.getIterator())}getIteratorFrom(e){return new jE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new dt(this.comparator);return n.data=e,n}}class jE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new dn([])}unionWith(e){let n=new dt(St.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new gA("Invalid base64 string: "+i):i}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const rU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(t){if(be(!!t,39018),typeof t=="string"){let e=0;const n=rU.exec(t);if(be(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ms(t){return typeof t=="string"?Pt.fromBase64String(t):Pt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="server_timestamp",vA="__type__",_A="__previous_value__",wA="__local_write_time__";function Rv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[vA])==null?void 0:r.stringValue)===yA}function nf(t){const e=t.mapValue.fields[_A];return Rv(e)?nf(e):e}function iu(t){const e=Ls(t.mapValue.fields[wA].timestampValue);return new De(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e,n,r,s,i,o,a,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const Jh="(default)";class ou{constructor(e,n){this.projectId=e,this.database=n||Jh}static empty(){return new ou("","")}get isDefaultDatabase(){return this.database===Jh}isEqual(e){return e instanceof ou&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="__type__",TA="__max__",Cc={mapValue:{fields:{__type__:{stringValue:TA}}}},xA="__vector__",Zh="value";function js(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Rv(t)?4:oU(t)?9007199254740991:iU(t)?10:11:se(28295,{value:t})}function pr(t,e){if(t===e)return!0;const n=js(t);if(n!==js(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return iu(t).isEqual(iu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ls(s.timestampValue),a=Ls(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ms(s.bytesValue).isEqual(Ms(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return tt(s.geoPointValue.latitude)===tt(i.geoPointValue.latitude)&&tt(s.geoPointValue.longitude)===tt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return tt(s.integerValue)===tt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=tt(s.doubleValue),a=tt(i.doubleValue);return o===a?Xh(o)===Xh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return sa(t.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(ME(o)!==ME(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!pr(o[l],a[l])))return!1;return!0}(t,e);default:return se(52216,{left:t})}}function au(t,e){return(t.values||[]).find(n=>pr(n,e))!==void 0}function oa(t,e){if(t===e)return 0;const n=js(t),r=js(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=tt(i.integerValue||i.doubleValue),l=tt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return FE(t.timestampValue,e.timestampValue);case 4:return FE(iu(t),iu(e));case 5:return xg(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ms(i),l=Ms(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=me(a[c],l[c]);if(h!==0)return h}return me(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=me(tt(i.latitude),tt(o.latitude));return a!==0?a:me(tt(i.longitude),tt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return UE(t.arrayValue,e.arrayValue);case 10:return function(i,o){var f,v,w,T;const a=i.fields||{},l=o.fields||{},c=(f=a[Zh])==null?void 0:f.arrayValue,h=(v=l[Zh])==null?void 0:v.arrayValue,d=me(((w=c==null?void 0:c.values)==null?void 0:w.length)||0,((T=h==null?void 0:h.values)==null?void 0:T.length)||0);return d!==0?d:UE(c,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Cc.mapValue&&o===Cc.mapValue)return 0;if(i===Cc.mapValue)return 1;if(o===Cc.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=xg(l[d],h[d]);if(f!==0)return f;const v=oa(a[l[d]],c[h[d]]);if(v!==0)return v}return me(l.length,h.length)}(t.mapValue,e.mapValue);default:throw se(23264,{he:n})}}function FE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);const n=Ls(t),r=Ls(e),s=me(n.seconds,r.seconds);return s!==0?s:me(n.nanos,r.nanos)}function UE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=oa(n[s],r[s]);if(i)return i}return me(n.length,r.length)}function aa(t){return Sg(t)}function Sg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ls(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ms(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Sg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Sg(n.fields[o])}`;return s+"}"}(t.mapValue):se(61005,{value:t})}function Zc(t){switch(js(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nf(t);return e?16+Zc(e):16;case 5:return 2*t.stringValue.length;case 6:return Ms(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Zc(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ys(r.fields,(i,o)=>{s+=i.length+Zc(o)}),s}(t.mapValue);default:throw se(13486,{value:t})}}function BE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function bg(t){return!!t&&"integerValue"in t}function Nv(t){return!!t&&"arrayValue"in t}function $E(t){return!!t&&"nullValue"in t}function zE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function eh(t){return!!t&&"mapValue"in t}function iU(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[EA])==null?void 0:r.stringValue)===xA}function Il(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ys(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Il(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Il(t.arrayValue.values[n]);return e}return{...t}}function oU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===TA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Il(n)}setAll(e){let n=St.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Il(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];eh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ys(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new nn(Il(this.value))}}function SA(t){const e=[];return Ys(t.fields,(n,r)=>{const s=new St([n]);if(eh(r)){const i=SA(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Mt(e,0,oe.min(),oe.min(),oe.min(),nn.empty(),0)}static newFoundDocument(e,n,r,s){return new Mt(e,1,n,oe.min(),r,s,0)}static newNoDocument(e,n){return new Mt(e,2,n,oe.min(),oe.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,oe.min(),oe.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n){this.position=e,this.inclusive=n}}function WE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=oa(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function qE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n="asc"){this.field=e,this.dir=n}}function aU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{}class ot extends bA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new uU(e,n,r):n==="array-contains"?new dU(e,r):n==="in"?new fU(e,r):n==="not-in"?new pU(e,r):n==="array-contains-any"?new mU(e,r):new ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cU(e,r):new hU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(oa(n,this.value)):n!==null&&js(this.value)===js(n)&&this.matchesComparison(oa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends bA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Kn(e,n)}matches(e){return IA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function IA(t){return t.op==="and"}function PA(t){return lU(t)&&IA(t)}function lU(t){for(const e of t.filters)if(e instanceof Kn)return!1;return!0}function Ig(t){if(t instanceof ot)return t.field.canonicalString()+t.op.toString()+aa(t.value);if(PA(t))return t.filters.map(e=>Ig(e)).join(",");{const e=t.filters.map(n=>Ig(n)).join(",");return`${t.op}(${e})`}}function AA(t,e){return t instanceof ot?function(r,s){return s instanceof ot&&r.op===s.op&&r.field.isEqual(s.field)&&pr(r.value,s.value)}(t,e):t instanceof Kn?function(r,s){return s instanceof Kn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&AA(o,s.filters[a]),!0):!1}(t,e):void se(19439)}function kA(t){return t instanceof ot?function(n){return`${n.field.canonicalString()} ${n.op} ${aa(n.value)}`}(t):t instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(kA).join(" ,")+"}"}(t):"Filter"}class uU extends ot{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class cU extends ot{constructor(e,n){super(e,"in",n),this.keys=CA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class hU extends ot{constructor(e,n){super(e,"not-in",n),this.keys=CA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function CA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class dU extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Nv(n)&&au(n.arrayValue,this.value)}}class fU extends ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&au(this.value.arrayValue,n)}}class pU extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!au(this.value.arrayValue,n)}}class mU extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Nv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>au(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function HE(t,e=null,n=[],r=[],s=null,i=null,o=null){return new gU(t,e,n,r,s,i,o)}function Dv(t){const e=ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ig(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),tf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>aa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>aa(r)).join(",")),e.Te=n}return e.Te}function Ov(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!aU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qE(t.startAt,e.startAt)&&qE(t.endAt,e.endAt)}function Pg(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yU(t,e,n,r,s,i,o,a){return new ku(t,e,n,r,s,i,o,a)}function RA(t){return new ku(t)}function KE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function NA(t){return t.collectionGroup!==null}function Pl(t){const e=ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new dt(St.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new td(i,r))}),n.has(St.keyField().canonicalString())||e.Ie.push(new td(St.keyField(),r))}return e.Ie}function ar(t){const e=ae(t);return e.Ee||(e.Ee=vU(e,Pl(t))),e.Ee}function vU(t,e){if(t.limitType==="F")return HE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new td(s.field,i)});const n=t.endAt?new ed(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ed(t.startAt.position,t.startAt.inclusive):null;return HE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ag(t,e){const n=t.filters.concat([e]);return new ku(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function kg(t,e,n){return new ku(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rf(t,e){return Ov(ar(t),ar(e))&&t.limitType===e.limitType}function DA(t){return`${Dv(ar(t))}|lt:${t.limitType}`}function ho(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>kA(s)).join(", ")}]`),tf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>aa(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>aa(s)).join(",")),`Target(${r})`}(ar(t))}; limitType=${t.limitType})`}function sf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):te.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Pl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=WE(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Pl(r),s)||r.endAt&&!function(o,a,l){const c=WE(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Pl(r),s))}(t,e)}function _U(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OA(t){return(e,n)=>{let r=!1;for(const s of Pl(t)){const i=wU(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function wU(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?oa(l,c):se(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ys(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return mA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU=new He(te.comparator);function Ur(){return EU}const VA=new He(te.comparator);function ul(...t){let e=VA;for(const n of t)e=e.insert(n.key,n);return e}function LA(t){let e=VA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _i(){return Al()}function MA(){return Al()}function Al(){return new zi(t=>t.toString(),(t,e)=>t.isEqual(e))}const TU=new He(te.comparator),xU=new dt(te.comparator);function ge(...t){let e=xU;for(const n of t)e=e.add(n);return e}const SU=new dt(me);function bU(){return SU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xh(e)?"-0":e}}function jA(t){return{integerValue:""+t}}function IU(t,e){return eU(e)?jA(e):Vv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(){this._=void 0}}function PU(t,e,n){return t instanceof lu?function(s,i){const o={fields:{[vA]:{stringValue:yA},[wA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Rv(i)&&(i=nf(i)),i&&(o.fields[_A]=i),{mapValue:o}}(n,e):t instanceof uu?UA(t,e):t instanceof cu?BA(t,e):function(s,i){const o=FA(s,i),a=GE(o)+GE(s.Ae);return bg(o)&&bg(s.Ae)?jA(a):Vv(s.serializer,a)}(t,e)}function AU(t,e,n){return t instanceof uu?UA(t,e):t instanceof cu?BA(t,e):n}function FA(t,e){return t instanceof nd?function(r){return bg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class lu extends of{}class uu extends of{constructor(e){super(),this.elements=e}}function UA(t,e){const n=$A(e);for(const r of t.elements)n.some(s=>pr(s,r))||n.push(r);return{arrayValue:{values:n}}}class cu extends of{constructor(e){super(),this.elements=e}}function BA(t,e){let n=$A(e);for(const r of t.elements)n=n.filter(s=>!pr(s,r));return{arrayValue:{values:n}}}class nd extends of{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function GE(t){return tt(t.integerValue||t.doubleValue)}function $A(t){return Nv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e,n){this.field=e,this.transform=n}}function CU(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof uu&&s instanceof uu||r instanceof cu&&s instanceof cu?sa(r.elements,s.elements,pr):r instanceof nd&&s instanceof nd?pr(r.Ae,s.Ae):r instanceof lu&&s instanceof lu}(t.transform,e.transform)}class RU{constructor(e,n){this.version=e,this.transformResults=n}}class lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class af{}function zA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qA(t.key,lr.none()):new Cu(t.key,t.data,lr.none());{const n=t.data,r=nn.empty();let s=new dt(St.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Xs(t.key,r,new dn(s.toArray()),lr.none())}}function NU(t,e,n){t instanceof Cu?function(s,i,o){const a=s.value.clone(),l=YE(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Xs?function(s,i,o){if(!th(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=YE(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(WA(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function kl(t,e,n,r){return t instanceof Cu?function(i,o,a,l){if(!th(i.precondition,o))return a;const c=i.value.clone(),h=XE(i.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xs?function(i,o,a,l){if(!th(i.precondition,o))return a;const c=XE(i.fieldTransforms,l,o),h=o.data;return h.setAll(WA(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,o,a){return th(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function DU(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=FA(r.transform,s||null);i!=null&&(n===null&&(n=nn.empty()),n.set(r.field,i))}return n||null}function QE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&sa(r,s,(i,o)=>CU(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cu extends af{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Xs extends af{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function WA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function YE(t,e,n){const r=new Map;be(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,AU(o,a,n[s]))}return r}function XE(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,PU(i,o,e))}return r}class qA extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OU extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&NU(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=kl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=kl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=MA();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=zA(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&sa(this.mutations,e.mutations,(n,r)=>QE(n,r))&&sa(this.baseMutations,e.baseMutations,(n,r)=>QE(n,r))}}class Lv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){be(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return TU}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Lv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,we;function jU(t){switch(t){case B.OK:return se(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return se(15467,{code:t})}}function HA(t){if(t===void 0)return Fr("GRPC error has no .code"),B.UNKNOWN;switch(t){case st.OK:return B.OK;case st.CANCELLED:return B.CANCELLED;case st.UNKNOWN:return B.UNKNOWN;case st.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case st.INTERNAL:return B.INTERNAL;case st.UNAVAILABLE:return B.UNAVAILABLE;case st.UNAUTHENTICATED:return B.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case st.NOT_FOUND:return B.NOT_FOUND;case st.ALREADY_EXISTS:return B.ALREADY_EXISTS;case st.PERMISSION_DENIED:return B.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case st.ABORTED:return B.ABORTED;case st.OUT_OF_RANGE:return B.OUT_OF_RANGE;case st.UNIMPLEMENTED:return B.UNIMPLEMENTED;case st.DATA_LOSS:return B.DATA_LOSS;default:return se(39323,{code:t})}}(we=st||(st={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU=new Is([4294967295,4294967295],0);function JE(t){const e=FU().encode(t),n=new sA;return n.update(e),new Uint8Array(n.digest())}function ZE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Is([n,r],0),new Is([s,i],0)]}class Mv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new cl(`Invalid padding: ${n}`);if(r<0)throw new cl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new cl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new cl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Is.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Is.fromNumber(r)));return s.compare(UU)===1&&(s=new Is([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=JE(e),[r,s]=ZE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Mv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=JE(e),[r,s]=ZE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new lf(oe.min(),s,new He(me),Ur(),ge())}}class Ru{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ru(r,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class KA{constructor(e,n){this.targetId=e,this.Ce=n}}class GA{constructor(e,n,r=Pt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class eT{constructor(){this.ve=0,this.Fe=tT(),this.Me=Pt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ge(),n=ge(),r=ge();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:se(38017,{changeType:i})}}),new Ru(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=tT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,be(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class BU{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ur(),this.Je=Rc(),this.He=Rc(),this.Ye=new He(me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Pg(i))if(r===0){const o=new te(i.path);this.et(n,o,Mt.newNoDocument(o,oe.min()))}else be(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ms(r).toUint8Array()}catch(l){if(l instanceof gA)return ra("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Mv(o,s,i)}catch(l){return ra(l instanceof cl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Pg(a.target)){const l=new te(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Mt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=ge();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new lf(e,n,this.Ye,this.je,r);return this.je=Ur(),this.Je=Rc(),this.He=Rc(),this.Ye=new He(me),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new eT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new dt(me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new dt(me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new eT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Rc(){return new He(te.comparator)}function tT(){return new He(te.comparator)}const $U={asc:"ASCENDING",desc:"DESCENDING"},zU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WU={and:"AND",or:"OR"};class qU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cg(t,e){return t.useProto3Json||tf(e)?e:{value:e}}function rd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function HU(t,e){return rd(t,e.toTimestamp())}function ur(t){return be(!!t,49232),oe.fromTimestamp(function(n){const r=Ls(n);return new De(r.seconds,r.nanos)}(t))}function jv(t,e){return Rg(t,e).canonicalString()}function Rg(t,e){const n=function(s){return new Ne(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function YA(t){const e=Ne.fromString(t);return be(tk(e),10190,{key:e.toString()}),e}function Ng(t,e){return jv(t.databaseId,e.path)}function Mp(t,e){const n=YA(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(JA(n))}function XA(t,e){return jv(t.databaseId,e)}function KU(t){const e=YA(t);return e.length===4?Ne.emptyPath():JA(e)}function Dg(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function JA(t){return be(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function nT(t,e,n){return{name:Ng(t,e),fields:n.value.mapValue.fields}}function GU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:se(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(be(h===void 0||typeof h=="string",58123),Pt.fromBase64String(h||"")):(be(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Pt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?B.UNKNOWN:HA(c.code);return new Q(h,c.message||"")}(o);n=new GA(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Mp(t,r.document.name),i=ur(r.document.updateTime),o=r.document.createTime?ur(r.document.createTime):oe.min(),a=new nn({mapValue:{fields:r.document.fields}}),l=Mt.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new nh(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Mp(t,r.document),i=r.readTime?ur(r.readTime):oe.min(),o=Mt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new nh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Mp(t,r.document),i=r.removedTargetIds||[];n=new nh([],i,s,null)}else{if(!("filter"in e))return se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new MU(s,i),a=r.targetId;n=new KA(a,o)}}return n}function QU(t,e){let n;if(e instanceof Cu)n={update:nT(t,e.key,e.value)};else if(e instanceof qA)n={delete:Ng(t,e.key)};else if(e instanceof Xs)n={update:nT(t,e.key,e.data),updateMask:s5(e.fieldMask)};else{if(!(e instanceof OU))return se(16599,{Vt:e.type});n={verify:Ng(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof lu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof uu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof cu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof nd)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw se(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:HU(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:se(27497)}(t,e.precondition)),n}function YU(t,e){return t&&t.length>0?(be(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?ur(s.updateTime):ur(i);return o.isEqual(oe.min())&&(o=ur(i)),new RU(o,s.transformResults||[])}(n,e))):[]}function XU(t,e){return{documents:[XA(t,e.path)]}}function JU(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=XA(t,s);const i=function(c){if(c.length!==0)return ek(Kn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(f){return{field:fo(f.field),direction:t5(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Cg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function ZU(t){let e=KU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){be(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(d){const f=ZA(d);return f instanceof Kn&&PA(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(w){return new td(po(w.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,tf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,v=d.values||[];return new ed(v,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,v=d.values||[];return new ed(v,f)}(n.endAt)),yU(e,s,o,i,a,"F",l,c)}function e5(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ZA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=po(n.unaryFilter.field);return ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=po(n.unaryFilter.field);return ot.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=po(n.unaryFilter.field);return ot.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=po(n.unaryFilter.field);return ot.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}}(t):t.fieldFilter!==void 0?function(n){return ot.create(po(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(r=>ZA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return se(1026)}}(n.compositeFilter.op))}(t):se(30097,{filter:t})}function t5(t){return $U[t]}function n5(t){return zU[t]}function r5(t){return WU[t]}function fo(t){return{fieldPath:t.canonicalString()}}function po(t){return St.fromServerFormat(t.fieldPath)}function ek(t){return t instanceof ot?function(n){if(n.op==="=="){if(zE(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NAN"}};if($E(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zE(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NAN"}};if($E(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(n.field),op:n5(n.op),value:n.value}}}(t):t instanceof Kn?function(n){const r=n.getFilters().map(s=>ek(s));return r.length===1?r[0]:{compositeFilter:{op:r5(n.op),filters:r}}}(t):se(54877,{filter:t})}function s5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n,r,s,i=oe.min(),o=oe.min(),a=Pt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e){this.yt=e}}function o5(t){const e=ZU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?kg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(){this.Cn=new l5}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Vs.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Vs.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class l5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new dt(Ne.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new dt(Ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nk=41943040;class Jt{static withCacheSize(e){return new Jt(e,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jt.DEFAULT_COLLECTION_PERCENTILE=10,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jt.DEFAULT=new Jt(nk,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jt.DISABLED=new Jt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new la(0)}static cr(){return new la(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="LruGarbageCollector",u5=1048576;function iT([t,e],[n,r]){const s=me(t,n);return s===0?me(e,r):s}class c5{constructor(e){this.Ir=e,this.buffer=new dt(iT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();iT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class h5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Y(sT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wa(n)?Y(sT,"Ignoring IndexedDB error during garbage collection: ",n):await _a(n)}await this.Vr(3e5)})}}class d5{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(ef.ce);const r=new c5(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(rT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,o=Date.now(),this.nthSequenceNumber(e,s))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(i=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),co()<=pe.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:d})))}}function f5(t,e){return new d5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(){this.changes=new zi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&kl(r.mutation,s,dn.empty(),De.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const s=_i();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ul();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=_i();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Ur();const o=Al(),a=function(){return Al()}();return n.forEach((l,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof Xs)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),kl(h.mutation,c,h.mutation.getFieldMask(),De.now())):o.set(c.key,dn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>a.set(c,new m5(h,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Al();let s=new He((o,a)=>o-a),i=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||dn.empty();h=a.applyToLocalView(c,h),r.set(l,h);const d=(s.get(a.batchId)||ge()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,d=MA();h.forEach(f=>{if(!i.has(f)){const v=zA(n.get(f),r.get(f));v!==null&&d.set(f,v),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(_i());let a=su,l=i;return o.next(c=>$.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(h)?$.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,ge())).next(h=>({batchId:a,changes:LA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let s=ul();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ul();return this.indexManager.getCollectionParents(e,i).next(a=>$.forEach(a,l=>{const c=function(d,f){return new ku(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Mt.newInvalidDocument(h)))});let a=ul();return o.forEach((l,c)=>{const h=i.get(l);h!==void 0&&kl(h.mutation,c,dn.empty(),De.now()),sf(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ur(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:o5(s.bundledQuery),readTime:ur(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(){this.overlays=new He(te.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_i();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=_i(),i=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new He((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=_i(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=_i(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return $.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new LU(n,r));let i=this.qr.get(n);i===void 0&&(i=ge(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(){this.Qr=new dt(gt.$r),this.Ur=new dt(gt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new gt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new gt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new te(new Ne([])),r=new gt(n,e),s=new gt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new te(new Ne([])),r=new gt(n,e),s=new gt(n,e+1);let i=ge();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new gt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class gt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return te.comparator(e.key,n.key)||me(e.Yr,n.Yr)}static Kr(e,n){return me(e.Yr,n.Yr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new dt(gt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new VU(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new gt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Cv:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gt(n,0),s=new gt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dt(me);return n.forEach(s=>{const i=new gt(s,0),o=new gt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;te.isDocumentKey(i)||(i=i.child(""));const o=new gt(new te(i),0);let a=new dt(me);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Yr)),!0)},o),$.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){be(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,s=>{const i=new gt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new gt(n,0),s=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e){this.ri=e,this.docs=function(){return new He(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=Ur();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Mt.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Ur();const o=n.path,a=new te(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||YF(QF(h),r)<=0||(s.has(h.key)||sf(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){se(9500)}ii(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new T5(this)}getSize(e){return $.resolve(this.size)}}class T5 extends p5{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e){this.persistence=e,this.si=new zi(n=>Dv(n),Ov),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.oi=0,this._i=new Fv,this.targetCount=0,this.ai=la.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new la(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,n){this.ui={},this.overlays={},this.ci=new ef(0),this.li=!1,this.li=!0,this.hi=new _5,this.referenceDelegate=e(this),this.Pi=new x5(this),this.indexManager=new a5,this.remoteDocumentCache=function(s){return new E5(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new i5(n),this.Ii=new y5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new v5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new w5(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const s=new S5(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return $.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class S5 extends JF{constructor(e){super(),this.currentSequenceNumber=e}}class Uv{constructor(e){this.persistence=e,this.Ri=new Fv,this.Vi=null}static mi(e){return new Uv(e)}get fi(){if(this.Vi)return this.Vi;throw se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,r=>{const s=te.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,oe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class sd{constructor(e,n){this.persistence=e,this.pi=new zi(r=>tU(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=f5(this,n)}static mi(e,n){return new sd(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return $.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?$.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,oe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zc(e.data.value)),n}br(e,n,r){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=ge(),s=ge();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Bv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return _3()?8:ZF(Bt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new b5;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(co()<=pe.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(co()<=pe.DEBUG&&Y("QueryEngine","Query:",ho(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(co()<=pe.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ar(n))):$.resolve())}ys(e,n){if(KE(n))return $.resolve(null);let r=ar(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=kg(n,null,"F"),r=ar(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ge(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(e,kg(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,s){return KE(n)||s.isEqual(oe.min())?$.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?$.resolve(null):(co()<=pe.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ho(n)),this.vs(e,o,n,GF(s,su)).next(a=>a))})}Ds(e,n){let r=new dt(OA(e));return n.forEach((s,i)=>{sf(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return co()<=pe.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",ho(n)),this.ps.getDocumentsMatchingQuery(e,n,Vs.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="LocalStore",P5=3e8;class A5{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new He(me),this.xs=new zi(i=>Dv(i),Ov),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new g5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function k5(t,e,n,r){return new A5(t,e,n,r)}async function sk(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=ge();for(const c of s){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function C5(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const d=c.batch,f=d.keys();let v=$.resolve();return f.forEach(w=>{v=v.next(()=>h.getEntry(l,w)).next(T=>{const b=c.docVersions.get(w);be(b!==null,48541),T.version.compareTo(b)<0&&(d.applyToRemoteDocument(T,c),T.isValidDocument()&&(T.setReadTime(c.commitVersion),h.addEntry(T)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ge();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function ik(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function R5(t,e){const n=ae(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,d)=>{const f=s.get(d);if(!f)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,d).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,d)));let v=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?v=v.withResumeToken(Pt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),s=s.insert(d,v),function(T,b,E){return T.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=P5?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(f,v,h)&&a.push(n.Pi.updateTargetData(i,v))});let l=Ur(),c=ge();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(N5(i,o,e.documentUpdates).next(h=>{l=h.ks,c=h.qs})),!r.isEqual(oe.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(d=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return $.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ms=s,i))}function N5(t,e,n){let r=ge(),s=ge();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Ur();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(oe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Y($v,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:s}})}function D5(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Cv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function O5(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new ps(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Og(t,e,n){const r=ae(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!wa(o))throw o;Y($v,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function oT(t,e,n){const r=ae(t);let s=oe.min(),i=ge();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const d=ae(l),f=d.xs.get(h);return f!==void 0?$.resolve(d.Ms.get(f)):d.Pi.getTargetData(c,h)}(r,o,ar(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:oe.min(),n?i:ge())).next(a=>(V5(r,_U(e),a),{documents:a,Qs:i})))}function V5(t,e,n){let r=t.Os.get(e)||oe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class aT{constructor(){this.activeTargetIds=bU()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class L5{constructor(){this.Mo=new aT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new aT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="ConnectivityMonitor";class uT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Y(lT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Y(lT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc=null;function Vg(){return Nc===null?Nc=function(){return 268435456+Math.round(2147483648*Math.random())}():Nc++,"0x"+Nc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="RestConnection",j5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class F5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Jh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Vg(),a=this.zo(e,n.toUriEncodedString());Y(jp,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:c}=new URL(a),h=Qs(c);return this.Jo(e,a,l,r,h).then(d=>(Y(jp,`Received RPC '${e}' ${o}: `,d),d),d=>{throw ra(jp,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",r),d})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+va}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=j5[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nt="WebChannelConnection";class B5 extends F5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Vg();return new Promise((a,l)=>{const c=new iA;c.setWithCredentials(!0),c.listenOnce(oA.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Jc.NO_ERROR:const d=c.getResponseJson();Y(Nt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case Jc.TIMEOUT:Y(Nt,`RPC '${e}' ${o} timed out`),l(new Q(B.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const f=c.getStatus();if(Y(Nt,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);const w=v==null?void 0:v.error;if(w&&w.status&&w.message){const T=function(E){const y=E.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(y)>=0?y:B.UNKNOWN}(w.status);l(new Q(T,w.message))}else l(new Q(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Q(B.UNAVAILABLE,"Connection failed."));break;default:se(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Y(Nt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);Y(Nt,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",h,r,15)})}T_(e,n,r){const s=Vg(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=uA(),a=lA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");Y(Nt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const d=o.createWebChannel(h,l);this.I_(d);let f=!1,v=!1;const w=new U5({Yo:b=>{v?Y(Nt,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(f||(Y(Nt,`Opening RPC '${e}' stream ${s} transport.`),d.open(),f=!0),Y(Nt,`RPC '${e}' stream ${s} sending:`,b),d.send(b))},Zo:()=>d.close()}),T=(b,E,y)=>{b.listen(E,_=>{try{y(_)}catch(k){setTimeout(()=>{throw k},0)}})};return T(d,ll.EventType.OPEN,()=>{v||(Y(Nt,`RPC '${e}' stream ${s} transport opened.`),w.o_())}),T(d,ll.EventType.CLOSE,()=>{v||(v=!0,Y(Nt,`RPC '${e}' stream ${s} transport closed`),w.a_(),this.E_(d))}),T(d,ll.EventType.ERROR,b=>{v||(v=!0,ra(Nt,`RPC '${e}' stream ${s} transport errored. Name:`,b.name,"Message:",b.message),w.a_(new Q(B.UNAVAILABLE,"The operation could not be completed")))}),T(d,ll.EventType.MESSAGE,b=>{var E;if(!v){const y=b.data[0];be(!!y,16349);const _=y,k=(_==null?void 0:_.error)||((E=_[0])==null?void 0:E.error);if(k){Y(Nt,`RPC '${e}' stream ${s} received error:`,k);const V=k.status;let j=function(P){const C=st[P];if(C!==void 0)return HA(C)}(V),I=k.message;j===void 0&&(j=B.INTERNAL,I="Unknown error status: "+V+" with message "+k.message),v=!0,w.a_(new Q(j,I)),d.close()}else Y(Nt,`RPC '${e}' stream ${s} received:`,y),w.u_(y)}}),T(a,aA.STAT_EVENT,b=>{b.stat===Tg.PROXY?Y(Nt,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===Tg.NOPROXY&&Y(Nt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.__()},0),w}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Fp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t){return new qU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Y("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="PersistentStream";class ak{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ok(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Fr(n.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Q(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Y(cT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Y(cT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $5 extends ak{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=GU(this.serializer,e),r=function(i){if(!("targetChange"in i))return oe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?oe.min():o.readTime?ur(o.readTime):oe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Dg(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Pg(l)?{documents:XU(i,l)}:{query:JU(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=QA(i,o.resumeToken);const c=Cg(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(oe.min())>0){a.readTime=rd(i,o.snapshotVersion.toTimestamp());const c=Cg(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=e5(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Dg(this.serializer),n.removeTarget=e,this.q_(n)}}class z5 extends ak{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=YU(e.writeResults,e.commitTime),r=ur(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Dg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>QU(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{}class q5 extends W5{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Q(B.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Rg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Q(B.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Rg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(B.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class H5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fr(n),this.aa=!1):Y("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="RemoteStore";class K5{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Wi(this)&&(Y(Oi,"Restarting streams for network reachability change."),await async function(l){const c=ae(l);c.Ea.add(4),await Nu(c),c.Ra.set("Unknown"),c.Ea.delete(4),await cf(c)}(this))})}),this.Ra=new H5(r,s)}}async function cf(t){if(Wi(t))for(const e of t.da)await e(!0)}async function Nu(t){for(const e of t.da)await e(!1)}function lk(t,e){const n=ae(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Hv(n)?qv(n):Ea(n).O_()&&Wv(n,e))}function zv(t,e){const n=ae(t),r=Ea(n);n.Ia.delete(e),r.O_()&&uk(n,e),n.Ia.size===0&&(r.O_()?r.L_():Wi(n)&&n.Ra.set("Unknown"))}function Wv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ea(t).Y_(e)}function uk(t,e){t.Va.Ue(e),Ea(t).Z_(e)}function qv(t){t.Va=new BU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ea(t).start(),t.Ra.ua()}function Hv(t){return Wi(t)&&!Ea(t).x_()&&t.Ia.size>0}function Wi(t){return ae(t).Ea.size===0}function ck(t){t.Va=void 0}async function G5(t){t.Ra.set("Online")}async function Q5(t){t.Ia.forEach((e,n)=>{Wv(t,e)})}async function Y5(t,e){ck(t),Hv(t)?(t.Ra.ha(e),qv(t)):t.Ra.set("Unknown")}async function X5(t,e,n){if(t.Ra.set("Online"),e instanceof GA&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){Y(Oi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await id(t,r)}else if(e instanceof nh?t.Va.Ze(e):e instanceof KA?t.Va.st(e):t.Va.tt(e),!n.isEqual(oe.min()))try{const r=await ik(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(c);h&&i.Ia.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(Pt.EMPTY_BYTE_STRING,h.snapshotVersion)),uk(i,l);const d=new ps(h.target,l,c,h.sequenceNumber);Wv(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Y(Oi,"Failed to raise snapshot:",r),await id(t,r)}}async function id(t,e,n){if(!wa(e))throw e;t.Ea.add(1),await Nu(t),t.Ra.set("Offline"),n||(n=()=>ik(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y(Oi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await cf(t)})}function hk(t,e){return e().catch(n=>id(t,n,e))}async function hf(t){const e=ae(t),n=Fs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cv;for(;J5(e);)try{const s=await D5(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,Z5(e,s)}catch(s){await id(e,s)}dk(e)&&fk(e)}function J5(t){return Wi(t)&&t.Ta.length<10}function Z5(t,e){t.Ta.push(e);const n=Fs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function dk(t){return Wi(t)&&!Fs(t).x_()&&t.Ta.length>0}function fk(t){Fs(t).start()}async function e9(t){Fs(t).ra()}async function t9(t){const e=Fs(t);for(const n of t.Ta)e.ea(n.mutations)}async function n9(t,e,n){const r=t.Ta.shift(),s=Lv.from(r,e,n);await hk(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await hf(t)}async function r9(t,e){e&&Fs(t).X_&&await async function(r,s){if(function(o){return jU(o)&&o!==B.ABORTED}(s.code)){const i=r.Ta.shift();Fs(r).B_(),await hk(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await hf(r)}}(t,e),dk(t)&&fk(t)}async function hT(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),Y(Oi,"RemoteStore received new credentials");const r=Wi(n);n.Ea.add(3),await Nu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await cf(n)}async function s9(t,e){const n=ae(t);e?(n.Ea.delete(2),await cf(n)):e||(n.Ea.add(2),await Nu(n),n.Ra.set("Unknown"))}function Ea(t){return t.ma||(t.ma=function(n,r,s){const i=ae(n);return i.sa(),new $5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:G5.bind(null,t),t_:Q5.bind(null,t),r_:Y5.bind(null,t),H_:X5.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Hv(t)?qv(t):t.Ra.set("Unknown")):(await t.ma.stop(),ck(t))})),t.ma}function Fs(t){return t.fa||(t.fa=function(n,r,s){const i=ae(n);return i.sa(),new z5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:e9.bind(null,t),r_:r9.bind(null,t),ta:t9.bind(null,t),na:n9.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await hf(t)):(await t.fa.stop(),t.Ta.length>0&&(Y(Oi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Kv(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gv(t,e){if(Fr("AsyncQueue",`${e}: ${t}`),wa(t))return new Q(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{static emptySet(e){return new Fo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=ul(),this.sortedSet=new He(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Fo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(){this.ga=new He(te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ua{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ua(e,n,Fo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class o9{constructor(){this.queries=fT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ae(n),i=s.queries;s.queries=fT(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Q(B.ABORTED,"Firestore shutting down"))}}function fT(){return new zi(t=>DA(t),rf)}async function a9(t,e){const n=ae(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new i9,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Gv(o,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Qv(n)}async function l9(t,e){const n=ae(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function u9(t,e){const n=ae(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Qv(n)}function c9(t,e,n){const r=ae(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Qv(t){t.Ca.forEach(e=>{e.next()})}var Lg,pT;(pT=Lg||(Lg={})).Ma="default",pT.Cache="cache";class h9{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ua(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Lg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.key=e}}class mk{constructor(e){this.key=e}}class d9{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ge(),this.mutatedKeys=ge(),this.eu=OA(e),this.tu=new Fo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new dT,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,d)=>{const f=s.get(h),v=sf(this.query,d)?d:null,w=!!f&&this.mutatedKeys.has(f.key),T=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let b=!1;f&&v?f.data.isEqual(v.data)?w!==T&&(r.track({type:3,doc:v}),b=!0):this.su(f,v)||(r.track({type:2,doc:v}),b=!0,(l&&this.eu(v,l)>0||c&&this.eu(v,c)<0)&&(a=!0)):!f&&v?(r.track({type:0,doc:v}),b=!0):f&&!v&&(r.track({type:1,doc:f}),b=!0,(l||c)&&(a=!0)),b&&(v?(o=o.add(v),i=T?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,d)=>function(v,w){const T=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{Rt:b})}};return T(v)-T(w)}(h.type,d.type)||this.eu(h.doc,d.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new ua(this.query,e.tu,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ge(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new mk(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new pk(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ua.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Yv="SyncEngine";class f9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class p9{constructor(e){this.key=e,this.hu=!1}}class m9{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new zi(a=>DA(a),rf),this.Iu=new Map,this.Eu=new Set,this.du=new He(te.comparator),this.Au=new Map,this.Ru=new Fv,this.Vu={},this.mu=new Map,this.fu=la.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function g9(t,e,n=!0){const r=Ek(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await gk(r,e,n,!0),s}async function y9(t,e){const n=Ek(t);await gk(n,e,!0,!1)}async function gk(t,e,n,r){const s=await O5(t.localStore,ar(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await v9(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&lk(t.remoteStore,s),a}async function v9(t,e,n,r,s){t.pu=(d,f,v)=>async function(T,b,E,y){let _=b.view.ru(E);_.Cs&&(_=await oT(T.localStore,b.query,!1).then(({documents:I})=>b.view.ru(I,_)));const k=y&&y.targetChanges.get(b.targetId),V=y&&y.targetMismatches.get(b.targetId)!=null,j=b.view.applyChanges(_,T.isPrimaryClient,k,V);return gT(T,b.targetId,j.au),j.snapshot}(t,d,f,v);const i=await oT(t.localStore,e,!0),o=new d9(e,i.Qs),a=o.ru(i.documents),l=Ru.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);gT(t,n,c.au);const h=new f9(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function _9(t,e,n){const r=ae(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!rf(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Og(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&zv(r.remoteStore,s.targetId),Mg(r,s.targetId)}).catch(_a)):(Mg(r,s.targetId),await Og(r.localStore,s.targetId,!0))}async function w9(t,e){const n=ae(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zv(n.remoteStore,r.targetId))}async function E9(t,e,n){const r=A9(t);try{const s=await function(o,a){const l=ae(o),c=De.now(),h=a.reduce((v,w)=>v.add(w.key),ge());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let w=Ur(),T=ge();return l.Ns.getEntries(v,h).next(b=>{w=b,w.forEach((E,y)=>{y.isValidDocument()||(T=T.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,w)).next(b=>{d=b;const E=[];for(const y of a){const _=DU(y,d.get(y.key).overlayedDocument);_!=null&&E.push(new Xs(y.key,_,SA(_.value.mapValue),lr.exists(!0)))}return l.mutationQueue.addMutationBatch(v,c,E,a)}).next(b=>{f=b;const E=b.applyToLocalDocumentSet(d,T);return l.documentOverlayCache.saveOverlays(v,b.batchId,E)})}).then(()=>({batchId:f.batchId,changes:LA(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new He(me)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(r,s.batchId,n),await Du(r,s.changes),await hf(r.remoteStore)}catch(s){const i=Gv(s,"Failed to persist write");n.reject(i)}}async function yk(t,e){const n=ae(t);try{const r=await R5(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(be(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?be(o.hu,14607):s.removedDocuments.size>0&&(be(o.hu,42227),o.hu=!1))}),await Du(n,r,e)}catch(r){await _a(r)}}function mT(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ae(o);l.onlineState=a;let c=!1;l.queries.forEach((h,d)=>{for(const f of d.Sa)f.va(a)&&(c=!0)}),c&&Qv(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function T9(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new He(te.comparator);o=o.insert(i,Mt.newNoDocument(i,oe.min()));const a=ge().add(i),l=new lf(oe.min(),new Map,new He(me),o,a);await yk(r,l),r.du=r.du.remove(i),r.Au.delete(e),Xv(r)}else await Og(r.localStore,e,!1).then(()=>Mg(r,e,n)).catch(_a)}async function x9(t,e){const n=ae(t),r=e.batch.batchId;try{const s=await C5(n.localStore,e);_k(n,r,null),vk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Du(n,s)}catch(s){await _a(s)}}async function S9(t,e,n){const r=ae(t);try{const s=await function(o,a){const l=ae(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(be(d!==null,37113),h=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);_k(r,e,n),vk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Du(r,s)}catch(s){await _a(s)}}function vk(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function _k(t,e,n){const r=ae(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Mg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||wk(t,r)})}function wk(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(zv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Xv(t))}function gT(t,e,n){for(const r of n)r instanceof pk?(t.Ru.addReference(r.key,e),b9(t,r)):r instanceof mk?(Y(Yv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||wk(t,r.key)):se(19791,{wu:r})}function b9(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Y(Yv,"New document in limbo: "+n),t.Eu.add(r),Xv(t))}function Xv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new te(Ne.fromString(e)),r=t.fu.next();t.Au.set(r,new p9(n)),t.du=t.du.insert(n,r),lk(t.remoteStore,new ps(ar(RA(n.path)),r,"TargetPurposeLimboResolution",ef.ce))}}async function Du(t,e,n){const r=ae(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){s.push(c);const d=Bv.As(l.targetId,c);i.push(d)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,c){const h=ae(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>$.forEach(c,f=>$.forEach(f.Es,v=>h.persistence.referenceDelegate.addReference(d,f.targetId,v)).next(()=>$.forEach(f.ds,v=>h.persistence.referenceDelegate.removeReference(d,f.targetId,v)))))}catch(d){if(!wa(d))throw d;Y($v,"Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const v=h.Ms.get(f),w=v.snapshotVersion,T=v.withLastLimboFreeSnapshotVersion(w);h.Ms=h.Ms.insert(f,T)}}}(r.localStore,i))}async function I9(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){Y(Yv,"User change. New user:",e.toKey());const r=await sk(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new Q(B.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Du(n,r.Ls)}}function P9(t,e){const n=ae(t),r=n.Au.get(e);if(r&&r.hu)return ge().add(r.key);{let s=ge();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function Ek(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=P9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T9.bind(null,e),e.Pu.H_=u9.bind(null,e.eventManager),e.Pu.yu=c9.bind(null,e.eventManager),e}function A9(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=x9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S9.bind(null,e),e}class od{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return k5(this.persistence,new I5,e.initialUser,this.serializer)}Cu(e){return new rk(Uv.mi,this.serializer)}Du(e){return new L5}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}od.provider={build:()=>new od};class k9 extends od{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){be(this.persistence.referenceDelegate instanceof sd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new h5(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Jt.withCacheSize(this.cacheSizeBytes):Jt.DEFAULT;return new rk(r=>sd.mi(r,n),this.serializer)}}class jg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=I9.bind(null,this.syncEngine),await s9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new o9}()}createDatastore(e){const n=uf(e.databaseInfo.databaseId),r=function(i){return new B5(i)}(e.databaseInfo);return function(i,o,a,l){return new q5(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new K5(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>mT(this.syncEngine,n,0),function(){return uT.v()?new uT:new M5}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,h){const d=new m9(s,i,o,a,l,c);return h&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ae(s);Y(Oi,"RemoteStore shutting down."),i.Ea.add(5),await Nu(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}jg.provider={build:()=>new jg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Fr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="FirestoreClient";class R9{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Vt.UNAUTHENTICATED,this.clientId=kv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Y(Us,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y(Us,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Gv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Up(t,e){t.asyncQueue.verifyOperationInProgress(),Y(Us,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await sk(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function yT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await N9(t);Y(Us,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>hT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>hT(e.remoteStore,s)),t._onlineComponents=e}async function N9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(Us,"Using user provided OfflineComponentProvider");try{await Up(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ra("Error using user provided cache. Falling back to memory cache: "+n),await Up(t,new od)}}else Y(Us,"Using default OfflineComponentProvider"),await Up(t,new k9(void 0));return t._offlineComponents}async function Tk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(Us,"Using user provided OnlineComponentProvider"),await yT(t,t._uninitializedComponentsProvider._online)):(Y(Us,"Using default OnlineComponentProvider"),await yT(t,new jg))),t._onlineComponents}function D9(t){return Tk(t).then(e=>e.syncEngine)}async function O9(t){const e=await Tk(t),n=e.eventManager;return n.onListen=g9.bind(null,e.syncEngine),n.onUnlisten=_9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=y9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=w9.bind(null,e.syncEngine),n}function V9(t,e,n={}){const r=new Ps;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const h=new C9({next:f=>{h.Nu(),o.enqueueAndForget(()=>l9(i,d)),f.fromCache&&l.source==="server"?c.reject(new Q(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new h9(a,h,{includeMetadataChanges:!0,qa:!0});return a9(i,d)}(await O9(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk="firestore.googleapis.com",_T=!0;class wT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Q(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sk,this.ssl=_T}else this.host=e.host,this.ssl=e.ssl??_T;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<u5)throw new Q(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xk(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class df{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new MF;switch(r.type){case"firstParty":return new BF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=vT.get(n);r&&(Y("ComponentProvider","Removing Datastore"),vT.delete(n),r.terminate())}(this),Promise.resolve()}}function L9(t,e,n,r={}){var c;t=ia(t,df);const s=Qs(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(xv(`https://${a}`),Sv("Firestore",!0)),i.host!==Sk&&i.host!==a&&ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!Ri(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=Vt.MOCK_USER;else{h=JP(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Q(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Vt(f)}t._authCredentials=new jF(new hA(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ta(this.firestore,e,this._query)}}class ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ht(this.firestore,e,this._key)}toJSON(){return{type:ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Au(n,ht._jsonSchema))return new ht(e,r||null,new te(Ne.fromString(n.referencePath)))}}ht._jsonSchemaVersion="firestore/documentReference/1.0",ht._jsonSchema={type:at("string",ht._jsonSchemaVersion),referencePath:at("string")};class As extends Ta{constructor(e,n,r){super(e,n,RA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new te(e))}withConverter(e){return new As(this.firestore,e,this._path)}}function ET(t,e,...n){if(t=ft(t),dA("collection","path",e),t instanceof df){const r=Ne.fromString(e,...n);return DE(r),new As(t,null,r)}{if(!(t instanceof ht||t instanceof As))throw new Q(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return DE(r),new As(t.firestore,null,r)}}function bk(t,e,...n){if(t=ft(t),arguments.length===1&&(e=kv.newId()),dA("doc","path",e),t instanceof df){const r=Ne.fromString(e,...n);return NE(r),new ht(t,null,new te(r))}{if(!(t instanceof ht||t instanceof As))throw new Q(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return NE(r),new ht(t.firestore,t instanceof As?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="AsyncQueue";class xT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ok(this,"async_queue_retry"),this._c=()=>{const r=Fp();r&&Y(TT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Fp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Fp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ps;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wa(e))throw e;Y(TT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Fr("INTERNAL UNHANDLED ERROR: ",ST(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Kv.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&se(47125,{Pc:ST(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ST(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ff extends df{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new xT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xT(e),this._firestoreClient=void 0,await e}}}function M9(t,e){const n=typeof t=="object"?t:Pv(),r=typeof t=="string"?t:Jh,s=Jd(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=QP("firestore");i&&L9(s,...i)}return s}function Ik(t){if(t._terminated)throw new Q(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||j9(t),t._firestoreClient}function j9(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,c,h){return new sU(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,xk(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new R9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Pt.fromBase64String(e))}catch(n){throw new Q(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pn(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Au(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:at("string",Pn._jsonSchemaVersion),bytes:at("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:cr._jsonSchemaVersion}}static fromJSON(e){if(Au(e,cr._jsonSchema))return new cr(e.latitude,e.longitude)}}cr._jsonSchemaVersion="firestore/geoPoint/1.0",cr._jsonSchema={type:at("string",cr._jsonSchemaVersion),latitude:at("number"),longitude:at("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:hr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Au(e,hr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new hr(e.vectorValues);throw new Q(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hr._jsonSchemaVersion="firestore/vectorValue/1.0",hr._jsonSchema={type:at("string",hr._jsonSchemaVersion),vectorValues:at("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9=/^__.*__$/;class U9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cu(e,this.data,n,this.fieldTransforms)}}class Pk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ak(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{Ac:t})}}class Jv{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Jv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ad(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Ak(this.Ac)&&F9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class B9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||uf(e)}Cc(e,n,r,s=!1){return new Jv({Ac:e,methodName:n,Dc:r,path:St.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zv(t){const e=t._freezeSettings(),n=uf(t._databaseId);return new B9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $9(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);t0("Data must be an object, but it was:",o,r);const a=kk(r,o);let l,c;if(i.merge)l=new dn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const d of i.mergeFields){const f=Fg(e,d,n);if(!o.contains(f))throw new Q(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Rk(h,f)||h.push(f)}l=new dn(h),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new U9(new nn(a),l,c)}class gf extends mf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gf}}class e0 extends mf{_toFieldTransform(e){return new kU(e.path,new lu)}isEqual(e){return e instanceof e0}}function z9(t,e,n,r){const s=t.Cc(1,e,n);t0("Data must be an object, but it was:",s,r);const i=[],o=nn.empty();Ys(r,(l,c)=>{const h=n0(e,l,n);c=ft(c);const d=s.yc(h);if(c instanceof gf)i.push(h);else{const f=Ou(c,d);f!=null&&(i.push(h),o.set(h,f))}});const a=new dn(i);return new Pk(o,a,s.fieldTransforms)}function W9(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[Fg(e,r,n)],l=[s];if(i.length%2!=0)throw new Q(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(Fg(e,i[f])),l.push(i[f+1]);const c=[],h=nn.empty();for(let f=a.length-1;f>=0;--f)if(!Rk(c,a[f])){const v=a[f];let w=l[f];w=ft(w);const T=o.yc(v);if(w instanceof gf)c.push(v);else{const b=Ou(w,T);b!=null&&(c.push(v),h.set(v,b))}}const d=new dn(c);return new Pk(h,d,o.fieldTransforms)}function q9(t,e,n,r=!1){return Ou(n,t.Cc(r?4:3,e))}function Ou(t,e){if(Ck(t=ft(t)))return t0("Unsupported field value:",e,t),kk(t,e);if(t instanceof mf)return function(r,s){if(!Ak(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Ou(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return IU(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=De.fromDate(r);return{timestampValue:rd(s.serializer,i)}}if(r instanceof De){const i=new De(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rd(s.serializer,i)}}if(r instanceof cr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pn)return{bytesValue:QA(s.serializer,r._byteString)};if(r instanceof ht){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:jv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof hr)return function(o,a){return{mapValue:{fields:{[EA]:{stringValue:xA},[Zh]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return Vv(a.serializer,c)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Zd(r)}`)}(t,e)}function kk(t,e){const n={};return mA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ys(t,(r,s)=>{const i=Ou(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Ck(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof De||t instanceof cr||t instanceof Pn||t instanceof ht||t instanceof mf||t instanceof hr)}function t0(t,e,n){if(!Ck(n)||!fA(n)){const r=Zd(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Fg(t,e,n){if((e=ft(e))instanceof pf)return e._internalPath;if(typeof e=="string")return n0(t,e);throw ad("Field path arguments must be of type string or ",t,!1,void 0,n)}const H9=new RegExp("[~\\*/\\[\\]]");function n0(t,e,n){if(e.search(H9)>=0)throw ad(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pf(...e.split("."))._internalPath}catch{throw ad(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ad(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Q(B.INVALID_ARGUMENT,a+t+l)}function Rk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new K9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(r0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class K9 extends Nk{data(){return super.data()}}function r0(t,e){return typeof e=="string"?n0(t,e):e instanceof pf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class s0{}class Q9 extends s0{}function Y9(t,e,...n){let r=[];e instanceof s0&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof i0).length,a=i.filter(l=>l instanceof yf).length;if(o>1||o>0&&a>0)throw new Q(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class yf extends Q9{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new yf(e,n,r)}_apply(e){const n=this._parse(e);return Dk(e._query,n),new Ta(e.firestore,e.converter,Ag(e._query,n))}_parse(e){const n=Zv(e.firestore);return function(i,o,a,l,c,h,d){let f;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Q(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){IT(d,h);const w=[];for(const T of d)w.push(bT(l,i,T));f={arrayValue:{values:w}}}else f=bT(l,i,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||IT(d,h),f=q9(a,o,d,h==="in"||h==="not-in");return ot.create(c,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function X9(t,e,n){const r=e,s=r0("where",t);return yf._create(s,r,n)}class i0 extends s0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new i0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Kn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)Dk(o,l),o=Ag(o,l)}(e._query,n),new Ta(e.firestore,e.converter,Ag(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function bT(t,e,n){if(typeof(n=ft(n))=="string"){if(n==="")throw new Q(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NA(e)&&n.indexOf("/")!==-1)throw new Q(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ne.fromString(n));if(!te.isDocumentKey(r))throw new Q(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return BE(t,new te(r))}if(n instanceof ht)return BE(t,n._key);throw new Q(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zd(n)}.`)}function IT(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Dk(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class J9{convertValue(e,n="none"){switch(js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ys(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Zh].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>tt(o.doubleValue));return new hr(n)}convertGeoPoint(e){return new cr(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const n=Ls(e);return new De(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ne.fromString(e);be(tk(r),9688,{name:e});const s=new ou(r.get(1),r.get(3)),i=new te(r.popFirst(5));return s.isEqual(n)||Fr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Dc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Uo extends Nk{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(r0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Uo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Uo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Uo._jsonSchema={type:at("string",Uo._jsonSchemaVersion),bundleSource:at("string","DocumentSnapshot"),bundleName:at("string"),bundle:at("string")};class rh extends Uo{data(e={}){return super.data(e)}}class Bo{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Dc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new rh(this._firestore,this._userDataWriter,r.key,r,new Dc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new rh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Dc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new rh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Dc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:e8(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Bo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function e8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:t})}}Bo._jsonSchemaVersion="firestore/querySnapshot/1.0",Bo._jsonSchema={type:at("string",Bo._jsonSchemaVersion),bundleSource:at("string","QuerySnapshot"),bundleName:at("string"),bundle:at("string")};class t8 extends J9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,n)}}function n8(t){t=ia(t,Ta);const e=ia(t.firestore,ff),n=Ik(e),r=new t8(e);return G9(t._query),V9(n,t._query).then(s=>new Bo(e,r,t,s))}function PT(t,e,n,...r){t=ia(t,ht);const s=ia(t.firestore,ff),i=Zv(s);let o;return o=typeof(e=ft(e))=="string"||e instanceof pf?W9(i,"updateDoc",t._key,e,n,r):z9(i,"updateDoc",t._key,e),Ok(s,[o.toMutation(t._key,lr.exists(!0))])}function r8(t,e){const n=ia(t.firestore,ff),r=bk(t),s=Z9(t.converter,e);return Ok(n,[$9(Zv(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,lr.exists(!1))]).then(()=>r)}function Ok(t,e){return function(r,s){const i=new Ps;return r.asyncQueue.enqueueAndForget(async()=>E9(await D9(r),s,i)),i.promise}(Ik(t),e)}function Bp(){return new e0("serverTimestamp")}(function(e,n=!0){(function(s){va=s})($i),Ni(new Os("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new ff(new FF(r.getProvider("auth-internal")),new $F(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Q(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(c.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),or(AE,kE,e),or(AE,kE,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk="firebasestorage.googleapis.com",Lk="storageBucket",s8=2*60*1e3,i8=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe extends mr{constructor(e,n,r=0){super($p(e),`Firebase Storage: ${n} (${$p(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $p(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ye;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ye||(Ye={}));function $p(t){return"storage/"+t}function o0(){const t="An unknown error occurred, please check the error payload for server response.";return new Xe(Ye.UNKNOWN,t)}function o8(t){return new Xe(Ye.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function a8(t){return new Xe(Ye.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function l8(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Xe(Ye.UNAUTHENTICATED,t)}function u8(){return new Xe(Ye.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function c8(t){return new Xe(Ye.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function h8(){return new Xe(Ye.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function d8(){return new Xe(Ye.CANCELED,"User canceled the upload/download.")}function f8(t){return new Xe(Ye.INVALID_URL,"Invalid URL '"+t+"'.")}function p8(t){return new Xe(Ye.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function m8(){return new Xe(Ye.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Lk+"' property when initializing the app?")}function g8(){return new Xe(Ye.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function y8(){return new Xe(Ye.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function v8(t){return new Xe(Ye.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ug(t){return new Xe(Ye.INVALID_ARGUMENT,t)}function Mk(){return new Xe(Ye.APP_DELETED,"The Firebase app was deleted.")}function _8(t){return new Xe(Ye.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Cl(t,e){return new Xe(Ye.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ya(t){throw new Xe(Ye.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=fn.makeFromUrl(e,n)}catch{return new fn(e,"")}if(r.path==="")return r;throw p8(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(k){k.path_=decodeURIComponent(k.path)}const h="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",v=new RegExp(`^https?://${d}/${h}/b/${s}/o${f}`,"i"),w={bucket:1,path:3},T=n===Vk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",E=new RegExp(`^https?://${T}/${s}/${b}`,"i"),_=[{regex:a,indices:l,postModify:i},{regex:v,indices:w,postModify:c},{regex:E,indices:{bucket:1,path:2},postModify:c}];for(let k=0;k<_.length;k++){const V=_[k],j=V.regex.exec(e);if(j){const I=j[V.indices.bucket];let x=j[V.indices.path];x||(x=""),r=new fn(I,x),V.postModify(r);break}}if(r==null)throw f8(e);return r}}class w8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E8(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function h(...b){c||(c=!0,e.apply(null,b))}function d(b){s=setTimeout(()=>{s=null,t(v,l())},b)}function f(){i&&clearTimeout(i)}function v(b,...E){if(c){f();return}if(b){f(),h.call(null,b,...E);return}if(l()||o){f(),h.call(null,b,...E);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,d(_)}let w=!1;function T(b){w||(w=!0,f(),!c&&(s!==null?(b||(a=2),clearTimeout(s),d(0)):b||(a=1)))}return d(0),i=setTimeout(()=>{o=!0,T(!0)},n),T}function T8(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x8(t){return t!==void 0}function S8(t){return typeof t=="object"&&!Array.isArray(t)}function a0(t){return typeof t=="string"||t instanceof String}function AT(t){return l0()&&t instanceof Blob}function l0(){return typeof Blob<"u"}function kT(t,e,n,r){if(r<e)throw Ug(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Ug(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function jk(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Si;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Si||(Si={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b8(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(e,n,r,s,i,o,a,l,c,h,d,f=!0,v=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=d,this.retry=f,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,T)=>{this.resolve_=w,this.reject_=T,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Oc(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Si.NO_ERROR,l=i.getStatus();if(!a||b8(l,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===Si.ABORT;r(!1,new Oc(!1,null,h));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Oc(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());x8(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=o0();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?Mk():d8();o(l)}else{const l=h8();o(l)}};this.canceled_?n(!1,new Oc(!1,null,!0)):this.backoffId_=E8(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&T8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Oc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function P8(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function A8(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function k8(t,e){e&&(t["X-Firebase-GMPID"]=e)}function C8(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function R8(t,e,n,r,s,i,o=!0,a=!1){const l=jk(t.urlParams),c=t.url+l,h=Object.assign({},t.headers);return k8(h,e),P8(h,n),A8(h,i),C8(h,r),new I8(c,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N8(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function D8(...t){const e=N8();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(l0())return new Blob(t);throw new Xe(Ye.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function O8(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V8(t){if(typeof atob>"u")throw v8("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class zp{constructor(e,n){this.data=e,this.contentType=n||null}}function L8(t,e){switch(t){case er.RAW:return new zp(Fk(e));case er.BASE64:case er.BASE64URL:return new zp(Uk(t,e));case er.DATA_URL:return new zp(j8(e),F8(e))}throw o0()}function Fk(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function M8(t){let e;try{e=decodeURIComponent(t)}catch{throw Cl(er.DATA_URL,"Malformed data URL.")}return Fk(e)}function Uk(t,e){switch(t){case er.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Cl(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case er.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Cl(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=V8(e)}catch(s){throw s.message.includes("polyfill")?s:Cl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class Bk{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Cl(er.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=U8(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function j8(t){const e=new Bk(t);return e.base64?Uk(er.BASE64,e.rest):M8(e.rest)}function F8(t){return new Bk(t).contentType}function U8(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n){let r=0,s="";AT(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(AT(this.data_)){const r=this.data_,s=O8(r,e,n);return s===null?null:new is(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new is(r,!0)}}static getBlob(...e){if(l0()){const n=e.map(r=>r instanceof is?r.data_:r);return new is(D8.apply(null,n))}else{const n=e.map(o=>a0(o)?L8(er.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new is(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(t){let e;try{e=JSON.parse(t)}catch{return null}return S8(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B8(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function $8(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function zk(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z8(t,e){return e}class zt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||z8}}let Vc=null;function W8(t){return!a0(t)||t.length<2?t:zk(t)}function Wk(){if(Vc)return Vc;const t=[];t.push(new zt("bucket")),t.push(new zt("generation")),t.push(new zt("metageneration")),t.push(new zt("name","fullPath",!0));function e(i,o){return W8(o)}const n=new zt("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new zt("size");return s.xform=r,t.push(s),t.push(new zt("timeCreated")),t.push(new zt("updated")),t.push(new zt("md5Hash",null,!0)),t.push(new zt("cacheControl",null,!0)),t.push(new zt("contentDisposition",null,!0)),t.push(new zt("contentEncoding",null,!0)),t.push(new zt("contentLanguage",null,!0)),t.push(new zt("contentType",null,!0)),t.push(new zt("metadata","customMetadata",!0)),Vc=t,Vc}function q8(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new fn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function H8(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return q8(r,t),r}function qk(t,e,n){const r=$k(e);return r===null?null:H8(t,r,n)}function K8(t,e,n,r){const s=$k(e);if(s===null||!a0(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const h=t.bucket,d=t.fullPath,f="/b/"+o(h)+"/o/"+o(d),v=u0(f,n,r),w=jk({alt:"media",token:c});return v+w})[0]}function G8(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class Hk{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t){if(!t)throw o0()}function Q8(t,e){function n(r,s){const i=qk(t,s,e);return Kk(i!==null),i}return n}function Y8(t,e){function n(r,s){const i=qk(t,s,e);return Kk(i!==null),K8(i,s,t.host,t._protocol)}return n}function Gk(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=u8():s=l8():n.getStatus()===402?s=a8(t.bucket):n.getStatus()===403?s=c8(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function X8(t){const e=Gk(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=o8(t.path)),i.serverResponse=s.serverResponse,i}return n}function J8(t,e,n){const r=e.fullServerUrl(),s=u0(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new Hk(s,i,Y8(t,n),o);return a.errorHandler=X8(e),a}function Z8(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function e7(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Z8(null,e)),r}function t7(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let k=0;k<2;k++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=e7(e,r,s),h=G8(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",v=is.getBlob(d,r,f);if(v===null)throw g8();const w={name:c.fullPath},T=u0(i,t.host,t._protocol),b="POST",E=t.maxUploadRetryTime,y=new Hk(T,b,Q8(t,n),E);return y.urlParams=w,y.headers=o,y.body=v.uploadData(),y.errorHandler=Gk(e),y}class n7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Si.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Si.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Si.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,i){if(this.sent_)throw Ya("cannot .send() more than once");if(Qs(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ya("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ya("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ya("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ya("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class r7 extends n7{initXhr(){this.xhr_.responseType="text"}}function Qk(){return new r7}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,n){this._service=e,n instanceof fn?this._location=n:this._location=fn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Vi(e,n)}get root(){const e=new fn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zk(this._location.path)}get storage(){return this._service}get parent(){const e=B8(this._location.path);if(e===null)return null;const n=new fn(this._location.bucket,e);return new Vi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw _8(e)}}function s7(t,e,n){t._throwIfRoot("uploadBytes");const r=t7(t.storage,t._location,Wk(),new is(e,!0),n);return t.storage.makeRequestWithTokens(r,Qk).then(s=>({metadata:s,ref:t}))}function i7(t){t._throwIfRoot("getDownloadURL");const e=J8(t.storage,t._location,Wk());return t.storage.makeRequestWithTokens(e,Qk).then(n=>{if(n===null)throw y8();return n})}function o7(t,e){const n=$8(t._location.path,e),r=new fn(t._location.bucket,n);return new Vi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a7(t){return/^[A-Za-z]+:\/\//.test(t)}function l7(t,e){return new Vi(t,e)}function Yk(t,e){if(t instanceof c0){const n=t;if(n._bucket==null)throw m8();const r=new Vi(n,n._bucket);return e!=null?Yk(r,e):r}else return e!==void 0?o7(t,e):t}function u7(t,e){if(e&&a7(e)){if(t instanceof c0)return l7(t,e);throw Ug("To use ref(service, url), the first argument must be a Storage instance.")}else return Yk(t,e)}function CT(t,e){const n=e==null?void 0:e[Lk];return n==null?null:fn.makeFromBucketSpec(n,t)}function c7(t,e,n,r={}){t.host=`${e}:${n}`;const s=Qs(e);s&&(xv(`https://${t.host}/b`),Sv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:JP(i,t.app.options.projectId))}class c0{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=Vk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=s8,this._maxUploadRetryTime=i8,this._requests=new Set,s!=null?this._bucket=fn.makeFromBucketSpec(s,this._host):this._bucket=CT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fn.makeFromBucketSpec(this._url,e):this._bucket=CT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){kT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){kT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Vi(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new w8(Mk());{const o=R8(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const RT="@firebase/storage",NT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="storage";function h7(t,e,n){return t=ft(t),s7(t,e,n)}function d7(t){return t=ft(t),i7(t)}function f7(t,e){return t=ft(t),u7(t,e)}function p7(t=Pv(),e){t=ft(t);const r=Jd(t,Xk).getImmediate({identifier:e}),s=QP("storage");return s&&m7(r,...s),r}function m7(t,e,n,r={}){c7(t,e,n,r)}function g7(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new c0(n,r,s,e,$i)}function y7(){Ni(new Os(Xk,g7,"PUBLIC").setMultipleInstances(!0)),or(RT,NT,""),or(RT,NT,"esm2020")}y7();var v7="firebase",_7="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */or(v7,_7,"app");function Jk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const w7=Jk,Zk=new Iu("auth","Firebase",Jk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=new bv("@firebase/auth");function E7(t,...e){ld.logLevel<=pe.WARN&&ld.warn(`Auth (${$i}): ${t}`,...e)}function sh(t,...e){ld.logLevel<=pe.ERROR&&ld.error(`Auth (${$i}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t,...e){throw h0(t,...e)}function dr(t,...e){return h0(t,...e)}function e2(t,e,n){const r={...w7(),[e]:n};return new Iu("auth","Firebase",r).create(e,{appName:t.name})}function bi(t){return e2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function h0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Zk.create(t,...e)}function ie(t,e,...n){if(!t)throw h0(e,...n)}function Ir(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sh(e),new Error(e)}function $r(t,e){t||Ir(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function T7(){return DT()==="http:"||DT()==="https:"}function DT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(T7()||g3()||"connection"in navigator)?navigator.onLine:!0}function S7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,$r(n>e,"Short delay should be less than long delay!"),this.isMobile=f3()||y3()}get(){return x7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t,e){$r(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],P7=new Vu(3e4,6e4);function f0(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function xa(t,e,n,r,s={}){return n2(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Pu({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return m3()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Qs(t.emulatorConfig.host)&&(c.credentials="include"),t2.fetch()(await r2(t,t.config.apiHost,n,a),c)})}async function n2(t,e,n){t._canInitEmulator=!1;const r={...b7,...e};try{const s=new k7(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Lc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Lc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Lc(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw e2(t,h,c);Br(t,h)}}catch(s){if(s instanceof mr)throw s;Br(t,"network-request-failed",{message:String(s)})}}async function A7(t,e,n,r,s={}){const i=await xa(t,e,n,r,s);return"mfaPendingCredential"in i&&Br(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function r2(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?d0(t.config,s):`${t.config.apiScheme}://${s}`;return I7.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class k7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(dr(this.auth,"network-request-failed")),P7.get())})}}function Lc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=dr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C7(t,e){return xa(t,"POST","/v1/accounts:delete",e)}async function ud(t,e){return xa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function R7(t,e=!1){const n=ft(t),r=await n.getIdToken(e),s=p0(r);ie(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Rl(Wp(s.auth_time)),issuedAtTime:Rl(Wp(s.iat)),expirationTime:Rl(Wp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Wp(t){return Number(t)*1e3}function p0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const s=KP(n);return s?JSON.parse(s):(sh("Failed to decode base64 JWT payload"),null)}catch(s){return sh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function OT(t){const e=p0(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mr&&N7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function N7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cd(t){var d;const e=t.auth,n=await t.getIdToken(),r=await hu(t,ud(e,{idToken:n}));ie(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(d=s.providerUserInfo)!=null&&d.length?s2(s.providerUserInfo):[],o=V7(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new $g(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function O7(t){const e=ft(t);await cd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function V7(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function s2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L7(t,e){const n=await n2(t,{},async()=>{const r=Pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await r2(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Qs(t.emulatorConfig.host)&&(l.credentials="include"),t2.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function M7(t,e){return xa(t,"POST","/v2/accounts:revokeToken",f0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):OT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const n=OT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await L7(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new $o;return r&&(ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ie(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ie(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $o,this.toJSON())}_performRefresh(){return Ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new D7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $g(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await hu(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return R7(this,e)}reload(){return O7(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(bi(this.auth));const e=await this.getIdToken();return await hu(this,C7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:v,providerData:w,stsTokenManager:T}=n;ie(d&&T,e,"internal-error");const b=$o.fromJSON(this.name,T);ie(typeof d=="string",e,"internal-error"),Qr(r,e.name),Qr(s,e.name),ie(typeof f=="boolean",e,"internal-error"),ie(typeof v=="boolean",e,"internal-error"),Qr(i,e.name),Qr(o,e.name),Qr(a,e.name),Qr(l,e.name),Qr(c,e.name),Qr(h,e.name);const E=new zn({uid:d,auth:e,email:s,emailVerified:f,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:b,createdAt:c,lastLoginAt:h});return w&&Array.isArray(w)&&(E.providerData=w.map(y=>({...y}))),l&&(E._redirectEventId=l),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new $o;s.updateFromServerResponse(n);const i=new zn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await cd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ie(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?s2(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new $o;a.updateFromIdToken(r);const l=new zn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new $g(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=new Map;function Pr(t){$r(t instanceof Function,"Expected a class definition");let e=VT.get(t);return e?($r(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,VT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}i2.type="NONE";const LT=i2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(t,e,n){return`firebase:${t}:${e}:${n}`}class zo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ih(this.userKey,s.apiKey,i),this.fullPersistenceKey=ih("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ud(this.auth,{idToken:e}).catch(()=>{});return n?zn._fromGetAccountInfoResponse(this.auth,n,e):null}return zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new zo(Pr(LT),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Pr(LT);const o=ih(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){let d;if(typeof h=="string"){const f=await ud(e,{idToken:h}).catch(()=>{});if(!f)break;d=await zn._fromGetAccountInfoResponse(e,f,h)}else d=zn._fromJSON(e,h);c!==i&&(a=d),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new zo(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new zo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(u2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(o2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(h2(e))return"Blackberry";if(d2(e))return"Webos";if(a2(e))return"Safari";if((e.includes("chrome/")||l2(e))&&!e.includes("edge/"))return"Chrome";if(c2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function o2(t=Bt()){return/firefox\//i.test(t)}function a2(t=Bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function l2(t=Bt()){return/crios\//i.test(t)}function u2(t=Bt()){return/iemobile/i.test(t)}function c2(t=Bt()){return/android/i.test(t)}function h2(t=Bt()){return/blackberry/i.test(t)}function d2(t=Bt()){return/webos/i.test(t)}function m0(t=Bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function j7(t=Bt()){var e;return m0(t)&&!!((e=window.navigator)!=null&&e.standalone)}function F7(){return v3()&&document.documentMode===10}function f2(t=Bt()){return m0(t)||c2(t)||d2(t)||h2(t)||/windows phone/i.test(t)||u2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(t,e=[]){let n;switch(t){case"Browser":n=MT(Bt());break;case"Worker":n=`${MT(Bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$i}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B7(t,e={}){return xa(t,"GET","/v2/passwordPolicy",f0(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7=6;class z7{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$7,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jT(this),this.idTokenSubscription=new jT(this),this.beforeStateQueue=new U7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await zo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ud(this,{idToken:e}),r=await zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Bn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=S7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bn(this.app))return Promise.reject(bi(this));const n=e?ft(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(bi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bn(this.app)?Promise.reject(bi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await B7(this),n=new z7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Iu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await M7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pr(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await zo.create(this,[Pr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=p2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&E7(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function g0(t){return ft(t)}class jT{constructor(e){this.auth=e,this.observer=null,this.addObserver=I3(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function q7(t){y0=t}function H7(t){return y0.loadJS(t)}function K7(){return y0.gapiScript}function G7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q7(t,e){const n=Jd(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ri(i,e??{}))return s;Br(s,"already-initialized")}return n.initialize({options:e})}function Y7(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Pr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function X7(t,e,n){const r=g0(t);ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=m2(e),{host:o,port:a}=J7(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ie(Ri(c,r.config.emulator)&&Ri(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Qs(o)?(xv(`${i}//${o}${l}`),Sv("Auth",!0)):Z7()}function m2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function J7(t){const e=m2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:FT(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:FT(o)}}}function FT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Z7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ir("not implemented")}_getIdTokenResponse(e){return Ir("not implemented")}_linkToIdToken(e,n){return Ir("not implemented")}_getReauthenticationResolver(e){return Ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(t,e){return A7(t,"POST","/v1/accounts:signInWithIdp",f0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB="http://localhost";class Li extends g2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Li(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Br("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Li(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Wo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Wo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wo(e,n)}buildRequest(){const e={requestUri:eB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Pu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends y2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Lu{constructor(){super("facebook.com")}static credential(e){return Li._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.FACEBOOK_SIGN_IN_METHOD="facebook.com";os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Li._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return as.credential(n,r)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Lu{constructor(){super("github.com")}static credential(e){return Li._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.GITHUB_SIGN_IN_METHOD="github.com";ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Lu{constructor(){super("twitter.com")}static credential(e,n){return Li._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return us.credential(n,r)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await zn._fromIdTokenResponse(e,r,s),o=UT(r);return new ca({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=UT(r);return new ca({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function UT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd extends mr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,hd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new hd(e,n,r,s)}}function v2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?hd._fromErrorAndOperation(t,i,e,r):i})}async function tB(t,e,n=!1){const r=await hu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ca._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nB(t,e,n=!1){const{auth:r}=t;if(Bn(r.app))return Promise.reject(bi(r));const s="reauthenticate";try{const i=await hu(t,v2(r,s,e,t),n);ie(i.idToken,r,"internal-error");const o=p0(i.idToken);ie(o,r,"internal-error");const{sub:a}=o;return ie(t.uid===a,r,"user-mismatch"),ca._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Br(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rB(t,e,n=!1){if(Bn(t.app))return Promise.reject(bi(t));const r="signIn",s=await v2(t,r,e),i=await ca._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function sB(t,e,n,r){return ft(t).onIdTokenChanged(e,n,r)}function iB(t,e,n){return ft(t).beforeAuthStateChanged(e,n)}const dd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dd,"1"),this.storage.removeItem(dd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oB=1e3,aB=10;class w2 extends _2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=f2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);F7()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,aB):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},oB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}w2.type="LOCAL";const lB=w2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2 extends _2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}E2.type="SESSION";const T2=E2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new vf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await uB(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=v0("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(){return window}function hB(t){fr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(){return typeof fr().WorkerGlobalScope<"u"&&typeof fr().importScripts=="function"}async function dB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function pB(){return x2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="firebaseLocalStorageDb",mB=1,fd="firebaseLocalStorage",b2="fbase_key";class Mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _f(t,e){return t.transaction([fd],e?"readwrite":"readonly").objectStore(fd)}function gB(){const t=indexedDB.deleteDatabase(S2);return new Mu(t).toPromise()}function zg(){const t=indexedDB.open(S2,mB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(fd,{keyPath:b2})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(fd)?e(r):(r.close(),await gB(),e(await zg()))})})}async function BT(t,e,n){const r=_f(t,!0).put({[b2]:e,value:n});return new Mu(r).toPromise()}async function yB(t,e){const n=_f(t,!1).get(e),r=await new Mu(n).toPromise();return r===void 0?null:r.value}function $T(t,e){const n=_f(t,!0).delete(e);return new Mu(n).toPromise()}const vB=800,_B=3;class I2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>_B)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return x2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vf._getInstance(pB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await dB(),!this.activeServiceWorker)return;this.sender=new cB(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zg();return await BT(e,dd,"1"),await $T(e,dd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>BT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>yB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$T(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=_f(s,!1).getAll();return new Mu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}I2.type="LOCAL";const wB=I2;new Vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EB(t,e){return e?Pr(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0 extends g2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function TB(t){return rB(t.auth,new _0(t),t.bypassAuthState)}function xB(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),nB(n,new _0(t),t.bypassAuthState)}async function SB(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),tB(n,new _0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TB;case"linkViaPopup":case"linkViaRedirect":return SB;case"reauthViaPopup":case"reauthViaRedirect":return xB;default:Br(this.auth,"internal-error")}}resolve(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB=new Vu(2e3,1e4);class No extends P2{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,No.currentPopupAction&&No.currentPopupAction.cancel(),No.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){$r(this.filter.length===1,"Popup operations only handle one event");const e=v0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(dr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,No.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(dr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bB.get())};e()}}No.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB="pendingRedirect",oh=new Map;class PB extends P2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=oh.get(this.auth._key());if(!e){try{const r=await AB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}oh.set(this.auth._key(),e)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AB(t,e){const n=RB(e),r=CB(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function kB(t,e){oh.set(t._key(),e)}function CB(t){return Pr(t._redirectPersistence)}function RB(t){return ih(IB,t.config.apiKey,t.name)}async function NB(t,e,n=!1){if(Bn(t.app))return Promise.reject(bi(t));const r=g0(t),s=EB(r,e),o=await new PB(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB=10*60*1e3;class OB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!A2(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(dr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DB&&this.cachedEventUids.clear(),this.cachedEventUids.has(zT(e))}saveEventToCache(e){this.cachedEventUids.add(zT(e)),this.lastProcessedEventTime=Date.now()}}function zT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function A2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function VB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return A2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LB(t,e={}){return xa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jB=/^https?/;async function FB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await LB(t);for(const n of e)try{if(UB(n))return}catch{}Br(t,"unauthorized-domain")}function UB(t){const e=Bg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!jB.test(n))return!1;if(MB.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB=new Vu(3e4,6e4);function WT(){const t=fr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $B(t){return new Promise((e,n)=>{var s,i,o;function r(){WT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WT(),n(dr(t,"network-request-failed"))},timeout:BB.get()})}if((i=(s=fr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=fr().gapi)!=null&&o.load)r();else{const a=G7("iframefcb");return fr()[a]=()=>{gapi.load?r():n(dr(t,"network-request-failed"))},H7(`${K7()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ah=null,e})}let ah=null;function zB(t){return ah=ah||$B(t),ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB=new Vu(5e3,15e3),qB="__/auth/iframe",HB="emulator/auth/iframe",KB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QB(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?d0(e,HB):`https://${t.config.authDomain}/${qB}`,r={apiKey:e.apiKey,appName:t.name,v:$i},s=GB.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Pu(r).slice(1)}`}async function YB(t){const e=await zB(t),n=fr().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:QB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KB,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=dr(t,"network-request-failed"),a=fr().setTimeout(()=>{i(o)},WB.get());function l(){fr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JB=500,ZB=600,e$="_blank",t$="http://localhost";class qT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function n$(t,e,n,r=JB,s=ZB){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...XB,width:r.toString(),height:s.toString(),top:i,left:o},c=Bt().toLowerCase();n&&(a=l2(c)?e$:n),o2(c)&&(e=e||t$,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[v,w])=>`${f}${v}=${w},`,"");if(j7(c)&&a!=="_self")return r$(e||"",a),new qT(null);const d=window.open(e||"",a,h);ie(d,t,"popup-blocked");try{d.focus()}catch{}return new qT(d)}function r$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$="__/auth/handler",i$="emulator/auth/handler",o$=encodeURIComponent("fac");async function HT(t,e,n,r,s,i){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$i,eventId:s};if(e instanceof y2){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",b3(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof Lu){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${o$}=${encodeURIComponent(l)}`:"";return`${a$(t)}?${Pu(a).slice(1)}${c}`}function a$({config:t}){return t.emulator?d0(t,i$):`https://${t.authDomain}/${s$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="webStorageSupport";class l${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=T2,this._completeRedirectFn=NB,this._overrideRedirectResult=kB}async _openPopup(e,n,r,s){var o;$r((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await HT(e,n,r,Bg(),s);return n$(e,i,v0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await HT(e,n,r,Bg(),s);return hB(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):($r(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await YB(e),r=new OB(e);return n.register("authEvent",s=>(ie(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qp,{type:qp},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[qp];i!==void 0&&n(!!i),Br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=FB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return f2()||a2()||m0()}}const u$=l$;var KT="@firebase/auth",GT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function d$(t){Ni(new Os("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:p2(t)},c=new W7(r,s,i,l);return Y7(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ni(new Os("auth-internal",e=>{const n=g0(e.getProvider("auth").getImmediate());return(r=>new c$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(KT,GT,h$(t)),or(KT,GT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$=5*60,p$=XP("authIdTokenMaxAge")||f$;let QT=null;const m$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>p$)return;const s=n==null?void 0:n.token;QT!==s&&(QT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function g$(t=Pv()){const e=Jd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Q7(t,{popupRedirectResolver:u$,persistence:[wB,lB,T2]}),r=XP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=m$(i.toString());iB(n,o,()=>o(n.currentUser)),sB(n,a=>o(a))}}const s=GP("auth");return s&&X7(n,`http://${s}`),n}function y$(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}q7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=dr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",y$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});d$("Browser");const v$={apiKey:"AIzaSyCkAgeaeIzNGR6L1NyKoBX229fbgywm-hs",authDomain:"optoken-16b23.firebaseapp.com",projectId:"optoken-16b23",storageBucket:"optoken-16b23.firebasestorage.app",messagingSenderId:"925627228685",appId:"1:925627228685:web:536f176db0f440bbf0eb44",measurementId:"G-3MPGKBQD3V"},w0=tA(v$),YT=g$(w0),Hp=M9(w0),_$=p7(w0),w$=O.createContext(),XT=t=>{const e=new Set;return t.toLowerCase().split(" ").forEach(r=>{let s="";for(let i of r)s+=i,e.add(s)}),Array.from(e)},E$=({children:t})=>{const[e,n]=O.useState([]),[r,s]=O.useState(!1),i=async()=>{const l=YT.currentUser;if(l){s(!0);try{const c=Y9(ET(Hp,"doctors"),X9("hospitalId","==",l.uid)),d=(await n8(c)).docs.map(f=>({id:f.id,...f.data()}));n(d)}catch(c){console.error("Error fetching doctors:",c)}finally{s(!1)}}},o=async({name:l,imageFile:c,district:h,city:d,specification:f,planExpiryDate:v})=>{const w=YT.currentUser;if(!w)throw new Error("Not authenticated");try{const T=f7(_$,`doctors/${Date.now()}_${c.name}`);await h7(T,c);const b=await d7(T),E={name:l,profile_img_url:b,district:h,city:d,specification:f,is_verified_by_admin:!1,plan_expiry_date:v?De.fromDate(new Date(v)):null,hospitalId:w.uid,search_keywords:XT(l),created_at:Bp(),updated_at:Bp()},y=await r8(ET(Hp,"doctors"),E);return await PT(y,{id:y.id}),y.id}catch(T){throw console.error("Error adding doctor:",T),T}},a=async(l,c)=>{try{c.name&&(c.search_keywords=XT(c.name));const h=bk(Hp,"doctors",l);await PT(h,{...c,updated_at:Bp()})}catch(h){throw console.error("Error updating doctor:",h),h}};return O.useEffect(()=>{i()},[]),g.jsx(w$.Provider,{value:{doctors:e,loading:r,fetchDoctors:i,addDoctor:o,updateDoctor:a},children:t})};function T$(){const t=[{icon:g.jsx(bu,{size:24}),title:"Location",content:"Kerala,Kottayam"},{icon:g.jsx(zP,{size:24}),title:"Phone",content:"+91 9497600699"},{icon:g.jsx($P,{size:24}),title:"Email",content:"nurisconnect@gmail.com"}];return g.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[g.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Contact Us"}),g.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Get in touch with us for any questions or concerns. We're here to help!"})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:t.map((e,n)=>g.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:n*.1},className:"bg-white p-6 rounded-2xl shadow-lg text-center",children:[g.jsx("div",{className:"inline-block p-4 bg-blue-50 rounded-full mb-4 text-[#0e82fd]",children:e.icon}),g.jsx("h3",{className:"text-xl font-semibold mb-2",children:e.title}),g.jsx("p",{className:"text-gray-600",children:e.content})]},n))}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-start",children:[g.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},className:"bg-white p-8 rounded-2xl shadow-lg",children:[g.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Send us a Message"}),g.jsxs("form",{className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),g.jsx("input",{type:"text",className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-[#0e82fd] focus:border-transparent"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),g.jsx("input",{type:"text",className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-[#0e82fd] focus:border-transparent"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),g.jsx("input",{type:"email",className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-[#0e82fd] focus:border-transparent"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),g.jsx("textarea",{rows:4,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-[#0e82fd] focus:border-transparent"})]}),g.jsx(he.button,{whileHover:{scale:1.01},whileTap:{scale:.99},className:"w-full py-3 px-6 bg-[#0e82fd] text-white rounded-xl hover:bg-[#0e82fd]/90 transition-colors",children:"Send Message"})]})]}),g.jsxs(he.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6},className:"bg-white p-8 rounded-2xl shadow-lg h-full",children:[g.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Find us on map"}),g.jsx("div",{className:"aspect-w-16 aspect-h-12 rounded-xl overflow-hidden",children:g.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3930.832001950152!2d76.51996461434548!3d9.591566793166037!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3b062ba16c6b435f%3A0xbe2b02f68f8dd06e!2sKottayam%2C%20Kerala!5e0!3m2!1sen!2sin!4v1721732735000!5m2!1sen!2sin",width:"100%",height:"450",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",className:"rounded-xl"})})]})]})]})})}function x$(){const[t,e]=O.useState({name:"",specialty:"",district:"",city:"",photo:null}),[n,r]=O.useState(!1),[s,i]=O.useState(null),o=["Thiruvananthapuram","Kollam","Pathanamthitta","Alappuzha","Kottayam","Idukki","Ernakulam","Thrissur","Palakkad","Malappuram","Kozhikode","Wayanad","Kannur","Kasaragod"],a=h=>{const{name:d,value:f}=h.target;e(v=>({...v,[d]:f}))},l=h=>{const d=h.target.files[0];e(f=>({...f,photo:d})),d&&i(URL.createObjectURL(d))},c=async h=>{if(h.preventDefault(),!t.photo){alert("Please upload a photo");return}try{r(!0);const{data:d,error:f}=await xe.auth.getUser();if(f||!d.user)throw new Error("User not authenticated");const v=d.user.id,w=t.photo.name.split(".").pop(),b=`doctorprofiles/${`${Date.now()}.${w}`}`,{error:E}=await xe.storage.from("doctorprofiles").upload(b,t.photo);if(E)throw E;const{data:y}=xe.storage.from("doctorprofiles").getPublicUrl(b),_=y.publicUrl,k=crypto.randomUUID(),{error:V}=await xe.from("doctors").insert([{uid:k,hospital_id:v,name:t.name,specialty:t.specialty,district:t.district,city:t.city,photo:_,is_verified_by_admin:!1}]);if(V)throw V;alert("Doctor added successfully!"),e({name:"",specialty:"",district:"",city:"",photo:null}),i(null)}catch(d){console.error(d),alert("Failed to add doctor. Check console for details.")}finally{r(!1)}};return g.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"max-w-3xl mx-auto bg-white shadow-xl rounded-xl p-8",children:[g.jsx("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-8",children:"Add New Doctor"}),g.jsxs("form",{onSubmit:c,className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col items-center",children:[s?g.jsx("img",{src:s,alt:"Preview",className:"w-32 h-32 rounded-full object-cover mb-4"}):g.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 mb-4",children:"No Image"}),g.jsx("input",{type:"file",accept:"image/*",onChange:l,className:"text-sm text-gray-600"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),g.jsx("input",{type:"text",name:"name",value:t.name,onChange:a,required:!0,className:"w-full px-4 py-3 border rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter doctor's name"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Specialization"}),g.jsx("input",{type:"text",name:"specialty",value:t.specialty,onChange:a,required:!0,className:"w-full px-4 py-3 border rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g. Cardiology"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"District"}),g.jsxs("select",{name:"district",value:t.district,onChange:a,required:!0,className:"w-full px-4 py-3 border rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[g.jsx("option",{value:"",children:"Select a district"}),o.map((h,d)=>g.jsx("option",{value:h,children:h},d))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),g.jsx("input",{type:"text",name:"city",value:t.city,onChange:a,required:!0,className:"w-full px-4 py-3 border rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter city"})]}),g.jsx(he.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",disabled:n,className:`w-full py-3 text-white font-semibold rounded-xl transition duration-300 ${n?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:n?"Adding...":"Add Doctor"})]})]})})}function E0(t){return _t({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M472 168H40a24 24 0 0 1 0-48h432a24 24 0 0 1 0 48zm-80 112H120a24 24 0 0 1 0-48h272a24 24 0 0 1 0 48zm-96 112h-80a24 24 0 0 1 0-48h80a24 24 0 0 1 0 48z"},child:[]}]})(t)}function S$(){var w;const[t,e]=O.useState(""),[n,r]=O.useState(""),[s,i]=O.useState([]),[o,a]=O.useState(!1),[l,c]=O.useState(!1),d=((w=Fi().state)==null?void 0:w.hospitalId)??null,f=["Thiruvananthapuram","Kollam","Pathanamthitta","Alappuzha","Kottayam","Idukki","Ernakulam","Thrissur","Palakkad","Malappuram","Kozhikode","Wayanad","Kannur","Kasaragod"],v=async()=>{a(!0);try{let T=xe.from("doctors").select("*").eq("is_verified_by_admin",!0);const b=new Date().toISOString();T=T.gte("plan_expiry_date",b),d&&(T=T.eq("hospital_id",d)),n&&(T=T.eq("district",n)),t&&(T=T.ilike("search_keywords",`%${t.toLowerCase()}%`)),T=T.order("name",{ascending:!1}).limit(20);const{data:E,error:y}=await T;if(y)throw y;i(E||[])}catch(T){console.error("Error fetching doctors:",T.message),i([])}finally{a(!1)}};return O.useEffect(()=>{v()},[t,n]),g.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8",children:[g.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Find Doctors"}),g.jsxs("div",{className:"relative max-w-2xl w-full mx-auto",children:[g.jsx("input",{type:"text",value:t,onChange:T=>e(T.target.value),placeholder:"Search by doctor's name...",className:"w-full px-10 pr-10 py-3.5 bg-white border border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-700"}),g.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:g.jsx(E0,{className:"w-5 h-5 cursor-pointer",onClick:()=>c(T=>!T)})}),n&&g.jsxs("div",{className:"absolute left-2 bottom-[-2rem] text-sm text-blue-600 bg-blue-100 px-3 py-1 rounded-md shadow-sm flex items-center gap-2",children:[n,g.jsx("button",{onClick:()=>r(""),className:"ml-2 text-xs text-red-500",children:"Clear"})]}),l&&g.jsx("div",{className:"absolute top-full mt-2 w-full bg-white border border-gray-200 rounded-xl shadow-lg z-10 max-h-60 overflow-y-auto",children:f.map((T,b)=>g.jsx("div",{onClick:()=>{r(T),c(!1)},className:`px-4 py-2 text-left cursor-pointer hover:bg-blue-100 ${n===T?"bg-blue-100 font-semibold":""}`,children:T},b))})]})]}),o?g.jsx("div",{className:"text-center text-gray-500",children:"Loading doctors..."}):s.length===0?g.jsx("div",{className:"text-center text-gray-500",children:"No doctors found."}):g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:s.map((T,b)=>g.jsx(tn,{to:`/livetoken/${T.id}`,children:g.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:b*.1},className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300 cursor-pointer",children:g.jsx("div",{className:"p-4",children:g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("img",{src:T.photo||"https://via.placeholder.com/100",alt:T.name,className:"w-24 h-24 rounded-full object-cover"}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-gray-900",children:T.name}),g.jsxs("p",{className:"text-[#0e82fd] flex items-center gap-2",children:[g.jsx(WP,{}),T.specification||"N/A"]}),g.jsxs("div",{className:"flex items-center text-sm text-gray-600 mt-1",children:[g.jsx(bu,{className:"mr-2"}),T.district||"Unknown"]})]})]})})})},T.id))})]})})}function b$(){return g.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:g.jsxs(he.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"bg-white p-10 rounded-2xl shadow-xl max-w-md text-center",children:[g.jsx("div",{className:"flex justify-center mb-4 text-green-500",children:g.jsx(E6,{size:50})}),g.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Email Verified"}),g.jsx("p",{className:"text-gray-600 mb-6",children:"Your email has been successfully verified. You can now continue using login."}),g.jsx(tn,{to:"/login",className:"text-blue-600 hover:underline mb-4 inline-block",children:g.jsx(he.button,{whileHover:{scale:1.03},whileTap:{scale:.97},className:"bg-[#0e82fd] hover:bg-[#0e82fd]/90 transition-colors text-white px-6 py-3 rounded-xl w-full",onClick:()=>{},children:"Go to Dashboard"})})]})})}const k2=6048e5,I$=864e5,JT=Symbol.for("constructDateFrom");function Bs(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&JT in t?t[JT](e):t instanceof Date?new t.constructor(e):new Date(e)}function Gn(t,e){return Bs(e||t,t)}let P$={};function wf(){return P$}function du(t,e){var a,l,c,h;const n=wf(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((h=(c=n.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??0,s=Gn(t,e==null?void 0:e.in),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function pd(t,e){return du(t,{...e,weekStartsOn:1})}function C2(t,e){const n=Gn(t,e==null?void 0:e.in),r=n.getFullYear(),s=Bs(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=pd(s),o=Bs(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=pd(o);return n.getTime()>=i.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function ZT(t){const e=Gn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function A$(t,...e){const n=Bs.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function ex(t,e){const n=Gn(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function k$(t,e,n){const[r,s]=A$(n==null?void 0:n.in,t,e),i=ex(r),o=ex(s),a=+i-ZT(i),l=+o-ZT(o);return Math.round((a-l)/I$)}function C$(t,e){const n=C2(t,e),r=Bs(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),pd(r)}function R$(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function N$(t){return!(!R$(t)&&typeof t!="number"||isNaN(+Gn(t)))}function D$(t,e){const n=Gn(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const O$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},V$=(t,e,n)=>{let r;const s=O$[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Kp(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const L$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},M$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},j$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},F$={date:Kp({formats:L$,defaultWidth:"full"}),time:Kp({formats:M$,defaultWidth:"full"}),dateTime:Kp({formats:j$,defaultWidth:"full"})},U$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},B$=(t,e,n,r)=>U$[t];function Xa(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const $$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},z$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},W$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},q$={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},H$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},K$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},G$=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Q$={ordinalNumber:G$,era:Xa({values:$$,defaultWidth:"wide"}),quarter:Xa({values:z$,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Xa({values:W$,defaultWidth:"wide"}),day:Xa({values:q$,defaultWidth:"wide"}),dayPeriod:Xa({values:H$,defaultWidth:"wide",formattingValues:K$,defaultFormattingWidth:"wide"})};function Ja(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?X$(a,d=>d.test(o)):Y$(a,d=>d.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const h=e.slice(o.length);return{value:c,rest:h}}}function Y$(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function X$(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function J$(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const Z$=/^(\d+)(th|st|nd|rd)?/i,ez=/\d+/i,tz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nz={any:[/^b/i,/^(a|c)/i]},rz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},sz={any:[/1/i,/2/i,/3/i,/4/i]},iz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},oz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},az={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},uz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},hz={ordinalNumber:J$({matchPattern:Z$,parsePattern:ez,valueCallback:t=>parseInt(t,10)}),era:Ja({matchPatterns:tz,defaultMatchWidth:"wide",parsePatterns:nz,defaultParseWidth:"any"}),quarter:Ja({matchPatterns:rz,defaultMatchWidth:"wide",parsePatterns:sz,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ja({matchPatterns:iz,defaultMatchWidth:"wide",parsePatterns:oz,defaultParseWidth:"any"}),day:Ja({matchPatterns:az,defaultMatchWidth:"wide",parsePatterns:lz,defaultParseWidth:"any"}),dayPeriod:Ja({matchPatterns:uz,defaultMatchWidth:"any",parsePatterns:cz,defaultParseWidth:"any"})},dz={code:"en-US",formatDistance:V$,formatLong:F$,formatRelative:B$,localize:Q$,match:hz,options:{weekStartsOn:0,firstWeekContainsDate:1}};function fz(t,e){const n=Gn(t,e==null?void 0:e.in);return k$(n,D$(n))+1}function pz(t,e){const n=Gn(t,e==null?void 0:e.in),r=+pd(n)-+C$(n);return Math.round(r/k2)+1}function R2(t,e){var h,d,f,v;const n=Gn(t,e==null?void 0:e.in),r=n.getFullYear(),s=wf(),i=(e==null?void 0:e.firstWeekContainsDate)??((d=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(f=s.locale)==null?void 0:f.options)==null?void 0:v.firstWeekContainsDate)??1,o=Bs((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=du(o,e),l=Bs((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=du(l,e);return+n>=+a?r+1:+n>=+c?r:r-1}function mz(t,e){var a,l,c,h;const n=wf(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(c=n.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??1,s=R2(t,e),i=Bs((e==null?void 0:e.in)||t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),du(i,e)}function gz(t,e){const n=Gn(t,e==null?void 0:e.in),r=+du(n,e)-+mz(n,e);return Math.round(r/k2)+1}function Ie(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Yr={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ie(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ie(n+1,2)},d(t,e){return Ie(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ie(t.getHours()%12||12,e.length)},H(t,e){return Ie(t.getHours(),e.length)},m(t,e){return Ie(t.getMinutes(),e.length)},s(t,e){return Ie(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Ie(s,e.length)}},oo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tx={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Yr.y(t,e)},Y:function(t,e,n,r){const s=R2(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Ie(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Ie(i,e.length)},R:function(t,e){const n=C2(t);return Ie(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ie(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ie(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ie(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Yr.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ie(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=gz(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Ie(s,e.length)},I:function(t,e,n){const r=pz(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ie(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Yr.d(t,e)},D:function(t,e,n){const r=fz(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ie(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Ie(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Ie(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Ie(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=oo.noon:r===0?s=oo.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=oo.evening:r>=12?s=oo.afternoon:r>=4?s=oo.morning:s=oo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Yr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Yr.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ie(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ie(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Yr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Yr.s(t,e)},S:function(t,e){return Yr.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return rx(r);case"XXXX":case"XX":return fi(r);case"XXXXX":case"XXX":default:return fi(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return rx(r);case"xxxx":case"xx":return fi(r);case"xxxxx":case"xxx":default:return fi(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+nx(r,":");case"OOOO":default:return"GMT"+fi(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+nx(r,":");case"zzzz":default:return"GMT"+fi(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Ie(r,e.length)},T:function(t,e,n){return Ie(+t,e.length)}};function nx(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+Ie(i,2)}function rx(t,e){return t%60===0?(t>0?"-":"+")+Ie(Math.abs(t)/60,2):fi(t,e)}function fi(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Ie(Math.trunc(r/60),2),i=Ie(r%60,2);return n+s+e+i}const sx=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},N2=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},yz=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return sx(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",sx(r,e)).replace("{{time}}",N2(s,e))},vz={p:N2,P:yz},_z=/^D+$/,wz=/^Y+$/,Ez=["D","DD","YY","YYYY"];function Tz(t){return _z.test(t)}function xz(t){return wz.test(t)}function Sz(t,e,n){const r=bz(t,e,n);if(console.warn(r),Ez.includes(t))throw new RangeError(r)}function bz(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Iz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Pz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Az=/^'([^]*?)'?$/,kz=/''/g,Cz=/[a-zA-Z]/;function Rz(t,e,n){var h,d,f,v;const r=wf(),s=r.locale??dz,i=r.firstWeekContainsDate??((d=(h=r.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??1,o=r.weekStartsOn??((v=(f=r.locale)==null?void 0:f.options)==null?void 0:v.weekStartsOn)??0,a=Gn(t,n==null?void 0:n.in);if(!N$(a))throw new RangeError("Invalid time value");let l=e.match(Pz).map(w=>{const T=w[0];if(T==="p"||T==="P"){const b=vz[T];return b(w,s.formatLong)}return w}).join("").match(Iz).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const T=w[0];if(T==="'")return{isToken:!1,value:Nz(w)};if(tx[T])return{isToken:!0,value:w};if(T.match(Cz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(w=>{if(!w.isToken)return w.value;const T=w.value;(xz(T)||Tz(T))&&Sz(T,e,String(t));const b=tx[T[0]];return b(a,T,s.localize,c)}).join("")}function Nz(t){const e=t.match(Az);return e?e[1].replace(kz,"'"):t}function Dz(){const[t,e]=O.useState([]),[n,r]=O.useState(!1),[s,i]=O.useState(""),[o,a]=O.useState(!1),[l,c]=O.useState(""),h=["Thiruvananthapuram","Kollam","Pathanamthitta","Alappuzha","Kottayam","Idukki","Ernakulam","Thrissur","Palakkad","Malappuram","Kozhikode","Wayanad","Kannur","Kasaragod"];O.useEffect(()=>{d()},[]);const d=async()=>{r(!0);try{const{data:v,error:w}=await xe.auth.getUser();if(w||!v.user)throw new Error("User not logged in");const T=v.user.id,{data:b,error:E}=await xe.from("doctors").select("*").eq("hospital_id",T);if(E)throw E;e(b)}catch(v){console.error("Error fetching doctors:",v.message),e([])}finally{r(!1)}},f=t.filter(v=>{var b,E;const w=((b=v.name)==null?void 0:b.toLowerCase().includes(s.toLowerCase()))||((E=v.specification)==null?void 0:E.toLowerCase().includes(s.toLowerCase())),T=!l||v.district===l;return w&&T});return g.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8",children:[g.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Hospital Doctors"}),g.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto mb-6",children:"View and manage all doctors associated with your hospital."}),g.jsxs("div",{className:"relative max-w-2xl w-full mx-auto",children:[g.jsx("input",{type:"text",value:s,onChange:v=>i(v.target.value),placeholder:"Search doctors by name or specialty...",className:"w-full px-10 pr-10 py-3.5 bg-white border border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-700"}),g.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:g.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),g.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 cursor-pointer text-gray-500 hover:text-blue-500",onClick:()=>a(!o),children:g.jsx(E0,{className:"w-5 h-5"})}),l&&g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"absolute right-20 top-1/2 transform -translate-y-1/2 bg-blue-100 text-blue-700 px-2 py-1 rounded text-xs font-medium",children:l}),g.jsx("button",{className:"absolute right-10 top-1/2 transform -translate-y-1/2 bg-gray-200 text-gray-700 px-2 py-1 rounded hover:bg-gray-300 text-xs",onClick:()=>c(""),children:"Clear"})]}),o&&g.jsx("div",{className:"absolute top-full mt-2 w-full bg-white border border-gray-200 rounded-xl shadow-lg z-10 max-h-60 overflow-y-auto",children:h.map((v,w)=>g.jsx("div",{onClick:()=>{c(v),a(!1)},className:`px-4 py-2 text-left cursor-pointer hover:bg-blue-100 ${l===v?"bg-blue-100 font-semibold":""}`,children:v},w))})]})]}),n?g.jsx("div",{className:"text-center text-gray-500",children:"Loading doctors..."}):f.length===0?g.jsx("div",{className:"text-center text-gray-500",children:"No doctors found."}):g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:f.map((v,w)=>g.jsx(tn,{to:`/control-token/${v.id}`,state:{doctorName:v.name},children:g.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:w*.1},className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300 cursor-pointer",children:g.jsx("div",{className:"p-4",children:g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("img",{src:v.photo||"https://via.placeholder.com/100",alt:v.name,className:"w-24 h-24 rounded-full object-cover"}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-gray-900",children:v.name}),g.jsxs("p",{className:"text-[#0e82fd] flex items-center gap-2",children:[g.jsx(WP,{}),v.specification||"N/A"]}),g.jsxs("div",{className:"flex items-center text-sm text-gray-600 mt-1",children:[g.jsx(bu,{className:"mr-2"}),v.district||"Unknown"]}),g.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Plan expires:"," ",v.plan_expiry_date?Rz(new Date(v.plan_expiry_date),"dd MMM yyyy"):"N/A"]})]})]})})})},v.id))})]})})}function Oz(){const[t,e]=O.useState(""),[n,r]=O.useState(!1),[s,i]=O.useState(""),[o,a]=O.useState([]),[l,c]=O.useState(!1),[h,d]=O.useState(0),[f,v]=O.useState(!0),w=5,T=["Thiruvananthapuram","Kollam","Pathanamthitta","Alappuzha","Kottayam","Idukki","Ernakulam","Thrissur","Palakkad","Malappuram","Kozhikode","Wayanad","Kannur","Kasaragod"],b=async(y=!1)=>{c(!0);try{let _=xe.from("hospitals").select("*").order("name",{ascending:!1}).range(h*w,h*w+w-1);s&&(_=_.eq("district",s)),t.trim()&&(_=_.contains("search_keywords",[t.toLowerCase()]));const{data:k,error:V}=await _;if(V)throw V;y?(a(k),d(0)):a(j=>[...j,...k]),k.length<w?v(!1):v(!0)}catch(_){console.error("Error fetching hospitals from Supabase:",_),a([])}finally{c(!1)}};O.useEffect(()=>{d(0),b(!0)},[t,s]);const E=()=>{d(y=>{const _=y+1;return b(!1),_})};return g.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8",children:[g.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Find Hospitals"}),g.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto mb-6",children:"Discover trusted hospitals and medical centers near you."}),g.jsxs("div",{className:"relative max-w-2xl w-full mx-auto",children:[g.jsx("input",{type:"text",value:t,onChange:y=>e(y.target.value.toLowerCase()),placeholder:"Search hospitals...",className:"w-full px-10 pr-10 py-3.5 bg-white border border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-700"}),g.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:g.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),g.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 cursor-pointer text-gray-500 hover:text-blue-500",onClick:()=>r(!n),children:g.jsx(E0,{className:"w-5 h-5"})}),s&&g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"absolute right-20 top-1/2 transform -translate-y-1/2 bg-blue-100 text-blue-700 px-2 py-1 rounded text-xs font-medium",children:s}),g.jsx("button",{className:"absolute right-10 top-1/2 transform -translate-y-1/2 bg-gray-200 text-gray-700 px-2 py-1 rounded hover:bg-gray-300 text-xs",onClick:()=>i(""),children:"Clear"})]}),n&&g.jsx("div",{className:"absolute top-full mt-2 w-full bg-white border border-gray-200 rounded-xl shadow-lg z-10 max-h-60 overflow-y-auto",children:T.map((y,_)=>g.jsx("div",{onClick:()=>{i(y),r(!1)},className:`px-4 py-2 text-left cursor-pointer hover:bg-blue-100 ${s===y?"bg-blue-100 font-semibold":""}`,children:y},_))})]})]}),l?g.jsx("div",{className:"text-center text-gray-500",children:"Loading hospitals..."}):o.length===0?g.jsx("div",{className:"text-center text-gray-500",children:"No hospitals found."}):g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4",children:o.map((y,_)=>g.jsx(tn,{to:"/doctors",state:{hospitalId:y.uid},children:g.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:_*.1},className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300 cursor-pointer",children:g.jsx("div",{className:"p-4",children:g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("img",{src:y.profileurl||"https://via.placeholder.com/100",alt:y.name,className:"w-24 h-24 rounded-full object-cover"}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-gray-900",children:y.name}),g.jsx("p",{className:"text-[#0e82fd] text-sm",children:y.city||"Unknown"}),g.jsxs("div",{className:"flex items-center text-sm text-gray-600 mt-1",children:[g.jsx(bu,{className:"mr-2"}),y.district||"Unknown"]})]})]})})})},y.id))}),f&&!l&&g.jsx("div",{className:"mt-6 text-center",children:g.jsx("button",{onClick:E,className:"px-6 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition",children:"Load More"})})]})})}function Vz(){const[t,e]=O.useState({name:"",district:"",city:"",phonenumber:"",profileurl:"",search_keywords:[]}),[n,r]=O.useState(!0),[s,i]=O.useState(!1),[o,a]=O.useState(null),[l,c]=O.useState(null),[h,d]=O.useState(null),f=["Thiruvananthapuram","Kollam","Pathanamthitta","Alappuzha","Kottayam","Idukki","Ernakulam","Thrissur","Palakkad","Malappuram","Kozhikode","Wayanad","Kannur","Kasaragod"],v=E=>{const y=new Set;return E.toLowerCase().split(" ").forEach(k=>{let V="";for(let j of k)V+=j,y.add(V)}),Array.from(y)};O.useEffect(()=>{(async()=>{const{data:{user:y}}=await xe.auth.getUser();if(!y)return;const{data:_,error:k}=await xe.from("hospitals").select("*").eq("uid",y.id).single();if(!k&&_&&(e({..._}),a(_.profileurl||null),_.profileurl)){const V=_.profileurl.split("/storage/v1/object/public/")[1];d(V)}r(!1)})()},[]);const w=E=>{const{name:y,value:_}=E.target,k={...t,[y]:_};y==="name"&&(k.search_keywords=v(_)),e(k)},T=E=>{const y=E.target.files[0];y&&(c(y),a(URL.createObjectURL(y)))},b=async E=>{E.preventDefault(),i(!0);const{data:{user:y}}=await xe.auth.getUser();if(!y){alert("Not logged in");return}const _={...t};try{if(l&&h&&await xe.storage.from("hospitalprofiles").remove([h]),l){const V=`${y.id}_${Date.now()}_${l.name}`,{error:j}=await xe.storage.from("hospitalprofiles").upload(V,l);if(j)throw j;const{data:I}=xe.storage.from("hospitalprofiles").getPublicUrl(V);_.profileurl=I.publicUrl}const{error:k}=await xe.from("hospitals").update(_).eq("uid",y.id);if(k)throw k;alert("Profile updated successfully!")}catch(k){console.error("Update failed:",k.message),alert("Error updating profile")}finally{i(!1)}};return n?g.jsx("div",{className:"p-10 text-center text-lg",children:"Loading profile..."}):g.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"max-w-3xl mx-auto bg-white shadow-xl rounded-xl p-8",children:[g.jsx("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-8",children:"Hospital Profile"}),g.jsxs("form",{onSubmit:b,className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col items-center",children:[o?g.jsx("img",{src:o,alt:"Preview",className:"w-32 h-32 rounded-full object-cover mb-4"}):g.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 mb-4",children:"No Image"}),g.jsx("input",{type:"file",accept:"image/*",onChange:T,className:"text-sm text-gray-600"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),g.jsx("input",{type:"text",name:"name",value:t.name,onChange:w,required:!0,className:"w-full px-4 py-3 border rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter hospital name"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"District"}),g.jsxs("select",{name:"district",value:t.district,onChange:w,required:!0,className:"w-full px-4 py-3 border rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[g.jsx("option",{value:"",children:"Select a district"}),f.map((E,y)=>g.jsx("option",{value:E,children:E},y))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),g.jsx("input",{type:"text",name:"city",value:t.city,onChange:w,required:!0,className:"w-full px-4 py-3 border rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter city"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),g.jsx("input",{type:"text",name:"phonenumber",value:t.phonenumber,onChange:w,required:!0,className:"w-full px-4 py-3 border rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter phone number"})]}),g.jsx(he.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",disabled:s,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-xl transition duration-300",children:s?"Updating...":"Update Profile"})]})]})})}function Lz(){var w;const{doctorId:t}=Mb(),n=((w=Fi().state)==null?void 0:w.doctorName)??"Unknown Doctor",[r,s]=O.useState(null),[i,o]=O.useState(!0),a=()=>{new Audio("/swabee-optoken.in/beep.mp3").play().catch(b=>console.error("Audio play failed:",b))},l=async()=>{o(!0);const{data:T,error:b}=await xe.from("live_tokens").select("*").eq("doctor_id",t).single();if(T){const{data:E,error:y}=await xe.from("live_tokens").update({last_updated:new Date().toISOString()}).eq("doctor_id",t).select().single();y?console.error("Update timestamp failed:",y):s(E)}else{const{data:E,error:y}=await xe.from("live_tokens").insert({doctor_id:t,doctor_name:n,token_number:0,is_token_active:!0,last_updated:new Date().toISOString()}).select().single();y?console.error("Insert failed:",y):s(E)}b&&b.code!=="PGRST116"&&console.error("Fetch error:",b),o(!1)};O.useEffect(()=>{t&&l()},[t]);const c=async T=>{if(!r)return;const{data:b,error:E}=await xe.from("live_tokens").update({...T,last_updated:new Date().toISOString()}).eq("doctor_id",r.doctor_id).select().single();E?console.error("Update failed:",E):s(b)},h=()=>{a(),c({token_number:r.token_number+1})},d=()=>{r.token_number>0&&c({token_number:r.token_number-1})},f=()=>{window.confirm("Reset token number to 0?")&&c({token_number:0})},v=()=>{window.confirm(`Are you sure you want to ${r.is_token_active?"turn OFF":"turn ON"} token system?`)&&c({is_token_active:!r.is_token_active})};return i?g.jsx("div",{className:"text-center mt-20 text-lg",children:"Loading..."}):r?g.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-start px-4 py-8 bg-gray-100",children:[g.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Doctor Token Control"}),g.jsxs("h2",{className:"text-xl text-gray-700 mb-6",children:[r.doctor_name," (",t,")"]}),g.jsx("div",{className:"w-24 h-24 bg-gray-800 text-white rounded-full flex items-center justify-center text-4xl font-bold mb-6 shadow-lg",children:r.token_number}),g.jsxs("div",{className:"flex gap-6 mb-8",children:[g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsx("button",{onClick:h,className:"p-4 bg-white border border-gray-300 rounded-full hover:bg-gray-200 transition duration-200 shadow",children:g.jsx(S6,{size:20,className:"text-gray-800"})}),g.jsx("span",{className:"mt-2 text-sm text-gray-700 font-medium",children:"Increment"})]}),g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsx("button",{onClick:f,className:"p-4 bg-white border border-gray-300 rounded-full hover:bg-gray-200 transition duration-200 shadow",children:g.jsx(I6,{size:20,className:"text-gray-800"})}),g.jsx("span",{className:"mt-2 text-sm text-gray-700 font-medium",children:"Reset"})]}),g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsx("button",{onClick:d,className:"p-4 bg-white border border-gray-300 rounded-full hover:bg-gray-200 transition duration-200 shadow",children:g.jsx(x6,{size:20,className:"text-gray-800"})}),g.jsx("span",{className:"mt-2 text-sm text-gray-700 font-medium",children:"Decrement"})]})]}),g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsx("button",{onClick:v,className:"p-4 bg-white border border-gray-300 rounded-full hover:bg-gray-200 transition duration-200 shadow",children:g.jsx(b6,{size:20,className:"text-gray-800"})}),g.jsx("span",{className:"mt-2 text-sm text-gray-700 font-medium",children:r.is_token_active?"Turn Off":"Turn On"})]})]}):g.jsx("div",{className:"text-center mt-20 text-red-500",children:"Token not found"})}function Mz(){const[t,e]=O.useState([]),[n,r]=O.useState(0);return O.useEffect(()=>{(async()=>{const{data:i,error:o}=await xe.from("ads").select("*").eq("is_token_ad",!0).eq("is_disable",!1);if(o){console.error("Error fetching token ads:",o.message);return}e(i)})()},[]),O.useEffect(()=>{if(t.length===0)return;const s=setInterval(()=>{r(i=>(i+1)%t.length)},3e3);return()=>clearInterval(s)},[t]),g.jsxs("div",{className:"w-full flex flex-col items-center mt-7 px-4 sm:px-8 lg:px-0",children:[g.jsx("div",{className:"w-full max-w-4xl h-48 sm:h-45 lg:h-64 relative overflow-hidden rounded-xl shadow-lg",children:g.jsx(fP,{mode:"wait",children:t.length>0&&g.jsx(he.img,{src:t[n].image_url,alt:t[n].name||"Token Ad",onClick:()=>window.open(t[n].linkUrl,"_blank"),className:"w-full h-full object-cover absolute inset-0 cursor-pointer",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.8}},t[n].id)})}),g.jsx("div",{className:"flex gap-2 mt-4",children:t.map((s,i)=>g.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${i===n?"bg-green-600 scale-110":"bg-gray-300"}`},i))})]})}function jz(){const{doctorId:t}=Mb(),[e,n]=O.useState(null),[r,s]=O.useState(!0),[i,o]=O.useState(new Date),[a,l]=O.useState("");return O.useEffect(()=>{const c=setInterval(()=>o(new Date),1e3);return()=>clearInterval(c)},[]),O.useEffect(()=>{if(!t)return;const c=async()=>{const{data:d,error:f}=await xe.from("live_tokens").select("*").eq("doctor_id",t).single();if(!d||f){n(null),l("Not started yet"),s(!1);return}n(d);const v=new Date(d.last_updated),w=new Date,T=v.getDate()===w.getDate()&&v.getMonth()===w.getMonth()&&v.getFullYear()===w.getFullYear();l(T?"":"Not started yet"),s(!1)};c();const h=setInterval(c,3e3);return()=>clearInterval(h)},[t]),g.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-start bg-gradient-to-br from-white to-gray-100 px-4 py-4",children:[g.jsx("div",{className:"flex items-center justify-center mt-20 mb-4",children:g.jsxs("div",{className:"relative flex items-center justify-center",children:[g.jsx("div",{className:"absolute w-44 h-44 bg-blue-100 rounded-full"}),g.jsx("div",{className:"absolute w-32 h-32 bg-blue-200 rounded-full opacity-80"}),g.jsx("div",{className:"w-24 h-24 bg-blue-600 text-white rounded-full flex items-center justify-center text-4xl font-bold z-10 shadow-xl",children:r||a?"--":(e==null?void 0:e.token_number)??"--"})]})}),g.jsxs("div",{className:"w-full max-w-4xl text-center mt-20",children:[g.jsx("h2",{className:"text-xl font-bold text-gray-800 leading-tight",children:r?"Loading...":e!=null&&e.doctor_name?`Dr. ${e.doctor_name}`:"Doctor not found"}),g.jsx("p",{className:"text-sm text-gray-600",children:i.toLocaleTimeString()}),a&&g.jsx("p",{className:"mt-2 text-sm text-red-500 font-medium",children:a})]}),g.jsx("div",{className:"w-full max-w-4xl mt-4",children:g.jsx(Mz,{})})]})}var ju=t=>t.type==="checkbox",wi=t=>t instanceof Date,Ht=t=>t==null;const D2=t=>typeof t=="object";var rt=t=>!Ht(t)&&!Array.isArray(t)&&D2(t)&&!wi(t),Fz=t=>rt(t)&&t.target?ju(t.target)?t.target.checked:t.target.value:t,Uz=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Bz=(t,e)=>t.has(Uz(e)),$z=t=>{const e=t.constructor&&t.constructor.prototype;return rt(e)&&e.hasOwnProperty("isPrototypeOf")},T0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function xn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(T0&&(t instanceof Blob||t instanceof FileList))&&(n||rt(t)))if(e=n?[]:{},!n&&!$z(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=xn(t[r]));else return t;return e}var Ef=t=>Array.isArray(t)?t.filter(Boolean):[],et=t=>t===void 0,J=(t,e,n)=>{if(!e||!rt(t))return n;const r=Ef(e.split(/[,[\].]+?/)).reduce((s,i)=>Ht(s)?s:s[i],t);return et(r)||r===t?et(t[e])?n:t[e]:r},Jn=t=>typeof t=="boolean",x0=t=>/^\w*$/.test(t),O2=t=>Ef(t.replace(/["|']|\]/g,"").split(/\.|\[/)),je=(t,e,n)=>{let r=-1;const s=x0(e)?[e]:O2(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const c=t[a];l=rt(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const ix={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},$n={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},vr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Ze.createContext(null);var zz=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==$n.all&&(e._proxyFormState[o]=!r||$n.all),t[o]}});return s},Xt=t=>rt(t)&&!Object.keys(t).length,Wz=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Xt(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===$n.all)},lh=t=>Array.isArray(t)?t:[t];function qz(t){const e=Ze.useRef(t);e.current=t,Ze.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var tr=t=>typeof t=="string",Hz=(t,e,n,r,s)=>tr(t)?(r&&e.watch.add(t),J(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),J(n,i))):(r&&(e.watchAll=!0),n),Kz=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},ox=t=>({isOnSubmit:!t||t===$n.onSubmit,isOnBlur:t===$n.onBlur,isOnChange:t===$n.onChange,isOnAll:t===$n.all,isOnTouch:t===$n.onTouched}),ax=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Nl=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=J(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Nl(a,e))break}else if(rt(a)&&Nl(a,e))break}}};var Gz=(t,e,n)=>{const r=lh(J(t,n));return je(r,"root",e[n]),je(t,n,r),t},S0=t=>t.type==="file",Ar=t=>typeof t=="function",md=t=>{if(!T0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},uh=t=>tr(t),b0=t=>t.type==="radio",gd=t=>t instanceof RegExp;const lx={value:!1,isValid:!1},ux={value:!0,isValid:!0};var V2=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!et(t[0].attributes.value)?et(t[0].value)||t[0].value===""?ux:{value:t[0].value,isValid:!0}:ux:lx}return lx};const cx={isValid:!1,value:null};var L2=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,cx):cx;function hx(t,e,n="validate"){if(uh(t)||Array.isArray(t)&&t.every(uh)||Jn(t)&&!t)return{type:n,message:uh(t)?t:"",ref:e}}var ao=t=>rt(t)&&!gd(t)?t:{value:t,message:""},dx=async(t,e,n,r,s)=>{const{ref:i,refs:o,required:a,maxLength:l,minLength:c,min:h,max:d,pattern:f,validate:v,name:w,valueAsNumber:T,mount:b,disabled:E}=t._f,y=J(e,w);if(!b||E)return{};const _=o?o[0]:i,k=N=>{r&&_.reportValidity&&(_.setCustomValidity(Jn(N)?"":N||""),_.reportValidity())},V={},j=b0(i),I=ju(i),x=j||I,P=(T||S0(i))&&et(i.value)&&et(y)||md(i)&&i.value===""||y===""||Array.isArray(y)&&!y.length,C=Kz.bind(null,w,n,V),D=(N,A,ye,Ve=vr.maxLength,pt=vr.minLength)=>{const ce=N?A:ye;V[w]={type:N?Ve:pt,message:ce,ref:i,...C(N?Ve:pt,ce)}};if(s?!Array.isArray(y)||!y.length:a&&(!x&&(P||Ht(y))||Jn(y)&&!y||I&&!V2(o).isValid||j&&!L2(o).isValid)){const{value:N,message:A}=uh(a)?{value:!!a,message:a}:ao(a);if(N&&(V[w]={type:vr.required,message:A,ref:_,...C(vr.required,A)},!n))return k(A),V}if(!P&&(!Ht(h)||!Ht(d))){let N,A;const ye=ao(d),Ve=ao(h);if(!Ht(y)&&!isNaN(y)){const pt=i.valueAsNumber||y&&+y;Ht(ye.value)||(N=pt>ye.value),Ht(Ve.value)||(A=pt<Ve.value)}else{const pt=i.valueAsDate||new Date(y),ce=ne=>new Date(new Date().toDateString()+" "+ne),q=i.type=="time",Z=i.type=="week";tr(ye.value)&&y&&(N=q?ce(y)>ce(ye.value):Z?y>ye.value:pt>new Date(ye.value)),tr(Ve.value)&&y&&(A=q?ce(y)<ce(Ve.value):Z?y<Ve.value:pt<new Date(Ve.value))}if((N||A)&&(D(!!N,ye.message,Ve.message,vr.max,vr.min),!n))return k(V[w].message),V}if((l||c)&&!P&&(tr(y)||s&&Array.isArray(y))){const N=ao(l),A=ao(c),ye=!Ht(N.value)&&y.length>+N.value,Ve=!Ht(A.value)&&y.length<+A.value;if((ye||Ve)&&(D(ye,N.message,A.message),!n))return k(V[w].message),V}if(f&&!P&&tr(y)){const{value:N,message:A}=ao(f);if(gd(N)&&!y.match(N)&&(V[w]={type:vr.pattern,message:A,ref:i,...C(vr.pattern,A)},!n))return k(A),V}if(v){if(Ar(v)){const N=await v(y,e),A=hx(N,_);if(A&&(V[w]={...A,...C(vr.validate,A.message)},!n))return k(A.message),V}else if(rt(v)){let N={};for(const A in v){if(!Xt(N)&&!n)break;const ye=hx(await v[A](y,e),_,A);ye&&(N={...ye,...C(A,ye.message)},k(ye.message),n&&(V[w]=N))}if(!Xt(N)&&(V[w]={ref:_,...N},!n))return V}}return k(!0),V};function Qz(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=et(t)?r++:t[e[r++]];return t}function Yz(t){for(const e in t)if(t.hasOwnProperty(e)&&!et(t[e]))return!1;return!0}function lt(t,e){const n=Array.isArray(e)?e:x0(e)?[e]:O2(e),r=n.length===1?t:Qz(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(rt(r)&&Xt(r)||Array.isArray(r)&&Yz(r))&&lt(t,n.slice(0,-1)),t}var Gp=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},Wg=t=>Ht(t)||!D2(t);function cs(t,e){if(Wg(t)||Wg(e))return t===e;if(wi(t)&&wi(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(wi(i)&&wi(o)||rt(i)&&rt(o)||Array.isArray(i)&&Array.isArray(o)?!cs(i,o):i!==o)return!1}}return!0}var M2=t=>t.type==="select-multiple",Xz=t=>b0(t)||ju(t),Qp=t=>md(t)&&t.isConnected,j2=t=>{for(const e in t)if(Ar(t[e]))return!0;return!1};function yd(t,e={}){const n=Array.isArray(t);if(rt(t)||n)for(const r in t)Array.isArray(t[r])||rt(t[r])&&!j2(t[r])?(e[r]=Array.isArray(t[r])?[]:{},yd(t[r],e[r])):Ht(t[r])||(e[r]=!0);return e}function F2(t,e,n){const r=Array.isArray(t);if(rt(t)||r)for(const s in t)Array.isArray(t[s])||rt(t[s])&&!j2(t[s])?et(e)||Wg(n[s])?n[s]=Array.isArray(t[s])?yd(t[s],[]):{...yd(t[s])}:F2(t[s],Ht(e)?{}:e[s],n[s]):n[s]=!cs(t[s],e[s]);return n}var Za=(t,e)=>F2(t,e,yd(e)),U2=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>et(t)?t:e?t===""?NaN:t&&+t:n&&tr(t)?new Date(t):r?r(t):t;function Yp(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return S0(e)?e.files:b0(e)?L2(t.refs).value:M2(e)?[...e.selectedOptions].map(({value:n})=>n):ju(e)?V2(t.refs).value:U2(et(e.value)?t.ref.value:e.value,t)}var Jz=(t,e,n,r)=>{const s={};for(const i of t){const o=J(e,i);o&&je(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},el=t=>et(t)?t:gd(t)?t.source:rt(t)?gd(t.value)?t.value.source:t.value:t;const fx="AsyncFunction";var Zz=t=>(!t||!t.validate)&&!!(Ar(t.validate)&&t.validate.constructor.name===fx||rt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===fx)),eW=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function px(t,e,n){const r=J(t,n);if(r||x0(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=J(e,i),a=J(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var tW=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,nW=(t,e)=>!Ef(J(t,e)).length&&lt(t,e);const rW={mode:$n.onSubmit,reValidateMode:$n.onChange,shouldFocusError:!0};function sW(t={}){let e={...rW,...t},n={submitCount:0,isDirty:!1,isLoading:Ar(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=rt(e.defaultValues)||rt(e.values)?xn(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:xn(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:Gp(),array:Gp(),state:Gp()},f=ox(e.mode),v=ox(e.reValidateMode),w=e.criteriaMode===$n.all,T=R=>M=>{clearTimeout(c),c=setTimeout(R,M)},b=async R=>{if(!t.disabled&&(h.isValid||R)){const M=e.resolver?Xt((await x()).errors):await C(r,!0);M!==n.isValid&&d.state.next({isValid:M})}},E=(R,M)=>{!t.disabled&&(h.isValidating||h.validatingFields)&&((R||Array.from(a.mount)).forEach(U=>{U&&(M?je(n.validatingFields,U,M):lt(n.validatingFields,U))}),d.state.next({validatingFields:n.validatingFields,isValidating:!Xt(n.validatingFields)}))},y=(R,M=[],U,G,K=!0,W=!0)=>{if(G&&U&&!t.disabled){if(o.action=!0,W&&Array.isArray(J(r,R))){const ee=U(J(r,R),G.argA,G.argB);K&&je(r,R,ee)}if(W&&Array.isArray(J(n.errors,R))){const ee=U(J(n.errors,R),G.argA,G.argB);K&&je(n.errors,R,ee),nW(n.errors,R)}if(h.touchedFields&&W&&Array.isArray(J(n.touchedFields,R))){const ee=U(J(n.touchedFields,R),G.argA,G.argB);K&&je(n.touchedFields,R,ee)}h.dirtyFields&&(n.dirtyFields=Za(s,i)),d.state.next({name:R,isDirty:N(R,M),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else je(i,R,M)},_=(R,M)=>{je(n.errors,R,M),d.state.next({errors:n.errors})},k=R=>{n.errors=R,d.state.next({errors:n.errors,isValid:!1})},V=(R,M,U,G)=>{const K=J(r,R);if(K){const W=J(i,R,et(U)?J(s,R):U);et(W)||G&&G.defaultChecked||M?je(i,R,M?W:Yp(K._f)):Ve(R,W),o.mount&&b()}},j=(R,M,U,G,K)=>{let W=!1,ee=!1;const ue={name:R};if(!t.disabled){const ve=!!(J(r,R)&&J(r,R)._f&&J(r,R)._f.disabled);if(!U||G){h.isDirty&&(ee=n.isDirty,n.isDirty=ue.isDirty=N(),W=ee!==ue.isDirty);const _e=ve||cs(J(s,R),M);ee=!!(!ve&&J(n.dirtyFields,R)),_e||ve?lt(n.dirtyFields,R):je(n.dirtyFields,R,!0),ue.dirtyFields=n.dirtyFields,W=W||h.dirtyFields&&ee!==!_e}if(U){const _e=J(n.touchedFields,R);_e||(je(n.touchedFields,R,U),ue.touchedFields=n.touchedFields,W=W||h.touchedFields&&_e!==U)}W&&K&&d.state.next(ue)}return W?ue:{}},I=(R,M,U,G)=>{const K=J(n.errors,R),W=h.isValid&&Jn(M)&&n.isValid!==M;if(t.delayError&&U?(l=T(()=>_(R,U)),l(t.delayError)):(clearTimeout(c),l=null,U?je(n.errors,R,U):lt(n.errors,R)),(U?!cs(K,U):K)||!Xt(G)||W){const ee={...G,...W&&Jn(M)?{isValid:M}:{},errors:n.errors,name:R};n={...n,...ee},d.state.next(ee)}},x=async R=>{E(R,!0);const M=await e.resolver(i,e.context,Jz(R||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return E(R),M},P=async R=>{const{errors:M}=await x(R);if(R)for(const U of R){const G=J(M,U);G?je(n.errors,U,G):lt(n.errors,U)}else n.errors=M;return M},C=async(R,M,U={valid:!0})=>{for(const G in R){const K=R[G];if(K){const{_f:W,...ee}=K;if(W){const ue=a.array.has(W.name),ve=K._f&&Zz(K._f);ve&&h.validatingFields&&E([G],!0);const _e=await dx(K,i,w,e.shouldUseNativeValidation&&!M,ue);if(ve&&h.validatingFields&&E([G]),_e[W.name]&&(U.valid=!1,M))break;!M&&(J(_e,W.name)?ue?Gz(n.errors,_e,W.name):je(n.errors,W.name,_e[W.name]):lt(n.errors,W.name))}!Xt(ee)&&await C(ee,M,U)}}return U.valid},D=()=>{for(const R of a.unMount){const M=J(r,R);M&&(M._f.refs?M._f.refs.every(U=>!Qp(U)):!Qp(M._f.ref))&&ln(R)}a.unMount=new Set},N=(R,M)=>!t.disabled&&(R&&M&&je(i,R,M),!cs(Ce(),s)),A=(R,M,U)=>Hz(R,a,{...o.mount?i:et(M)?s:tr(R)?{[R]:M}:M},U,M),ye=R=>Ef(J(o.mount?i:s,R,t.shouldUnregister?J(s,R,[]):[])),Ve=(R,M,U={})=>{const G=J(r,R);let K=M;if(G){const W=G._f;W&&(!W.disabled&&je(i,R,U2(M,W)),K=md(W.ref)&&Ht(M)?"":M,M2(W.ref)?[...W.ref.options].forEach(ee=>ee.selected=K.includes(ee.value)):W.refs?ju(W.ref)?W.refs.length>1?W.refs.forEach(ee=>(!ee.defaultChecked||!ee.disabled)&&(ee.checked=Array.isArray(K)?!!K.find(ue=>ue===ee.value):K===ee.value)):W.refs[0]&&(W.refs[0].checked=!!K):W.refs.forEach(ee=>ee.checked=ee.value===K):S0(W.ref)?W.ref.value="":(W.ref.value=K,W.ref.type||d.values.next({name:R,values:{...i}})))}(U.shouldDirty||U.shouldTouch)&&j(R,K,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&ne(R)},pt=(R,M,U)=>{for(const G in M){const K=M[G],W=`${R}.${G}`,ee=J(r,W);(a.array.has(R)||rt(K)||ee&&!ee._f)&&!wi(K)?pt(W,K,U):Ve(W,K,U)}},ce=(R,M,U={})=>{const G=J(r,R),K=a.array.has(R),W=xn(M);je(i,R,W),K?(d.array.next({name:R,values:{...i}}),(h.isDirty||h.dirtyFields)&&U.shouldDirty&&d.state.next({name:R,dirtyFields:Za(s,i),isDirty:N(R,W)})):G&&!G._f&&!Ht(W)?pt(R,W,U):Ve(R,W,U),ax(R,a)&&d.state.next({...n}),d.values.next({name:o.mount?R:void 0,values:{...i}})},q=async R=>{o.mount=!0;const M=R.target;let U=M.name,G=!0;const K=J(r,U),W=()=>M.type?Yp(K._f):Fz(R),ee=ue=>{G=Number.isNaN(ue)||wi(ue)&&isNaN(ue.getTime())||cs(ue,J(i,U,ue))};if(K){let ue,ve;const _e=W(),En=R.type===ix.BLUR||R.type===ix.FOCUS_OUT,Bu=!eW(K._f)&&!e.resolver&&!J(n.errors,U)&&!K._f.deps||tW(En,J(n.touchedFields,U),n.isSubmitted,v,f),Gi=ax(U,a,En);je(i,U,_e),En?(K._f.onBlur&&K._f.onBlur(R),l&&l(0)):K._f.onChange&&K._f.onChange(R);const Ia=j(U,_e,En,!1),Zs=!Xt(Ia)||Gi;if(!En&&d.values.next({name:U,type:R.type,values:{...i}}),Bu)return h.isValid&&(t.mode==="onBlur"?En&&b():b()),Zs&&d.state.next({name:U,...Gi?{}:Ia});if(!En&&Gi&&d.state.next({...n}),e.resolver){const{errors:Pa}=await x([U]);if(ee(_e),G){const $u=px(n.errors,r,U),Qi=px(Pa,r,$u.name||U);ue=Qi.error,U=Qi.name,ve=Xt(Pa)}}else E([U],!0),ue=(await dx(K,i,w,e.shouldUseNativeValidation))[U],E([U]),ee(_e),G&&(ue?ve=!1:h.isValid&&(ve=await C(r,!0)));G&&(K._f.deps&&ne(K._f.deps),I(U,ve,ue,Ia))}},Z=(R,M)=>{if(J(n.errors,M)&&R.focus)return R.focus(),1},ne=async(R,M={})=>{let U,G;const K=lh(R);if(e.resolver){const W=await P(et(R)?R:K);U=Xt(W),G=R?!K.some(ee=>J(W,ee)):U}else R?(G=(await Promise.all(K.map(async W=>{const ee=J(r,W);return await C(ee&&ee._f?{[W]:ee}:ee)}))).every(Boolean),!(!G&&!n.isValid)&&b()):G=U=await C(r);return d.state.next({...!tr(R)||h.isValid&&U!==n.isValid?{}:{name:R},...e.resolver||!R?{isValid:U}:{},errors:n.errors}),M.shouldFocus&&!G&&Nl(r,Z,R?K:a.mount),G},Ce=R=>{const M={...o.mount?i:s};return et(R)?M:tr(R)?J(M,R):R.map(U=>J(M,U))},Se=(R,M)=>({invalid:!!J((M||n).errors,R),isDirty:!!J((M||n).dirtyFields,R),error:J((M||n).errors,R),isValidating:!!J(n.validatingFields,R),isTouched:!!J((M||n).touchedFields,R)}),Be=R=>{R&&lh(R).forEach(M=>lt(n.errors,M)),d.state.next({errors:R?n.errors:{}})},_n=(R,M,U)=>{const G=(J(r,R,{_f:{}})._f||{}).ref,K=J(n.errors,R)||{},{ref:W,message:ee,type:ue,...ve}=K;je(n.errors,R,{...ve,...M,ref:G}),d.state.next({name:R,errors:n.errors,isValid:!1}),U&&U.shouldFocus&&G&&G.focus&&G.focus()},Dn=(R,M)=>Ar(R)?d.values.subscribe({next:U=>R(A(void 0,M),U)}):A(R,M,!0),ln=(R,M={})=>{for(const U of R?lh(R):a.mount)a.mount.delete(U),a.array.delete(U),M.keepValue||(lt(r,U),lt(i,U)),!M.keepError&&lt(n.errors,U),!M.keepDirty&&lt(n.dirtyFields,U),!M.keepTouched&&lt(n.touchedFields,U),!M.keepIsValidating&&lt(n.validatingFields,U),!e.shouldUnregister&&!M.keepDefaultValue&&lt(s,U);d.values.next({values:{...i}}),d.state.next({...n,...M.keepDirty?{isDirty:N()}:{}}),!M.keepIsValid&&b()},wn=({disabled:R,name:M,field:U,fields:G,value:K})=>{if(Jn(R)&&o.mount||R){const W=R?void 0:et(K)?Yp(U?U._f:J(G,M)._f):K;je(i,M,W),j(M,W,!1,!1,!0)}},Sa=(R,M={})=>{let U=J(r,R);const G=Jn(M.disabled)||Jn(t.disabled);return je(r,R,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:R}},name:R,mount:!0,...M}}),a.mount.add(R),U?wn({field:U,disabled:Jn(M.disabled)?M.disabled:t.disabled,name:R,value:M.value}):V(R,!0,M.value),{...G?{disabled:M.disabled||t.disabled}:{},...e.progressive?{required:!!M.required,min:el(M.min),max:el(M.max),minLength:el(M.minLength),maxLength:el(M.maxLength),pattern:el(M.pattern)}:{},name:R,onChange:q,onBlur:q,ref:K=>{if(K){Sa(R,M),U=J(r,R);const W=et(K.value)&&K.querySelectorAll&&K.querySelectorAll("input,select,textarea")[0]||K,ee=Xz(W),ue=U._f.refs||[];if(ee?ue.find(ve=>ve===W):W===U._f.ref)return;je(r,R,{_f:{...U._f,...ee?{refs:[...ue.filter(Qp),W,...Array.isArray(J(s,R))?[{}]:[]],ref:{type:W.type,name:R}}:{ref:W}}}),V(R,!1,void 0,W)}else U=J(r,R,{}),U._f&&(U._f.mount=!1),(e.shouldUnregister||M.shouldUnregister)&&!(Bz(a.array,R)&&o.action)&&a.unMount.add(R)}}},Fu=()=>e.shouldFocusError&&Nl(r,Z,a.mount),qi=R=>{Jn(R)&&(d.state.next({disabled:R}),Nl(r,(M,U)=>{const G=J(r,U);G&&(M.disabled=G._f.disabled||R,Array.isArray(G._f.refs)&&G._f.refs.forEach(K=>{K.disabled=G._f.disabled||R}))},0,!1))},Js=(R,M)=>async U=>{let G;U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let K=xn(i);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:W,values:ee}=await x();n.errors=W,K=ee}else await C(r);if(lt(n.errors,"root"),Xt(n.errors)){d.state.next({errors:{}});try{await R(K,U)}catch(W){G=W}}else M&&await M({...n.errors},U),Fu(),setTimeout(Fu);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Xt(n.errors)&&!G,submitCount:n.submitCount+1,errors:n.errors}),G)throw G},ba=(R,M={})=>{J(r,R)&&(et(M.defaultValue)?ce(R,xn(J(s,R))):(ce(R,M.defaultValue),je(s,R,xn(M.defaultValue))),M.keepTouched||lt(n.touchedFields,R),M.keepDirty||(lt(n.dirtyFields,R),n.isDirty=M.defaultValue?N(R,xn(J(s,R))):N()),M.keepError||(lt(n.errors,R),h.isValid&&b()),d.state.next({...n}))},Hi=(R,M={})=>{const U=R?xn(R):s,G=xn(U),K=Xt(R),W=K?s:G;if(M.keepDefaultValues||(s=U),!M.keepValues){if(M.keepDirtyValues){const ee=new Set([...a.mount,...Object.keys(Za(s,i))]);for(const ue of Array.from(ee))J(n.dirtyFields,ue)?je(W,ue,J(i,ue)):ce(ue,J(W,ue))}else{if(T0&&et(R))for(const ee of a.mount){const ue=J(r,ee);if(ue&&ue._f){const ve=Array.isArray(ue._f.refs)?ue._f.refs[0]:ue._f.ref;if(md(ve)){const _e=ve.closest("form");if(_e){_e.reset();break}}}}r={}}i=t.shouldUnregister?M.keepDefaultValues?xn(s):{}:xn(W),d.array.next({values:{...W}}),d.values.next({values:{...W}})}a={mount:M.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!M.keepIsValid||!!M.keepDirtyValues,o.watch=!!t.shouldUnregister,d.state.next({submitCount:M.keepSubmitCount?n.submitCount:0,isDirty:K?!1:M.keepDirty?n.isDirty:!!(M.keepDefaultValues&&!cs(R,s)),isSubmitted:M.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:K?{}:M.keepDirtyValues?M.keepDefaultValues&&i?Za(s,i):n.dirtyFields:M.keepDefaultValues&&R?Za(s,R):M.keepDirty?n.dirtyFields:{},touchedFields:M.keepTouched?n.touchedFields:{},errors:M.keepErrors?n.errors:{},isSubmitSuccessful:M.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Ki=(R,M)=>Hi(Ar(R)?R(i):R,M);return{control:{register:Sa,unregister:ln,getFieldState:Se,handleSubmit:Js,setError:_n,_executeSchema:x,_getWatch:A,_getDirty:N,_updateValid:b,_removeUnmounted:D,_updateFieldArray:y,_updateDisabledField:wn,_getFieldArray:ye,_reset:Hi,_resetDefaultValues:()=>Ar(e.defaultValues)&&e.defaultValues().then(R=>{Ki(R,e.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:R=>{n={...n,...R}},_disableForm:qi,_subjects:d,_proxyFormState:h,_setErrors:k,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(R){o=R},get _defaultValues(){return s},get _names(){return a},set _names(R){a=R},get _formState(){return n},set _formState(R){n=R},get _options(){return e},set _options(R){e={...e,...R}}},trigger:ne,register:Sa,handleSubmit:Js,watch:Dn,setValue:ce,getValues:Ce,reset:Ki,resetField:ba,clearErrors:Be,unregister:ln,setError:_n,setFocus:(R,M={})=>{const U=J(r,R),G=U&&U._f;if(G){const K=G.refs?G.refs[0]:G.ref;K.focus&&(K.focus(),M.shouldSelect&&K.select())}},getFieldState:Se}}function B2(t={}){const e=Ze.useRef(),n=Ze.useRef(),[r,s]=Ze.useState({isDirty:!1,isValidating:!1,isLoading:Ar(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ar(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...sW(t),formState:r});const i=e.current.control;return i._options=t,qz({subject:i._subjects.state,next:o=>{Wz(o,i._proxyFormState,i._updateFormState)&&s({...i._formState})}}),Ze.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Ze.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),Ze.useEffect(()=>{t.values&&!cs(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),Ze.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),Ze.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),Ze.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),Ze.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=zz(r,i),e.current}const iW=t=>{const e=new Set;return t.toLowerCase().split(" ").forEach(r=>{let s="";for(let i of r)s+=i,e.add(s)}),Array.from(e)},oW=async(t,e,n)=>{const{data:r,error:s}=await xe.auth.signUp({email:t,password:e});if(s)throw s;const i=r.user.id;return await xe.from("hospitals").insert({uid:i,name:n,email:t,search_keywords:iW(n)}),localStorage.setItem("user",JSON.stringify({uid:i,name:n})),i},aW=async(t,e)=>{const{data:n,error:r}=await xe.auth.signInWithPassword({email:t,password:e});if(r)throw r;const s=n.user.id,{data:i,error:o}=await xe.from("hospitals").select("name").eq("uid",s).single();if(o)throw o;return localStorage.setItem("user",JSON.stringify({uid:s,name:i.name})),{uid:s,name:i.name}},lW=async(t,e)=>{const{data:n,error:r}=await xe.auth.signInWithPassword({email:t,password:e});if(r)throw r;const s=n.user.id,{data:i,error:o}=await xe.from("doctors").select("name").eq("uid",s).single();if(o)throw o;return localStorage.setItem("user",JSON.stringify({uid:s,name:i.name})),{uid:s,name:i.name}};function uW(){const{register:t,handleSubmit:e,formState:{errors:n}}=B2(),r=Ld(),s=async i=>{try{const{email:o,password:a,userType:l}=i;l==="hp"?await aW(o,a):l==="dr"&&await lW(o,a),r("/ourdoctors")}catch(o){alert("Login failed. Please try again. "+o.message)}};return g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:g.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-xl",children:[g.jsxs("div",{children:[g.jsx("div",{className:"w-full flex justify-center items-center py-4",children:g.jsxs("span",{className:"text-xl font-extrabold sm:text-2xl",children:[g.jsx("span",{className:"text-blue-600",children:"optoken"}),g.jsx("span",{className:"text-black",children:".in"})]})}),g.jsx("h2",{className:"mt-2 text-center text-2xl font-extrabold text-gray-900",children:"Welcome back"}),g.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Don't have an account?"," ",g.jsx(tn,{to:"/register",className:"font-medium text-[#0e82fd] hover:text-[#0e82fd]/80 transition-colors",children:"Register now"})]})]}),g.jsxs("form",{className:"mt-8 space-y-6",onSubmit:e(s),children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),g.jsxs("div",{className:"mt-1 relative",children:[g.jsx("input",{id:"email",type:"email",...t("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),className:"appearance-none block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#0e82fd] focus:border-[#0e82fd]",placeholder:"Enter your email"}),n.email&&g.jsx(he.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-1 text-sm text-red-600",children:n.email.message})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),g.jsxs("div",{className:"mt-1 relative",children:[g.jsx("input",{id:"password",type:"password",...t("password",{required:"Password is required"}),className:"appearance-none block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#0e82fd] focus:border-[#0e82fd]",placeholder:"Enter your password"}),n.password&&g.jsx(he.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-1 text-sm text-red-600",children:n.password.message})]})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"userType",className:"block text-sm font-medium text-gray-700",children:"I am a"}),g.jsxs("select",{id:"userType",...t("userType",{required:"Please select user type"}),className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-[#0e82fd] focus:border-[#0e82fd]",children:[g.jsx("option",{value:"",children:"Select type"}),g.jsx("option",{value:"hp",children:"Hospital"}),g.jsx("option",{value:"dr",children:"Doctor"})]}),n.userType&&g.jsx(he.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-1 text-sm text-red-600",children:n.userType.message})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{id:"remember",type:"checkbox",...t("remember"),className:"h-4 w-4 text-[#0e82fd] focus:ring-[#0e82fd] border-gray-300 rounded"}),g.jsx("label",{htmlFor:"remember",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),g.jsx("div",{className:"text-sm",children:g.jsx("a",{href:"#",className:"font-medium text-[#0e82fd] hover:text-[#0e82fd]/80 transition-colors",children:"Forgot password?"})})]}),g.jsx(he.button,{whileHover:{scale:1.01},whileTap:{scale:.99},type:"submit",className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-xl shadow-sm text-sm font-medium text-white bg-[#0e82fd] hover:bg-[#0e82fd]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0e82fd] transition-colors",children:"Sign in"})]})]})})}function cW(){const t=Ld(),{register:e,handleSubmit:n,formState:{errors:r}}=B2(),s=async i=>{try{const{email:o,password:a,name:l,userType:c}=i;c==="hospital"&&(await oW(o,a,l),t("/waiting-for-email-verification"))}catch(o){console.error("Signup failed:",o.message||o),alert("Signup failed. Please try again.")}};return g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:g.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-xl",children:[g.jsx("div",{className:"w-full flex justify-center items-center py-2",children:g.jsxs("span",{className:"text-xl font-extrabold sm:text-2xl",children:[g.jsx("span",{className:"text-blue-600",children:"optoken"}),g.jsx("span",{className:"text-black",children:".in"})]})}),g.jsx("h2",{className:"mt-2 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),g.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",g.jsx(tn,{to:"/login",className:"font-medium text-[#0e82fd] hover:text-[#0e82fd]/80 transition-colors",children:"Sign in"})]}),g.jsxs("form",{className:"mt-8 space-y-6",onSubmit:n(s),children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),g.jsx("input",{id:"name",type:"text",...e("name",{required:"Name is required"}),className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#0e82fd] focus:border-[#0e82fd]",placeholder:"Enter your full name"}),r.name&&g.jsx(he.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-1 text-sm text-red-600",children:r.name.message})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),g.jsx("input",{id:"email",type:"email",...e("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#0e82fd] focus:border-[#0e82fd]",placeholder:"Enter your email"}),r.email&&g.jsx(he.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-1 text-sm text-red-600",children:r.email.message})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),g.jsx("input",{id:"password",type:"password",...e("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"}}),className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#0e82fd] focus:border-[#0e82fd]",placeholder:"Create a password"}),r.password&&g.jsx(he.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-1 text-sm text-red-600",children:r.password.message})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"userType",className:"block text-sm font-medium text-gray-700",children:"I am a"}),g.jsxs("select",{id:"userType",...e("userType",{required:"Please select user type"}),className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-[#0e82fd] focus:border-[#0e82fd]",children:[g.jsx("option",{value:"",children:"Select type"}),g.jsx("option",{value:"hospital",children:"Hospital"})]}),r.userType&&g.jsx(he.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-1 text-sm text-red-600",children:r.userType.message})]})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{id:"terms",type:"checkbox",...e("terms",{required:"You must accept the terms and conditions"}),className:"h-4 w-4 text-[#0e82fd] focus:ring-[#0e82fd] border-gray-300 rounded"}),g.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-700",children:["I accept the"," ",g.jsx("a",{href:"#",className:"text-[#0e82fd] hover:text-[#0e82fd]/80",children:"Terms and Conditions"})]})]}),r.terms&&g.jsx(he.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-1 text-sm text-red-600",children:r.terms.message}),g.jsx(he.button,{whileHover:{scale:1.01},whileTap:{scale:.99},type:"submit",className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-xl shadow-sm text-sm font-medium text-white bg-[#0e82fd] hover:bg-[#0e82fd]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0e82fd] transition-colors",children:"Create Account"})]})]})})}function hW(){return g.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:g.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white p-10 rounded-2xl shadow-xl max-w-md text-center",children:[g.jsx("div",{className:"flex justify-center mb-4 text-blue-600",children:g.jsx(Yj,{size:50})}),g.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Verify Your Email"}),g.jsx("p",{className:"text-gray-600 mb-6",children:"We've sent a verification link to your email address. Please check your inbox and click the link to verify your account."}),g.jsx(he.button,{whileHover:{scale:1.03},whileTap:{scale:.97},className:"bg-[#0e82fd] hover:bg-[#0e82fd]/90 transition-colors text-white px-6 py-3 rounded-xl w-full",onClick:()=>{},children:"Resend Email"})]})})}function dW(){return g.jsx(M4,{basename:"/optoken.in",children:g.jsx(E$,{children:g.jsxs("div",{className:"min-h-screen flex flex-col",children:[g.jsx(t3,{}),g.jsxs(k4,{children:[g.jsx(Wt,{path:"/",element:g.jsx("main",{className:"flex-grow",children:g.jsx(mE,{})})}),g.jsx(Wt,{path:"/register",element:g.jsx(cW,{})}),g.jsx(Wt,{path:"/login",element:g.jsx(uW,{})}),g.jsx(Wt,{path:"/contactus",element:g.jsx(T$,{})}),g.jsx(Wt,{path:"/doctors/",element:g.jsx(S$,{})}),g.jsx(Wt,{path:"/hospitals",element:g.jsx(Oz,{})}),g.jsx(Wt,{path:"/livetoken/:doctorId",element:g.jsx(jz,{})}),g.jsx(Wt,{path:"/ourdoctors",element:g.jsx(Dz,{})}),g.jsx(Wt,{path:"/adddoctor",element:g.jsx(x$,{})}),g.jsx(Wt,{path:"/profile",element:g.jsx(Vz,{})}),g.jsx(Wt,{path:"/control-token/:doctorId",element:g.jsx(Lz,{})}),g.jsx(Wt,{path:"/waiting-for-email-verification",element:g.jsx(hW,{})}),g.jsx(Wt,{path:"/email-verified",element:g.jsx(b$,{})}),g.jsx(Wt,{path:"*",element:g.jsx(mE,{})})]})]})})})}Pb(document.getElementById("root")).render(g.jsx(O.StrictMode,{children:g.jsx(dW,{})}));
