function f2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function p2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var LE={exports:{}},bh={},ME={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nl=Symbol.for("react.element"),m2=Symbol.for("react.portal"),g2=Symbol.for("react.fragment"),y2=Symbol.for("react.strict_mode"),v2=Symbol.for("react.profiler"),_2=Symbol.for("react.provider"),w2=Symbol.for("react.context"),E2=Symbol.for("react.forward_ref"),T2=Symbol.for("react.suspense"),x2=Symbol.for("react.memo"),S2=Symbol.for("react.lazy"),d0=Symbol.iterator;function I2(t){return t===null||typeof t!="object"?null:(t=d0&&t[d0]||t["@@iterator"],typeof t=="function"?t:null)}var jE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},FE=Object.assign,UE={};function Oo(t,e,n){this.props=t,this.context=e,this.refs=UE,this.updater=n||jE}Oo.prototype.isReactComponent={};Oo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Oo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function BE(){}BE.prototype=Oo.prototype;function Fm(t,e,n){this.props=t,this.context=e,this.refs=UE,this.updater=n||jE}var Um=Fm.prototype=new BE;Um.constructor=Fm;FE(Um,Oo.prototype);Um.isPureReactComponent=!0;var f0=Array.isArray,zE=Object.prototype.hasOwnProperty,Bm={current:null},$E={key:!0,ref:!0,__self:!0,__source:!0};function WE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)zE.call(e,r)&&!$E.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Nl,type:t,key:s,ref:o,props:i,_owner:Bm.current}}function A2(t,e){return{$$typeof:Nl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nl}function P2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var p0=/\/+/g;function Kd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?P2(""+t.key):e.toString(36)}function Xu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Nl:case m2:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Kd(o,0):r,f0(i)?(n="",t!=null&&(n=t.replace(p0,"$&/")+"/"),Xu(i,e,n,"",function(c){return c})):i!=null&&(zm(i)&&(i=A2(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(p0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",f0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Kd(s,a);o+=Xu(s,e,n,l,i)}else if(l=I2(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Kd(s,a++),o+=Xu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Eu(t,e,n){if(t==null)return t;var r=[],i=0;return Xu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function C2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ft={current:null},Ju={transition:null},R2={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:Ju,ReactCurrentOwner:Bm};function HE(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:Eu,forEach:function(t,e,n){Eu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Eu(t,function(){e++}),e},toArray:function(t){return Eu(t,function(e){return e})||[]},only:function(t){if(!zm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ce.Component=Oo;ce.Fragment=g2;ce.Profiler=v2;ce.PureComponent=Fm;ce.StrictMode=y2;ce.Suspense=T2;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R2;ce.act=HE;ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=FE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Bm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)zE.call(e,l)&&!$E.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Nl,type:t.type,key:i,ref:s,props:r,_owner:o}};ce.createContext=function(t){return t={$$typeof:w2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_2,_context:t},t.Consumer=t};ce.createElement=WE;ce.createFactory=function(t){var e=WE.bind(null,t);return e.type=t,e};ce.createRef=function(){return{current:null}};ce.forwardRef=function(t){return{$$typeof:E2,render:t}};ce.isValidElement=zm;ce.lazy=function(t){return{$$typeof:S2,_payload:{_status:-1,_result:t},_init:C2}};ce.memo=function(t,e){return{$$typeof:x2,type:t,compare:e===void 0?null:e}};ce.startTransition=function(t){var e=Ju.transition;Ju.transition={};try{t()}finally{Ju.transition=e}};ce.unstable_act=HE;ce.useCallback=function(t,e){return Ft.current.useCallback(t,e)};ce.useContext=function(t){return Ft.current.useContext(t)};ce.useDebugValue=function(){};ce.useDeferredValue=function(t){return Ft.current.useDeferredValue(t)};ce.useEffect=function(t,e){return Ft.current.useEffect(t,e)};ce.useId=function(){return Ft.current.useId()};ce.useImperativeHandle=function(t,e,n){return Ft.current.useImperativeHandle(t,e,n)};ce.useInsertionEffect=function(t,e){return Ft.current.useInsertionEffect(t,e)};ce.useLayoutEffect=function(t,e){return Ft.current.useLayoutEffect(t,e)};ce.useMemo=function(t,e){return Ft.current.useMemo(t,e)};ce.useReducer=function(t,e,n){return Ft.current.useReducer(t,e,n)};ce.useRef=function(t){return Ft.current.useRef(t)};ce.useState=function(t){return Ft.current.useState(t)};ce.useSyncExternalStore=function(t,e,n){return Ft.current.useSyncExternalStore(t,e,n)};ce.useTransition=function(){return Ft.current.useTransition()};ce.version="18.3.1";ME.exports=ce;var V=ME.exports;const Ye=p2(V),k2=f2({__proto__:null,default:Ye},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2=V,N2=Symbol.for("react.element"),D2=Symbol.for("react.fragment"),V2=Object.prototype.hasOwnProperty,O2=b2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,L2={key:!0,ref:!0,__self:!0,__source:!0};function qE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)V2.call(e,r)&&!L2.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:N2,type:t,key:s,ref:o,props:i,_owner:O2.current}}bh.Fragment=D2;bh.jsx=qE;bh.jsxs=qE;LE.exports=bh;var g=LE.exports,KE={exports:{}},ln={},GE={exports:{}},QE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,Z){var ne=H.length;H.push(Z);e:for(;0<ne;){var Ae=ne-1>>>1,Ee=H[Ae];if(0<i(Ee,Z))H[Ae]=Z,H[ne]=Ee,ne=Ae;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var Z=H[0],ne=H.pop();if(ne!==Z){H[0]=ne;e:for(var Ae=0,Ee=H.length,Me=Ee>>>1;Ae<Me;){var cn=2*(Ae+1)-1,In=H[cn],Qt=cn+1,hn=H[Qt];if(0>i(In,ne))Qt<Ee&&0>i(hn,In)?(H[Ae]=hn,H[Qt]=ne,Ae=Qt):(H[Ae]=In,H[cn]=ne,Ae=cn);else if(Qt<Ee&&0>i(hn,ne))H[Ae]=hn,H[Qt]=ne,Ae=Qt;else break e}}return Z}function i(H,Z){var ne=H.sortIndex-Z.sortIndex;return ne!==0?ne:H.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,p=3,v=!1,E=!1,S=!1,I=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(H){for(var Z=n(c);Z!==null;){if(Z.callback===null)r(c);else if(Z.startTime<=H)r(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=n(c)}}function k(H){if(S=!1,T(H),!E)if(n(l)!==null)E=!0,ut(M);else{var Z=n(c);Z!==null&&ue(k,Z.startTime-H)}}function M(H,Z){E=!1,S&&(S=!1,w(_),_=-1),v=!0;var ne=p;try{for(T(Z),d=n(l);d!==null&&(!(d.expirationTime>Z)||H&&!D());){var Ae=d.callback;if(typeof Ae=="function"){d.callback=null,p=d.priorityLevel;var Ee=Ae(d.expirationTime<=Z);Z=t.unstable_now(),typeof Ee=="function"?d.callback=Ee:d===n(l)&&r(l),T(Z)}else r(l);d=n(l)}if(d!==null)var Me=!0;else{var cn=n(c);cn!==null&&ue(k,cn.startTime-Z),Me=!1}return Me}finally{d=null,p=ne,v=!1}}var B=!1,C=null,_=-1,A=5,R=-1;function D(){return!(t.unstable_now()-R<A)}function N(){if(C!==null){var H=t.unstable_now();R=H;var Z=!0;try{Z=C(!0,H)}finally{Z?P():(B=!1,C=null)}}else B=!1}var P;if(typeof y=="function")P=function(){y(N)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Re=pe.port2;pe.port1.onmessage=N,P=function(){Re.postMessage(null)}}else P=function(){I(N,0)};function ut(H){C=H,B||(B=!0,P())}function ue(H,Z){_=I(function(){H(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){E||v||(E=!0,ut(M))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var ne=p;p=Z;try{return H()}finally{p=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ne=p;p=H;try{return Z()}finally{p=ne}},t.unstable_scheduleCallback=function(H,Z,ne){var Ae=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Ae+ne:Ae):ne=Ae,H){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=ne+Ee,H={id:h++,callback:Z,priorityLevel:H,startTime:ne,expirationTime:Ee,sortIndex:-1},ne>Ae?(H.sortIndex=ne,e(c,H),n(l)===null&&H===n(c)&&(S?(w(_),_=-1):S=!0,ue(k,ne-Ae))):(H.sortIndex=Ee,e(l,H),E||v||(E=!0,ut(M))),H},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(H){var Z=p;return function(){var ne=p;p=Z;try{return H.apply(this,arguments)}finally{p=ne}}}})(QE);GE.exports=QE;var M2=GE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j2=V,on=M2;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YE=new Set,Za={};function ws(t,e){vo(t,e),vo(t+"Capture",e)}function vo(t,e){for(Za[t]=e,t=0;t<e.length;t++)YE.add(e[t])}var Ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xf=Object.prototype.hasOwnProperty,F2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m0={},g0={};function U2(t){return Xf.call(g0,t)?!0:Xf.call(m0,t)?!1:F2.test(t)?g0[t]=!0:(m0[t]=!0,!1)}function B2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function z2(t,e,n,r){if(e===null||typeof e>"u"||B2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ut(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_t[t]=new Ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_t[e]=new Ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_t[t]=new Ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_t[t]=new Ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_t[t]=new Ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_t[t]=new Ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_t[t]=new Ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_t[t]=new Ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_t[t]=new Ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var $m=/[\-:]([a-z])/g;function Wm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($m,Wm);_t[e]=new Ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($m,Wm);_t[e]=new Ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($m,Wm);_t[e]=new Ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_t[t]=new Ut(t,1,!1,t.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_t[t]=new Ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hm(t,e,n,r){var i=_t.hasOwnProperty(e)?_t[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(z2(e,n,i,r)&&(n=null),r||i===null?U2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vr=j2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tu=Symbol.for("react.element"),$s=Symbol.for("react.portal"),Ws=Symbol.for("react.fragment"),qm=Symbol.for("react.strict_mode"),Jf=Symbol.for("react.profiler"),XE=Symbol.for("react.provider"),JE=Symbol.for("react.context"),Km=Symbol.for("react.forward_ref"),Zf=Symbol.for("react.suspense"),ep=Symbol.for("react.suspense_list"),Gm=Symbol.for("react.memo"),Br=Symbol.for("react.lazy"),ZE=Symbol.for("react.offscreen"),y0=Symbol.iterator;function la(t){return t===null||typeof t!="object"?null:(t=y0&&t[y0]||t["@@iterator"],typeof t=="function"?t:null)}var Be=Object.assign,Gd;function wa(t){if(Gd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Gd=e&&e[1]||""}return`
`+Gd+t}var Qd=!1;function Yd(t,e){if(!t||Qd)return"";Qd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Qd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?wa(t):""}function $2(t){switch(t.tag){case 5:return wa(t.type);case 16:return wa("Lazy");case 13:return wa("Suspense");case 19:return wa("SuspenseList");case 0:case 2:case 15:return t=Yd(t.type,!1),t;case 11:return t=Yd(t.type.render,!1),t;case 1:return t=Yd(t.type,!0),t;default:return""}}function tp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ws:return"Fragment";case $s:return"Portal";case Jf:return"Profiler";case qm:return"StrictMode";case Zf:return"Suspense";case ep:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case JE:return(t.displayName||"Context")+".Consumer";case XE:return(t._context.displayName||"Context")+".Provider";case Km:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gm:return e=t.displayName||null,e!==null?e:tp(t.type)||"Memo";case Br:e=t._payload,t=t._init;try{return tp(t(e))}catch{}}return null}function W2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tp(e);case 8:return e===qm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function eT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function H2(t){var e=eT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xu(t){t._valueTracker||(t._valueTracker=H2(t))}function tT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=eT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Sc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function np(t,e){var n=e.checked;return Be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function v0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=pi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nT(t,e){e=e.checked,e!=null&&Hm(t,"checked",e,!1)}function rp(t,e){nT(t,e);var n=pi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ip(t,e.type,n):e.hasOwnProperty("defaultValue")&&ip(t,e.type,pi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ip(t,e,n){(e!=="number"||Sc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ea=Array.isArray;function ao(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+pi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function sp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function w0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(Ea(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:pi(n)}}function rT(t,e){var n=pi(e.value),r=pi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function E0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function iT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function op(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?iT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Su,sT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Su=Su||document.createElement("div"),Su.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Su.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function el(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Na={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},q2=["Webkit","ms","Moz","O"];Object.keys(Na).forEach(function(t){q2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Na[e]=Na[t]})});function oT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Na.hasOwnProperty(t)&&Na[t]?(""+e).trim():e+"px"}function aT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=oT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var K2=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ap(t,e){if(e){if(K2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function lp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var up=null;function Qm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cp=null,lo=null,uo=null;function T0(t){if(t=Ol(t)){if(typeof cp!="function")throw Error($(280));var e=t.stateNode;e&&(e=Lh(e),cp(t.stateNode,t.type,e))}}function lT(t){lo?uo?uo.push(t):uo=[t]:lo=t}function uT(){if(lo){var t=lo,e=uo;if(uo=lo=null,T0(t),e)for(t=0;t<e.length;t++)T0(e[t])}}function cT(t,e){return t(e)}function hT(){}var Xd=!1;function dT(t,e,n){if(Xd)return t(e,n);Xd=!0;try{return cT(t,e,n)}finally{Xd=!1,(lo!==null||uo!==null)&&(hT(),uT())}}function tl(t,e){var n=t.stateNode;if(n===null)return null;var r=Lh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var hp=!1;if(Ir)try{var ua={};Object.defineProperty(ua,"passive",{get:function(){hp=!0}}),window.addEventListener("test",ua,ua),window.removeEventListener("test",ua,ua)}catch{hp=!1}function G2(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Da=!1,Ic=null,Ac=!1,dp=null,Q2={onError:function(t){Da=!0,Ic=t}};function Y2(t,e,n,r,i,s,o,a,l){Da=!1,Ic=null,G2.apply(Q2,arguments)}function X2(t,e,n,r,i,s,o,a,l){if(Y2.apply(this,arguments),Da){if(Da){var c=Ic;Da=!1,Ic=null}else throw Error($(198));Ac||(Ac=!0,dp=c)}}function Es(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function x0(t){if(Es(t)!==t)throw Error($(188))}function J2(t){var e=t.alternate;if(!e){if(e=Es(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return x0(i),t;if(s===r)return x0(i),e;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function pT(t){return t=J2(t),t!==null?mT(t):null}function mT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mT(t);if(e!==null)return e;t=t.sibling}return null}var gT=on.unstable_scheduleCallback,S0=on.unstable_cancelCallback,Z2=on.unstable_shouldYield,eR=on.unstable_requestPaint,Ze=on.unstable_now,tR=on.unstable_getCurrentPriorityLevel,Ym=on.unstable_ImmediatePriority,yT=on.unstable_UserBlockingPriority,Pc=on.unstable_NormalPriority,nR=on.unstable_LowPriority,vT=on.unstable_IdlePriority,Nh=null,Kn=null;function rR(t){if(Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(Nh,t,void 0,(t.current.flags&128)===128)}catch{}}var Dn=Math.clz32?Math.clz32:oR,iR=Math.log,sR=Math.LN2;function oR(t){return t>>>=0,t===0?32:31-(iR(t)/sR|0)|0}var Iu=64,Au=4194304;function Ta(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Cc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ta(a):(s&=o,s!==0&&(r=Ta(s)))}else o=n&~i,o!==0?r=Ta(o):s!==0&&(r=Ta(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Dn(e),i=1<<n,r|=t[n],e&=~i;return r}function aR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Dn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=aR(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function fp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _T(){var t=Iu;return Iu<<=1,!(Iu&4194240)&&(Iu=64),t}function Jd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Dl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dn(e),t[e]=n}function uR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Dn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Xm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Dn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var xe=0;function wT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ET,Jm,TT,xT,ST,pp=!1,Pu=[],ti=null,ni=null,ri=null,nl=new Map,rl=new Map,$r=[],cR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function I0(t,e){switch(t){case"focusin":case"focusout":ti=null;break;case"dragenter":case"dragleave":ni=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":nl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(e.pointerId)}}function ca(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ol(e),e!==null&&Jm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function hR(t,e,n,r,i){switch(e){case"focusin":return ti=ca(ti,t,e,n,r,i),!0;case"dragenter":return ni=ca(ni,t,e,n,r,i),!0;case"mouseover":return ri=ca(ri,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return nl.set(s,ca(nl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,rl.set(s,ca(rl.get(s)||null,t,e,n,r,i)),!0}return!1}function IT(t){var e=Yi(t.target);if(e!==null){var n=Es(e);if(n!==null){if(e=n.tag,e===13){if(e=fT(n),e!==null){t.blockedOn=e,ST(t.priority,function(){TT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);up=r,n.target.dispatchEvent(r),up=null}else return e=Ol(n),e!==null&&Jm(e),t.blockedOn=n,!1;e.shift()}return!0}function A0(t,e,n){Zu(t)&&n.delete(e)}function dR(){pp=!1,ti!==null&&Zu(ti)&&(ti=null),ni!==null&&Zu(ni)&&(ni=null),ri!==null&&Zu(ri)&&(ri=null),nl.forEach(A0),rl.forEach(A0)}function ha(t,e){t.blockedOn===e&&(t.blockedOn=null,pp||(pp=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,dR)))}function il(t){function e(i){return ha(i,t)}if(0<Pu.length){ha(Pu[0],t);for(var n=1;n<Pu.length;n++){var r=Pu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ti!==null&&ha(ti,t),ni!==null&&ha(ni,t),ri!==null&&ha(ri,t),nl.forEach(e),rl.forEach(e),n=0;n<$r.length;n++)r=$r[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<$r.length&&(n=$r[0],n.blockedOn===null);)IT(n),n.blockedOn===null&&$r.shift()}var co=Vr.ReactCurrentBatchConfig,Rc=!0;function fR(t,e,n,r){var i=xe,s=co.transition;co.transition=null;try{xe=1,Zm(t,e,n,r)}finally{xe=i,co.transition=s}}function pR(t,e,n,r){var i=xe,s=co.transition;co.transition=null;try{xe=4,Zm(t,e,n,r)}finally{xe=i,co.transition=s}}function Zm(t,e,n,r){if(Rc){var i=mp(t,e,n,r);if(i===null)uf(t,e,r,kc,n),I0(t,r);else if(hR(i,t,e,n,r))r.stopPropagation();else if(I0(t,r),e&4&&-1<cR.indexOf(t)){for(;i!==null;){var s=Ol(i);if(s!==null&&ET(s),s=mp(t,e,n,r),s===null&&uf(t,e,r,kc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else uf(t,e,r,null,n)}}var kc=null;function mp(t,e,n,r){if(kc=null,t=Qm(r),t=Yi(t),t!==null)if(e=Es(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return kc=t,null}function AT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tR()){case Ym:return 1;case yT:return 4;case Pc:case nR:return 16;case vT:return 536870912;default:return 16}default:return 16}}var Xr=null,eg=null,ec=null;function PT(){if(ec)return ec;var t,e=eg,n=e.length,r,i="value"in Xr?Xr.value:Xr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ec=i.slice(t,1<r?1-r:void 0)}function tc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cu(){return!0}function P0(){return!1}function un(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Cu:P0,this.isPropagationStopped=P0,this}return Be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cu)},persist:function(){},isPersistent:Cu}),e}var Lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tg=un(Lo),Vl=Be({},Lo,{view:0,detail:0}),mR=un(Vl),Zd,ef,da,Dh=Be({},Vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ng,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==da&&(da&&t.type==="mousemove"?(Zd=t.screenX-da.screenX,ef=t.screenY-da.screenY):ef=Zd=0,da=t),Zd)},movementY:function(t){return"movementY"in t?t.movementY:ef}}),C0=un(Dh),gR=Be({},Dh,{dataTransfer:0}),yR=un(gR),vR=Be({},Vl,{relatedTarget:0}),tf=un(vR),_R=Be({},Lo,{animationName:0,elapsedTime:0,pseudoElement:0}),wR=un(_R),ER=Be({},Lo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),TR=un(ER),xR=Be({},Lo,{data:0}),R0=un(xR),SR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=AR[t])?!!e[t]:!1}function ng(){return PR}var CR=Be({},Vl,{key:function(t){if(t.key){var e=SR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=tc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?IR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ng,charCode:function(t){return t.type==="keypress"?tc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?tc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),RR=un(CR),kR=Be({},Dh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k0=un(kR),bR=Be({},Vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ng}),NR=un(bR),DR=Be({},Lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),VR=un(DR),OR=Be({},Dh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),LR=un(OR),MR=[9,13,27,32],rg=Ir&&"CompositionEvent"in window,Va=null;Ir&&"documentMode"in document&&(Va=document.documentMode);var jR=Ir&&"TextEvent"in window&&!Va,CT=Ir&&(!rg||Va&&8<Va&&11>=Va),b0=" ",N0=!1;function RT(t,e){switch(t){case"keyup":return MR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hs=!1;function FR(t,e){switch(t){case"compositionend":return kT(e);case"keypress":return e.which!==32?null:(N0=!0,b0);case"textInput":return t=e.data,t===b0&&N0?null:t;default:return null}}function UR(t,e){if(Hs)return t==="compositionend"||!rg&&RT(t,e)?(t=PT(),ec=eg=Xr=null,Hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return CT&&e.locale!=="ko"?null:e.data;default:return null}}var BR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BR[t.type]:e==="textarea"}function bT(t,e,n,r){lT(r),e=bc(e,"onChange"),0<e.length&&(n=new tg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Oa=null,sl=null;function zR(t){zT(t,0)}function Vh(t){var e=Gs(t);if(tT(e))return t}function $R(t,e){if(t==="change")return e}var NT=!1;if(Ir){var nf;if(Ir){var rf="oninput"in document;if(!rf){var V0=document.createElement("div");V0.setAttribute("oninput","return;"),rf=typeof V0.oninput=="function"}nf=rf}else nf=!1;NT=nf&&(!document.documentMode||9<document.documentMode)}function O0(){Oa&&(Oa.detachEvent("onpropertychange",DT),sl=Oa=null)}function DT(t){if(t.propertyName==="value"&&Vh(sl)){var e=[];bT(e,sl,t,Qm(t)),dT(zR,e)}}function WR(t,e,n){t==="focusin"?(O0(),Oa=e,sl=n,Oa.attachEvent("onpropertychange",DT)):t==="focusout"&&O0()}function HR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vh(sl)}function qR(t,e){if(t==="click")return Vh(e)}function KR(t,e){if(t==="input"||t==="change")return Vh(e)}function GR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mn=typeof Object.is=="function"?Object.is:GR;function ol(t,e){if(Mn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Xf.call(e,i)||!Mn(t[i],e[i]))return!1}return!0}function L0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function M0(t,e){var n=L0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=L0(n)}}function VT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?VT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function OT(){for(var t=window,e=Sc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Sc(t.document)}return e}function ig(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function QR(t){var e=OT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&VT(n.ownerDocument.documentElement,n)){if(r!==null&&ig(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=M0(n,s);var o=M0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var YR=Ir&&"documentMode"in document&&11>=document.documentMode,qs=null,gp=null,La=null,yp=!1;function j0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yp||qs==null||qs!==Sc(r)||(r=qs,"selectionStart"in r&&ig(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),La&&ol(La,r)||(La=r,r=bc(gp,"onSelect"),0<r.length&&(e=new tg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qs)))}function Ru(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ks={animationend:Ru("Animation","AnimationEnd"),animationiteration:Ru("Animation","AnimationIteration"),animationstart:Ru("Animation","AnimationStart"),transitionend:Ru("Transition","TransitionEnd")},sf={},LT={};Ir&&(LT=document.createElement("div").style,"AnimationEvent"in window||(delete Ks.animationend.animation,delete Ks.animationiteration.animation,delete Ks.animationstart.animation),"TransitionEvent"in window||delete Ks.transitionend.transition);function Oh(t){if(sf[t])return sf[t];if(!Ks[t])return t;var e=Ks[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in LT)return sf[t]=e[n];return t}var MT=Oh("animationend"),jT=Oh("animationiteration"),FT=Oh("animationstart"),UT=Oh("transitionend"),BT=new Map,F0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(t,e){BT.set(t,e),ws(e,[t])}for(var of=0;of<F0.length;of++){var af=F0[of],XR=af.toLowerCase(),JR=af[0].toUpperCase()+af.slice(1);Pi(XR,"on"+JR)}Pi(MT,"onAnimationEnd");Pi(jT,"onAnimationIteration");Pi(FT,"onAnimationStart");Pi("dblclick","onDoubleClick");Pi("focusin","onFocus");Pi("focusout","onBlur");Pi(UT,"onTransitionEnd");vo("onMouseEnter",["mouseout","mouseover"]);vo("onMouseLeave",["mouseout","mouseover"]);vo("onPointerEnter",["pointerout","pointerover"]);vo("onPointerLeave",["pointerout","pointerover"]);ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZR=new Set("cancel close invalid load scroll toggle".split(" ").concat(xa));function U0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,X2(r,e,void 0,t),t.currentTarget=null}function zT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;U0(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;U0(i,a,c),s=l}}}if(Ac)throw t=dp,Ac=!1,dp=null,t}function be(t,e){var n=e[Tp];n===void 0&&(n=e[Tp]=new Set);var r=t+"__bubble";n.has(r)||($T(e,t,2,!1),n.add(r))}function lf(t,e,n){var r=0;e&&(r|=4),$T(n,t,r,e)}var ku="_reactListening"+Math.random().toString(36).slice(2);function al(t){if(!t[ku]){t[ku]=!0,YE.forEach(function(n){n!=="selectionchange"&&(ZR.has(n)||lf(n,!1,t),lf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ku]||(e[ku]=!0,lf("selectionchange",!1,e))}}function $T(t,e,n,r){switch(AT(e)){case 1:var i=fR;break;case 4:i=pR;break;default:i=Zm}n=i.bind(null,e,n,t),i=void 0,!hp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function uf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Yi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}dT(function(){var c=s,h=Qm(n),d=[];e:{var p=BT.get(t);if(p!==void 0){var v=tg,E=t;switch(t){case"keypress":if(tc(n)===0)break e;case"keydown":case"keyup":v=RR;break;case"focusin":E="focus",v=tf;break;case"focusout":E="blur",v=tf;break;case"beforeblur":case"afterblur":v=tf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=C0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=yR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=NR;break;case MT:case jT:case FT:v=wR;break;case UT:v=VR;break;case"scroll":v=mR;break;case"wheel":v=LR;break;case"copy":case"cut":case"paste":v=TR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=k0}var S=(e&4)!==0,I=!S&&t==="scroll",w=S?p!==null?p+"Capture":null:p;S=[];for(var y=c,T;y!==null;){T=y;var k=T.stateNode;if(T.tag===5&&k!==null&&(T=k,w!==null&&(k=tl(y,w),k!=null&&S.push(ll(y,k,T)))),I)break;y=y.return}0<S.length&&(p=new v(p,E,null,n,h),d.push({event:p,listeners:S}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==up&&(E=n.relatedTarget||n.fromElement)&&(Yi(E)||E[Ar]))break e;if((v||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,v?(E=n.relatedTarget||n.toElement,v=c,E=E?Yi(E):null,E!==null&&(I=Es(E),E!==I||E.tag!==5&&E.tag!==6)&&(E=null)):(v=null,E=c),v!==E)){if(S=C0,k="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(S=k0,k="onPointerLeave",w="onPointerEnter",y="pointer"),I=v==null?p:Gs(v),T=E==null?p:Gs(E),p=new S(k,y+"leave",v,n,h),p.target=I,p.relatedTarget=T,k=null,Yi(h)===c&&(S=new S(w,y+"enter",E,n,h),S.target=T,S.relatedTarget=I,k=S),I=k,v&&E)t:{for(S=v,w=E,y=0,T=S;T;T=Ms(T))y++;for(T=0,k=w;k;k=Ms(k))T++;for(;0<y-T;)S=Ms(S),y--;for(;0<T-y;)w=Ms(w),T--;for(;y--;){if(S===w||w!==null&&S===w.alternate)break t;S=Ms(S),w=Ms(w)}S=null}else S=null;v!==null&&B0(d,p,v,S,!1),E!==null&&I!==null&&B0(d,I,E,S,!0)}}e:{if(p=c?Gs(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var M=$R;else if(D0(p))if(NT)M=KR;else{M=HR;var B=WR}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=qR);if(M&&(M=M(t,c))){bT(d,M,n,h);break e}B&&B(t,p,c),t==="focusout"&&(B=p._wrapperState)&&B.controlled&&p.type==="number"&&ip(p,"number",p.value)}switch(B=c?Gs(c):window,t){case"focusin":(D0(B)||B.contentEditable==="true")&&(qs=B,gp=c,La=null);break;case"focusout":La=gp=qs=null;break;case"mousedown":yp=!0;break;case"contextmenu":case"mouseup":case"dragend":yp=!1,j0(d,n,h);break;case"selectionchange":if(YR)break;case"keydown":case"keyup":j0(d,n,h)}var C;if(rg)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Hs?RT(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(CT&&n.locale!=="ko"&&(Hs||_!=="onCompositionStart"?_==="onCompositionEnd"&&Hs&&(C=PT()):(Xr=h,eg="value"in Xr?Xr.value:Xr.textContent,Hs=!0)),B=bc(c,_),0<B.length&&(_=new R0(_,t,null,n,h),d.push({event:_,listeners:B}),C?_.data=C:(C=kT(n),C!==null&&(_.data=C)))),(C=jR?FR(t,n):UR(t,n))&&(c=bc(c,"onBeforeInput"),0<c.length&&(h=new R0("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=C))}zT(d,e)})}function ll(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=tl(t,n),s!=null&&r.unshift(ll(t,s,i)),s=tl(t,e),s!=null&&r.push(ll(t,s,i))),t=t.return}return r}function Ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function B0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=tl(n,s),l!=null&&o.unshift(ll(n,l,a))):i||(l=tl(n,s),l!=null&&o.push(ll(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var ek=/\r\n?/g,tk=/\u0000|\uFFFD/g;function z0(t){return(typeof t=="string"?t:""+t).replace(ek,`
`).replace(tk,"")}function bu(t,e,n){if(e=z0(e),z0(t)!==e&&n)throw Error($(425))}function Nc(){}var vp=null,_p=null;function wp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ep=typeof setTimeout=="function"?setTimeout:void 0,nk=typeof clearTimeout=="function"?clearTimeout:void 0,$0=typeof Promise=="function"?Promise:void 0,rk=typeof queueMicrotask=="function"?queueMicrotask:typeof $0<"u"?function(t){return $0.resolve(null).then(t).catch(ik)}:Ep;function ik(t){setTimeout(function(){throw t})}function cf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),il(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);il(e)}function ii(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function W0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Mo=Math.random().toString(36).slice(2),Wn="__reactFiber$"+Mo,ul="__reactProps$"+Mo,Ar="__reactContainer$"+Mo,Tp="__reactEvents$"+Mo,sk="__reactListeners$"+Mo,ok="__reactHandles$"+Mo;function Yi(t){var e=t[Wn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ar]||n[Wn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=W0(t);t!==null;){if(n=t[Wn])return n;t=W0(t)}return e}t=n,n=t.parentNode}return null}function Ol(t){return t=t[Wn]||t[Ar],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function Lh(t){return t[ul]||null}var xp=[],Qs=-1;function Ci(t){return{current:t}}function Ve(t){0>Qs||(t.current=xp[Qs],xp[Qs]=null,Qs--)}function Ce(t,e){Qs++,xp[Qs]=t.current,t.current=e}var mi={},Nt=Ci(mi),qt=Ci(!1),ls=mi;function _o(t,e){var n=t.type.contextTypes;if(!n)return mi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Kt(t){return t=t.childContextTypes,t!=null}function Dc(){Ve(qt),Ve(Nt)}function H0(t,e,n){if(Nt.current!==mi)throw Error($(168));Ce(Nt,e),Ce(qt,n)}function WT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,W2(t)||"Unknown",i));return Be({},n,r)}function Vc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mi,ls=Nt.current,Ce(Nt,t),Ce(qt,qt.current),!0}function q0(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=WT(t,e,ls),r.__reactInternalMemoizedMergedChildContext=t,Ve(qt),Ve(Nt),Ce(Nt,t)):Ve(qt),Ce(qt,n)}var hr=null,Mh=!1,hf=!1;function HT(t){hr===null?hr=[t]:hr.push(t)}function ak(t){Mh=!0,HT(t)}function Ri(){if(!hf&&hr!==null){hf=!0;var t=0,e=xe;try{var n=hr;for(xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hr=null,Mh=!1}catch(i){throw hr!==null&&(hr=hr.slice(t+1)),gT(Ym,Ri),i}finally{xe=e,hf=!1}}return null}var Ys=[],Xs=0,Oc=null,Lc=0,yn=[],vn=0,us=null,dr=1,fr="";function Hi(t,e){Ys[Xs++]=Lc,Ys[Xs++]=Oc,Oc=t,Lc=e}function qT(t,e,n){yn[vn++]=dr,yn[vn++]=fr,yn[vn++]=us,us=t;var r=dr;t=fr;var i=32-Dn(r)-1;r&=~(1<<i),n+=1;var s=32-Dn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,dr=1<<32-Dn(e)+i|n<<i|r,fr=s+t}else dr=1<<s|n<<i|r,fr=t}function sg(t){t.return!==null&&(Hi(t,1),qT(t,1,0))}function og(t){for(;t===Oc;)Oc=Ys[--Xs],Ys[Xs]=null,Lc=Ys[--Xs],Ys[Xs]=null;for(;t===us;)us=yn[--vn],yn[vn]=null,fr=yn[--vn],yn[vn]=null,dr=yn[--vn],yn[vn]=null}var rn=null,en=null,Oe=!1,kn=null;function KT(t,e){var n=wn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function K0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rn=t,en=ii(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rn=t,en=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=us!==null?{id:dr,overflow:fr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=wn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,rn=t,en=null,!0):!1;default:return!1}}function Sp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ip(t){if(Oe){var e=en;if(e){var n=e;if(!K0(t,e)){if(Sp(t))throw Error($(418));e=ii(n.nextSibling);var r=rn;e&&K0(t,e)?KT(r,n):(t.flags=t.flags&-4097|2,Oe=!1,rn=t)}}else{if(Sp(t))throw Error($(418));t.flags=t.flags&-4097|2,Oe=!1,rn=t}}}function G0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rn=t}function Nu(t){if(t!==rn)return!1;if(!Oe)return G0(t),Oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wp(t.type,t.memoizedProps)),e&&(e=en)){if(Sp(t))throw GT(),Error($(418));for(;e;)KT(t,e),e=ii(e.nextSibling)}if(G0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){en=ii(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}en=null}}else en=rn?ii(t.stateNode.nextSibling):null;return!0}function GT(){for(var t=en;t;)t=ii(t.nextSibling)}function wo(){en=rn=null,Oe=!1}function ag(t){kn===null?kn=[t]:kn.push(t)}var lk=Vr.ReactCurrentBatchConfig;function fa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function Du(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Q0(t){var e=t._init;return e(t._payload)}function QT(t){function e(w,y){if(t){var T=w.deletions;T===null?(w.deletions=[y],w.flags|=16):T.push(y)}}function n(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function i(w,y){return w=li(w,y),w.index=0,w.sibling=null,w}function s(w,y,T){return w.index=T,t?(T=w.alternate,T!==null?(T=T.index,T<y?(w.flags|=2,y):T):(w.flags|=2,y)):(w.flags|=1048576,y)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,y,T,k){return y===null||y.tag!==6?(y=vf(T,w.mode,k),y.return=w,y):(y=i(y,T),y.return=w,y)}function l(w,y,T,k){var M=T.type;return M===Ws?h(w,y,T.props.children,k,T.key):y!==null&&(y.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Br&&Q0(M)===y.type)?(k=i(y,T.props),k.ref=fa(w,y,T),k.return=w,k):(k=lc(T.type,T.key,T.props,null,w.mode,k),k.ref=fa(w,y,T),k.return=w,k)}function c(w,y,T,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=_f(T,w.mode,k),y.return=w,y):(y=i(y,T.children||[]),y.return=w,y)}function h(w,y,T,k,M){return y===null||y.tag!==7?(y=rs(T,w.mode,k,M),y.return=w,y):(y=i(y,T),y.return=w,y)}function d(w,y,T){if(typeof y=="string"&&y!==""||typeof y=="number")return y=vf(""+y,w.mode,T),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Tu:return T=lc(y.type,y.key,y.props,null,w.mode,T),T.ref=fa(w,null,y),T.return=w,T;case $s:return y=_f(y,w.mode,T),y.return=w,y;case Br:var k=y._init;return d(w,k(y._payload),T)}if(Ea(y)||la(y))return y=rs(y,w.mode,T,null),y.return=w,y;Du(w,y)}return null}function p(w,y,T,k){var M=y!==null?y.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return M!==null?null:a(w,y,""+T,k);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Tu:return T.key===M?l(w,y,T,k):null;case $s:return T.key===M?c(w,y,T,k):null;case Br:return M=T._init,p(w,y,M(T._payload),k)}if(Ea(T)||la(T))return M!==null?null:h(w,y,T,k,null);Du(w,T)}return null}function v(w,y,T,k,M){if(typeof k=="string"&&k!==""||typeof k=="number")return w=w.get(T)||null,a(y,w,""+k,M);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Tu:return w=w.get(k.key===null?T:k.key)||null,l(y,w,k,M);case $s:return w=w.get(k.key===null?T:k.key)||null,c(y,w,k,M);case Br:var B=k._init;return v(w,y,T,B(k._payload),M)}if(Ea(k)||la(k))return w=w.get(T)||null,h(y,w,k,M,null);Du(y,k)}return null}function E(w,y,T,k){for(var M=null,B=null,C=y,_=y=0,A=null;C!==null&&_<T.length;_++){C.index>_?(A=C,C=null):A=C.sibling;var R=p(w,C,T[_],k);if(R===null){C===null&&(C=A);break}t&&C&&R.alternate===null&&e(w,C),y=s(R,y,_),B===null?M=R:B.sibling=R,B=R,C=A}if(_===T.length)return n(w,C),Oe&&Hi(w,_),M;if(C===null){for(;_<T.length;_++)C=d(w,T[_],k),C!==null&&(y=s(C,y,_),B===null?M=C:B.sibling=C,B=C);return Oe&&Hi(w,_),M}for(C=r(w,C);_<T.length;_++)A=v(C,w,_,T[_],k),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?_:A.key),y=s(A,y,_),B===null?M=A:B.sibling=A,B=A);return t&&C.forEach(function(D){return e(w,D)}),Oe&&Hi(w,_),M}function S(w,y,T,k){var M=la(T);if(typeof M!="function")throw Error($(150));if(T=M.call(T),T==null)throw Error($(151));for(var B=M=null,C=y,_=y=0,A=null,R=T.next();C!==null&&!R.done;_++,R=T.next()){C.index>_?(A=C,C=null):A=C.sibling;var D=p(w,C,R.value,k);if(D===null){C===null&&(C=A);break}t&&C&&D.alternate===null&&e(w,C),y=s(D,y,_),B===null?M=D:B.sibling=D,B=D,C=A}if(R.done)return n(w,C),Oe&&Hi(w,_),M;if(C===null){for(;!R.done;_++,R=T.next())R=d(w,R.value,k),R!==null&&(y=s(R,y,_),B===null?M=R:B.sibling=R,B=R);return Oe&&Hi(w,_),M}for(C=r(w,C);!R.done;_++,R=T.next())R=v(C,w,_,R.value,k),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?_:R.key),y=s(R,y,_),B===null?M=R:B.sibling=R,B=R);return t&&C.forEach(function(N){return e(w,N)}),Oe&&Hi(w,_),M}function I(w,y,T,k){if(typeof T=="object"&&T!==null&&T.type===Ws&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Tu:e:{for(var M=T.key,B=y;B!==null;){if(B.key===M){if(M=T.type,M===Ws){if(B.tag===7){n(w,B.sibling),y=i(B,T.props.children),y.return=w,w=y;break e}}else if(B.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Br&&Q0(M)===B.type){n(w,B.sibling),y=i(B,T.props),y.ref=fa(w,B,T),y.return=w,w=y;break e}n(w,B);break}else e(w,B);B=B.sibling}T.type===Ws?(y=rs(T.props.children,w.mode,k,T.key),y.return=w,w=y):(k=lc(T.type,T.key,T.props,null,w.mode,k),k.ref=fa(w,y,T),k.return=w,w=k)}return o(w);case $s:e:{for(B=T.key;y!==null;){if(y.key===B)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){n(w,y.sibling),y=i(y,T.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else e(w,y);y=y.sibling}y=_f(T,w.mode,k),y.return=w,w=y}return o(w);case Br:return B=T._init,I(w,y,B(T._payload),k)}if(Ea(T))return E(w,y,T,k);if(la(T))return S(w,y,T,k);Du(w,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,y!==null&&y.tag===6?(n(w,y.sibling),y=i(y,T),y.return=w,w=y):(n(w,y),y=vf(T,w.mode,k),y.return=w,w=y),o(w)):n(w,y)}return I}var Eo=QT(!0),YT=QT(!1),Mc=Ci(null),jc=null,Js=null,lg=null;function ug(){lg=Js=jc=null}function cg(t){var e=Mc.current;Ve(Mc),t._currentValue=e}function Ap(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ho(t,e){jc=t,lg=Js=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ht=!0),t.firstContext=null)}function Tn(t){var e=t._currentValue;if(lg!==t)if(t={context:t,memoizedValue:e,next:null},Js===null){if(jc===null)throw Error($(308));Js=t,jc.dependencies={lanes:0,firstContext:t}}else Js=Js.next=t;return e}var Xi=null;function hg(t){Xi===null?Xi=[t]:Xi.push(t)}function XT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,hg(e)):(n.next=i.next,i.next=n),e.interleaved=n,Pr(t,r)}function Pr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var zr=!1;function dg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function si(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Pr(t,n)}return i=r.interleaved,i===null?(e.next=e,hg(r)):(e.next=i.next,i.next=e),r.interleaved=e,Pr(t,n)}function nc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xm(t,n)}}function Y0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fc(t,e,n,r){var i=t.updateQueue;zr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=c=l=null,a=s;do{var p=a.lane,v=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,S=a;switch(p=e,v=n,S.tag){case 1:if(E=S.payload,typeof E=="function"){d=E.call(v,d,p);break e}d=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=S.payload,p=typeof E=="function"?E.call(v,d,p):E,p==null)break e;d=Be({},d,p);break e;case 2:zr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else v={eventTime:v,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=v,l=d):h=h.next=v,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);hs|=o,t.lanes=o,t.memoizedState=d}}function X0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var Ll={},Gn=Ci(Ll),cl=Ci(Ll),hl=Ci(Ll);function Ji(t){if(t===Ll)throw Error($(174));return t}function fg(t,e){switch(Ce(hl,e),Ce(cl,t),Ce(Gn,Ll),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:op(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=op(e,t)}Ve(Gn),Ce(Gn,e)}function To(){Ve(Gn),Ve(cl),Ve(hl)}function ZT(t){Ji(hl.current);var e=Ji(Gn.current),n=op(e,t.type);e!==n&&(Ce(cl,t),Ce(Gn,n))}function pg(t){cl.current===t&&(Ve(Gn),Ve(cl))}var je=Ci(0);function Uc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var df=[];function mg(){for(var t=0;t<df.length;t++)df[t]._workInProgressVersionPrimary=null;df.length=0}var rc=Vr.ReactCurrentDispatcher,ff=Vr.ReactCurrentBatchConfig,cs=0,Ue=null,ot=null,ht=null,Bc=!1,Ma=!1,dl=0,uk=0;function xt(){throw Error($(321))}function gg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mn(t[n],e[n]))return!1;return!0}function yg(t,e,n,r,i,s){if(cs=s,Ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rc.current=t===null||t.memoizedState===null?fk:pk,t=n(r,i),Ma){s=0;do{if(Ma=!1,dl=0,25<=s)throw Error($(301));s+=1,ht=ot=null,e.updateQueue=null,rc.current=mk,t=n(r,i)}while(Ma)}if(rc.current=zc,e=ot!==null&&ot.next!==null,cs=0,ht=ot=Ue=null,Bc=!1,e)throw Error($(300));return t}function vg(){var t=dl!==0;return dl=0,t}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Ue.memoizedState=ht=t:ht=ht.next=t,ht}function xn(){if(ot===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var e=ht===null?Ue.memoizedState:ht.next;if(e!==null)ht=e,ot=t;else{if(t===null)throw Error($(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},ht===null?Ue.memoizedState=ht=t:ht=ht.next=t}return ht}function fl(t,e){return typeof e=="function"?e(t):e}function pf(t){var e=xn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=ot,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((cs&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ue.lanes|=h,hs|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Mn(r,e.memoizedState)||(Ht=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ue.lanes|=s,hs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function mf(t){var e=xn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Mn(s,e.memoizedState)||(Ht=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function ex(){}function tx(t,e){var n=Ue,r=xn(),i=e(),s=!Mn(r.memoizedState,i);if(s&&(r.memoizedState=i,Ht=!0),r=r.queue,_g(ix.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,pl(9,rx.bind(null,n,r,i,e),void 0,null),dt===null)throw Error($(349));cs&30||nx(n,e,i)}return i}function nx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function rx(t,e,n,r){e.value=n,e.getSnapshot=r,sx(e)&&ox(t)}function ix(t,e,n){return n(function(){sx(e)&&ox(t)})}function sx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mn(t,n)}catch{return!0}}function ox(t){var e=Pr(t,1);e!==null&&Vn(e,t,1,-1)}function J0(t){var e=Bn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:t},e.queue=t,t=t.dispatch=dk.bind(null,Ue,t),[e.memoizedState,t]}function pl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ax(){return xn().memoizedState}function ic(t,e,n,r){var i=Bn();Ue.flags|=t,i.memoizedState=pl(1|e,n,void 0,r===void 0?null:r)}function jh(t,e,n,r){var i=xn();r=r===void 0?null:r;var s=void 0;if(ot!==null){var o=ot.memoizedState;if(s=o.destroy,r!==null&&gg(r,o.deps)){i.memoizedState=pl(e,n,s,r);return}}Ue.flags|=t,i.memoizedState=pl(1|e,n,s,r)}function Z0(t,e){return ic(8390656,8,t,e)}function _g(t,e){return jh(2048,8,t,e)}function lx(t,e){return jh(4,2,t,e)}function ux(t,e){return jh(4,4,t,e)}function cx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hx(t,e,n){return n=n!=null?n.concat([t]):null,jh(4,4,cx.bind(null,e,t),n)}function wg(){}function dx(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fx(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function px(t,e,n){return cs&21?(Mn(n,e)||(n=_T(),Ue.lanes|=n,hs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=n)}function ck(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var r=ff.transition;ff.transition={};try{t(!1),e()}finally{xe=n,ff.transition=r}}function mx(){return xn().memoizedState}function hk(t,e,n){var r=ai(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gx(t))yx(e,n);else if(n=XT(t,e,n,r),n!==null){var i=jt();Vn(n,t,r,i),vx(n,e,r)}}function dk(t,e,n){var r=ai(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gx(t))yx(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Mn(a,o)){var l=e.interleaved;l===null?(i.next=i,hg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=XT(t,e,i,r),n!==null&&(i=jt(),Vn(n,t,r,i),vx(n,e,r))}}function gx(t){var e=t.alternate;return t===Ue||e!==null&&e===Ue}function yx(t,e){Ma=Bc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function vx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xm(t,n)}}var zc={readContext:Tn,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},fk={readContext:Tn,useCallback:function(t,e){return Bn().memoizedState=[t,e===void 0?null:e],t},useContext:Tn,useEffect:Z0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ic(4194308,4,cx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ic(4194308,4,t,e)},useInsertionEffect:function(t,e){return ic(4,2,t,e)},useMemo:function(t,e){var n=Bn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Bn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=hk.bind(null,Ue,t),[r.memoizedState,t]},useRef:function(t){var e=Bn();return t={current:t},e.memoizedState=t},useState:J0,useDebugValue:wg,useDeferredValue:function(t){return Bn().memoizedState=t},useTransition:function(){var t=J0(!1),e=t[0];return t=ck.bind(null,t[1]),Bn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ue,i=Bn();if(Oe){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),dt===null)throw Error($(349));cs&30||nx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Z0(ix.bind(null,r,s,t),[t]),r.flags|=2048,pl(9,rx.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Bn(),e=dt.identifierPrefix;if(Oe){var n=fr,r=dr;n=(r&~(1<<32-Dn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=dl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=uk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pk={readContext:Tn,useCallback:dx,useContext:Tn,useEffect:_g,useImperativeHandle:hx,useInsertionEffect:lx,useLayoutEffect:ux,useMemo:fx,useReducer:pf,useRef:ax,useState:function(){return pf(fl)},useDebugValue:wg,useDeferredValue:function(t){var e=xn();return px(e,ot.memoizedState,t)},useTransition:function(){var t=pf(fl)[0],e=xn().memoizedState;return[t,e]},useMutableSource:ex,useSyncExternalStore:tx,useId:mx,unstable_isNewReconciler:!1},mk={readContext:Tn,useCallback:dx,useContext:Tn,useEffect:_g,useImperativeHandle:hx,useInsertionEffect:lx,useLayoutEffect:ux,useMemo:fx,useReducer:mf,useRef:ax,useState:function(){return mf(fl)},useDebugValue:wg,useDeferredValue:function(t){var e=xn();return ot===null?e.memoizedState=t:px(e,ot.memoizedState,t)},useTransition:function(){var t=mf(fl)[0],e=xn().memoizedState;return[t,e]},useMutableSource:ex,useSyncExternalStore:tx,useId:mx,unstable_isNewReconciler:!1};function Cn(t,e){if(t&&t.defaultProps){e=Be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Pp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fh={isMounted:function(t){return(t=t._reactInternals)?Es(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=jt(),i=ai(t),s=vr(r,i);s.payload=e,n!=null&&(s.callback=n),e=si(t,s,i),e!==null&&(Vn(e,t,i,r),nc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=jt(),i=ai(t),s=vr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=si(t,s,i),e!==null&&(Vn(e,t,i,r),nc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=jt(),r=ai(t),i=vr(n,r);i.tag=2,e!=null&&(i.callback=e),e=si(t,i,r),e!==null&&(Vn(e,t,r,n),nc(e,t,r))}};function e_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ol(n,r)||!ol(i,s):!0}function _x(t,e,n){var r=!1,i=mi,s=e.contextType;return typeof s=="object"&&s!==null?s=Tn(s):(i=Kt(e)?ls:Nt.current,r=e.contextTypes,s=(r=r!=null)?_o(t,i):mi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function t_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Fh.enqueueReplaceState(e,e.state,null)}function Cp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},dg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Tn(s):(s=Kt(e)?ls:Nt.current,i.context=_o(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Pp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Fh.enqueueReplaceState(i,i.state,null),Fc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function xo(t,e){try{var n="",r=e;do n+=$2(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function gf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Rp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gk=typeof WeakMap=="function"?WeakMap:Map;function wx(t,e,n){n=vr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wc||(Wc=!0,Fp=r),Rp(t,e)},n}function Ex(t,e,n){n=vr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Rp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Rp(t,e),typeof r!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function n_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new gk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=kk.bind(null,t,e,n),e.then(t,t))}function r_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function i_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vr(-1,1),e.tag=2,si(n,e,1))),n.lanes|=1),t)}var yk=Vr.ReactCurrentOwner,Ht=!1;function Lt(t,e,n,r){e.child=t===null?YT(e,null,n,r):Eo(e,t.child,n,r)}function s_(t,e,n,r,i){n=n.render;var s=e.ref;return ho(e,i),r=yg(t,e,n,r,s,i),n=vg(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Cr(t,e,i)):(Oe&&n&&sg(e),e.flags|=1,Lt(t,e,r,i),e.child)}function o_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Cg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Tx(t,e,s,r,i)):(t=lc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ol,n(o,r)&&t.ref===e.ref)return Cr(t,e,i)}return e.flags|=1,t=li(s,r),t.ref=e.ref,t.return=e,e.child=t}function Tx(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ol(s,r)&&t.ref===e.ref)if(Ht=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ht=!0);else return e.lanes=t.lanes,Cr(t,e,i)}return kp(t,e,n,r,i)}function xx(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(eo,Xt),Xt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(eo,Xt),Xt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ce(eo,Xt),Xt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ce(eo,Xt),Xt|=r;return Lt(t,e,i,n),e.child}function Sx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function kp(t,e,n,r,i){var s=Kt(n)?ls:Nt.current;return s=_o(e,s),ho(e,i),n=yg(t,e,n,r,s,i),r=vg(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Cr(t,e,i)):(Oe&&r&&sg(e),e.flags|=1,Lt(t,e,n,i),e.child)}function a_(t,e,n,r,i){if(Kt(n)){var s=!0;Vc(e)}else s=!1;if(ho(e,i),e.stateNode===null)sc(t,e),_x(e,n,r),Cp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Tn(c):(c=Kt(n)?ls:Nt.current,c=_o(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&t_(e,o,r,c),zr=!1;var p=e.memoizedState;o.state=p,Fc(e,r,o,i),l=e.memoizedState,a!==r||p!==l||qt.current||zr?(typeof h=="function"&&(Pp(e,n,h,r),l=e.memoizedState),(a=zr||e_(e,n,a,r,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,JT(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Cn(e.type,a),o.props=c,d=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Tn(l):(l=Kt(n)?ls:Nt.current,l=_o(e,l));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&t_(e,o,r,l),zr=!1,p=e.memoizedState,o.state=p,Fc(e,r,o,i);var E=e.memoizedState;a!==d||p!==E||qt.current||zr?(typeof v=="function"&&(Pp(e,n,v,r),E=e.memoizedState),(c=zr||e_(e,n,c,r,p,E,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return bp(t,e,n,r,s,i)}function bp(t,e,n,r,i,s){Sx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&q0(e,n,!1),Cr(t,e,s);r=e.stateNode,yk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Eo(e,t.child,null,s),e.child=Eo(e,null,a,s)):Lt(t,e,a,s),e.memoizedState=r.state,i&&q0(e,n,!0),e.child}function Ix(t){var e=t.stateNode;e.pendingContext?H0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&H0(t,e.context,!1),fg(t,e.containerInfo)}function l_(t,e,n,r,i){return wo(),ag(i),e.flags|=256,Lt(t,e,n,r),e.child}var Np={dehydrated:null,treeContext:null,retryLane:0};function Dp(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ax(t,e,n){var r=e.pendingProps,i=je.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ce(je,i&1),t===null)return Ip(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=zh(o,r,0,null),t=rs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Dp(n),e.memoizedState=Np,t):Eg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return vk(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=li(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=li(a,s):(s=rs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Dp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Np,r}return s=t.child,t=s.sibling,r=li(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Eg(t,e){return e=zh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vu(t,e,n,r){return r!==null&&ag(r),Eo(e,t.child,null,n),t=Eg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vk(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=gf(Error($(422))),Vu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=zh({mode:"visible",children:r.children},i,0,null),s=rs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Eo(e,t.child,null,o),e.child.memoizedState=Dp(o),e.memoizedState=Np,s);if(!(e.mode&1))return Vu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error($(419)),r=gf(s,r,void 0),Vu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ht||a){if(r=dt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Pr(t,i),Vn(r,t,i,-1))}return Pg(),r=gf(Error($(421))),Vu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=bk.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,en=ii(i.nextSibling),rn=e,Oe=!0,kn=null,t!==null&&(yn[vn++]=dr,yn[vn++]=fr,yn[vn++]=us,dr=t.id,fr=t.overflow,us=e),e=Eg(e,r.children),e.flags|=4096,e)}function u_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ap(t.return,e,n)}function yf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Px(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Lt(t,e,r.children,n),r=je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&u_(t,n,e);else if(t.tag===19)u_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce(je,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Uc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),yf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Uc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}yf(e,!0,n,null,s);break;case"together":yf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Cr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=li(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=li(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _k(t,e,n){switch(e.tag){case 3:Ix(e),wo();break;case 5:ZT(e);break;case 1:Kt(e.type)&&Vc(e);break;case 4:fg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ce(Mc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce(je,je.current&1),e.flags|=128,null):n&e.child.childLanes?Ax(t,e,n):(Ce(je,je.current&1),t=Cr(t,e,n),t!==null?t.sibling:null);Ce(je,je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Px(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ce(je,je.current),r)break;return null;case 22:case 23:return e.lanes=0,xx(t,e,n)}return Cr(t,e,n)}var Cx,Vp,Rx,kx;Cx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vp=function(){};Rx=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ji(Gn.current);var s=null;switch(n){case"input":i=np(t,i),r=np(t,r),s=[];break;case"select":i=Be({},i,{value:void 0}),r=Be({},r,{value:void 0}),s=[];break;case"textarea":i=sp(t,i),r=sp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Nc)}ap(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Za.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Za.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&be("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};kx=function(t,e,n,r){n!==r&&(e.flags|=4)};function pa(t,e){if(!Oe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function St(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function wk(t,e,n){var r=e.pendingProps;switch(og(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(e),null;case 1:return Kt(e.type)&&Dc(),St(e),null;case 3:return r=e.stateNode,To(),Ve(qt),Ve(Nt),mg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Nu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,kn!==null&&(zp(kn),kn=null))),Vp(t,e),St(e),null;case 5:pg(e);var i=Ji(hl.current);if(n=e.type,t!==null&&e.stateNode!=null)Rx(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return St(e),null}if(t=Ji(Gn.current),Nu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Wn]=e,r[ul]=s,t=(e.mode&1)!==0,n){case"dialog":be("cancel",r),be("close",r);break;case"iframe":case"object":case"embed":be("load",r);break;case"video":case"audio":for(i=0;i<xa.length;i++)be(xa[i],r);break;case"source":be("error",r);break;case"img":case"image":case"link":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"input":v0(r,s),be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},be("invalid",r);break;case"textarea":w0(r,s),be("invalid",r)}ap(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&bu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&bu(r.textContent,a,t),i=["children",""+a]):Za.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&be("scroll",r)}switch(n){case"input":xu(r),_0(r,s,!0);break;case"textarea":xu(r),E0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Nc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=iT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Wn]=e,t[ul]=r,Cx(t,e,!1,!1),e.stateNode=t;e:{switch(o=lp(n,r),n){case"dialog":be("cancel",t),be("close",t),i=r;break;case"iframe":case"object":case"embed":be("load",t),i=r;break;case"video":case"audio":for(i=0;i<xa.length;i++)be(xa[i],t);i=r;break;case"source":be("error",t),i=r;break;case"img":case"image":case"link":be("error",t),be("load",t),i=r;break;case"details":be("toggle",t),i=r;break;case"input":v0(t,r),i=np(t,r),be("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Be({},r,{value:void 0}),be("invalid",t);break;case"textarea":w0(t,r),i=sp(t,r),be("invalid",t);break;default:i=r}ap(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?aT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&sT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&el(t,l):typeof l=="number"&&el(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Za.hasOwnProperty(s)?l!=null&&s==="onScroll"&&be("scroll",t):l!=null&&Hm(t,s,l,o))}switch(n){case"input":xu(t),_0(t,r,!1);break;case"textarea":xu(t),E0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+pi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ao(t,!!r.multiple,s,!1):r.defaultValue!=null&&ao(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Nc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return St(e),null;case 6:if(t&&e.stateNode!=null)kx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=Ji(hl.current),Ji(Gn.current),Nu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Wn]=e,(s=r.nodeValue!==n)&&(t=rn,t!==null))switch(t.tag){case 3:bu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wn]=e,e.stateNode=r}return St(e),null;case 13:if(Ve(je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Oe&&en!==null&&e.mode&1&&!(e.flags&128))GT(),wo(),e.flags|=98560,s=!1;else if(s=Nu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[Wn]=e}else wo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;St(e),s=!1}else kn!==null&&(zp(kn),kn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||je.current&1?at===0&&(at=3):Pg())),e.updateQueue!==null&&(e.flags|=4),St(e),null);case 4:return To(),Vp(t,e),t===null&&al(e.stateNode.containerInfo),St(e),null;case 10:return cg(e.type._context),St(e),null;case 17:return Kt(e.type)&&Dc(),St(e),null;case 19:if(Ve(je),s=e.memoizedState,s===null)return St(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)pa(s,!1);else{if(at!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Uc(t),o!==null){for(e.flags|=128,pa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce(je,je.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ze()>So&&(e.flags|=128,r=!0,pa(s,!1),e.lanes=4194304)}else{if(!r)if(t=Uc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),pa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Oe)return St(e),null}else 2*Ze()-s.renderingStartTime>So&&n!==1073741824&&(e.flags|=128,r=!0,pa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ze(),e.sibling=null,n=je.current,Ce(je,r?n&1|2:n&1),e):(St(e),null);case 22:case 23:return Ag(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Xt&1073741824&&(St(e),e.subtreeFlags&6&&(e.flags|=8192)):St(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function Ek(t,e){switch(og(e),e.tag){case 1:return Kt(e.type)&&Dc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return To(),Ve(qt),Ve(Nt),mg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return pg(e),null;case 13:if(Ve(je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));wo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ve(je),null;case 4:return To(),null;case 10:return cg(e.type._context),null;case 22:case 23:return Ag(),null;case 24:return null;default:return null}}var Ou=!1,Ct=!1,Tk=typeof WeakSet=="function"?WeakSet:Set,X=null;function Zs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(t,e,r)}else n.current=null}function Op(t,e,n){try{n()}catch(r){We(t,e,r)}}var c_=!1;function xk(t,e){if(vp=Rc,t=OT(),ig(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=t,p=null;t:for(;;){for(var v;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(v=d.firstChild)!==null;)p=d,d=v;for(;;){if(d===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++h===r&&(l=o),(v=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(_p={focusedElem:t,selectionRange:n},Rc=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var S=E.memoizedProps,I=E.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?S:Cn(e.type,S),I);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(k){We(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return E=c_,c_=!1,E}function ja(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Op(e,n,s)}i=i.next}while(i!==r)}}function Uh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Lp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function bx(t){var e=t.alternate;e!==null&&(t.alternate=null,bx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wn],delete e[ul],delete e[Tp],delete e[sk],delete e[ok])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Nx(t){return t.tag===5||t.tag===3||t.tag===4}function h_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Nx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Nc));else if(r!==4&&(t=t.child,t!==null))for(Mp(t,e,n),t=t.sibling;t!==null;)Mp(t,e,n),t=t.sibling}function jp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(jp(t,e,n),t=t.sibling;t!==null;)jp(t,e,n),t=t.sibling}var pt=null,Rn=!1;function jr(t,e,n){for(n=n.child;n!==null;)Dx(t,e,n),n=n.sibling}function Dx(t,e,n){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(Nh,n)}catch{}switch(n.tag){case 5:Ct||Zs(n,e);case 6:var r=pt,i=Rn;pt=null,jr(t,e,n),pt=r,Rn=i,pt!==null&&(Rn?(t=pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(Rn?(t=pt,n=n.stateNode,t.nodeType===8?cf(t.parentNode,n):t.nodeType===1&&cf(t,n),il(t)):cf(pt,n.stateNode));break;case 4:r=pt,i=Rn,pt=n.stateNode.containerInfo,Rn=!0,jr(t,e,n),pt=r,Rn=i;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Op(n,e,o),i=i.next}while(i!==r)}jr(t,e,n);break;case 1:if(!Ct&&(Zs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){We(n,e,a)}jr(t,e,n);break;case 21:jr(t,e,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,jr(t,e,n),Ct=r):jr(t,e,n);break;default:jr(t,e,n)}}function d_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Tk),e.forEach(function(r){var i=Nk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Pn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:pt=a.stateNode,Rn=!1;break e;case 3:pt=a.stateNode.containerInfo,Rn=!0;break e;case 4:pt=a.stateNode.containerInfo,Rn=!0;break e}a=a.return}if(pt===null)throw Error($(160));Dx(s,o,i),pt=null,Rn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){We(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Vx(e,t),e=e.sibling}function Vx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pn(e,t),Un(t),r&4){try{ja(3,t,t.return),Uh(3,t)}catch(S){We(t,t.return,S)}try{ja(5,t,t.return)}catch(S){We(t,t.return,S)}}break;case 1:Pn(e,t),Un(t),r&512&&n!==null&&Zs(n,n.return);break;case 5:if(Pn(e,t),Un(t),r&512&&n!==null&&Zs(n,n.return),t.flags&32){var i=t.stateNode;try{el(i,"")}catch(S){We(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&nT(i,s),lp(a,o);var c=lp(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?aT(i,d):h==="dangerouslySetInnerHTML"?sT(i,d):h==="children"?el(i,d):Hm(i,h,d,c)}switch(a){case"input":rp(i,s);break;case"textarea":rT(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?ao(i,!!s.multiple,v,!1):p!==!!s.multiple&&(s.defaultValue!=null?ao(i,!!s.multiple,s.defaultValue,!0):ao(i,!!s.multiple,s.multiple?[]:"",!1))}i[ul]=s}catch(S){We(t,t.return,S)}}break;case 6:if(Pn(e,t),Un(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){We(t,t.return,S)}}break;case 3:if(Pn(e,t),Un(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{il(e.containerInfo)}catch(S){We(t,t.return,S)}break;case 4:Pn(e,t),Un(t);break;case 13:Pn(e,t),Un(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Sg=Ze())),r&4&&d_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ct=(c=Ct)||h,Pn(e,t),Ct=c):Pn(e,t),Un(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(X=t,h=t.child;h!==null;){for(d=X=h;X!==null;){switch(p=X,v=p.child,p.tag){case 0:case 11:case 14:case 15:ja(4,p,p.return);break;case 1:Zs(p,p.return);var E=p.stateNode;if(typeof E.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(S){We(r,n,S)}}break;case 5:Zs(p,p.return);break;case 22:if(p.memoizedState!==null){p_(d);continue}}v!==null?(v.return=p,X=v):p_(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=oT("display",o))}catch(S){We(t,t.return,S)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(S){We(t,t.return,S)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Pn(e,t),Un(t),r&4&&d_(t);break;case 21:break;default:Pn(e,t),Un(t)}}function Un(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Nx(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(el(i,""),r.flags&=-33);var s=h_(t);jp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=h_(t);Mp(t,a,o);break;default:throw Error($(161))}}catch(l){We(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Sk(t,e,n){X=t,Ox(t)}function Ox(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ou;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ct;a=Ou;var c=Ct;if(Ou=o,(Ct=l)&&!c)for(X=i;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?m_(i):l!==null?(l.return=o,X=l):m_(i);for(;s!==null;)X=s,Ox(s),s=s.sibling;X=i,Ou=a,Ct=c}f_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,X=s):f_(t)}}function f_(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ct||Uh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Cn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&X0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}X0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&il(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Ct||e.flags&512&&Lp(e)}catch(p){We(e,e.return,p)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function p_(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function m_(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Uh(4,e)}catch(l){We(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){We(e,i,l)}}var s=e.return;try{Lp(e)}catch(l){We(e,s,l)}break;case 5:var o=e.return;try{Lp(e)}catch(l){We(e,o,l)}}}catch(l){We(e,e.return,l)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var Ik=Math.ceil,$c=Vr.ReactCurrentDispatcher,Tg=Vr.ReactCurrentOwner,En=Vr.ReactCurrentBatchConfig,_e=0,dt=null,nt=null,vt=0,Xt=0,eo=Ci(0),at=0,ml=null,hs=0,Bh=0,xg=0,Fa=null,$t=null,Sg=0,So=1/0,cr=null,Wc=!1,Fp=null,oi=null,Lu=!1,Jr=null,Hc=0,Ua=0,Up=null,oc=-1,ac=0;function jt(){return _e&6?Ze():oc!==-1?oc:oc=Ze()}function ai(t){return t.mode&1?_e&2&&vt!==0?vt&-vt:lk.transition!==null?(ac===0&&(ac=_T()),ac):(t=xe,t!==0||(t=window.event,t=t===void 0?16:AT(t.type)),t):1}function Vn(t,e,n,r){if(50<Ua)throw Ua=0,Up=null,Error($(185));Dl(t,n,r),(!(_e&2)||t!==dt)&&(t===dt&&(!(_e&2)&&(Bh|=n),at===4&&Wr(t,vt)),Gt(t,r),n===1&&_e===0&&!(e.mode&1)&&(So=Ze()+500,Mh&&Ri()))}function Gt(t,e){var n=t.callbackNode;lR(t,e);var r=Cc(t,t===dt?vt:0);if(r===0)n!==null&&S0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&S0(n),e===1)t.tag===0?ak(g_.bind(null,t)):HT(g_.bind(null,t)),rk(function(){!(_e&6)&&Ri()}),n=null;else{switch(wT(r)){case 1:n=Ym;break;case 4:n=yT;break;case 16:n=Pc;break;case 536870912:n=vT;break;default:n=Pc}n=$x(n,Lx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Lx(t,e){if(oc=-1,ac=0,_e&6)throw Error($(327));var n=t.callbackNode;if(fo()&&t.callbackNode!==n)return null;var r=Cc(t,t===dt?vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=qc(t,r);else{e=r;var i=_e;_e|=2;var s=jx();(dt!==t||vt!==e)&&(cr=null,So=Ze()+500,ns(t,e));do try{Ck();break}catch(a){Mx(t,a)}while(!0);ug(),$c.current=s,_e=i,nt!==null?e=0:(dt=null,vt=0,e=at)}if(e!==0){if(e===2&&(i=fp(t),i!==0&&(r=i,e=Bp(t,i))),e===1)throw n=ml,ns(t,0),Wr(t,r),Gt(t,Ze()),n;if(e===6)Wr(t,r);else{if(i=t.current.alternate,!(r&30)&&!Ak(i)&&(e=qc(t,r),e===2&&(s=fp(t),s!==0&&(r=s,e=Bp(t,s))),e===1))throw n=ml,ns(t,0),Wr(t,r),Gt(t,Ze()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:qi(t,$t,cr);break;case 3:if(Wr(t,r),(r&130023424)===r&&(e=Sg+500-Ze(),10<e)){if(Cc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){jt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ep(qi.bind(null,t,$t,cr),e);break}qi(t,$t,cr);break;case 4:if(Wr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Dn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ik(r/1960))-r,10<r){t.timeoutHandle=Ep(qi.bind(null,t,$t,cr),r);break}qi(t,$t,cr);break;case 5:qi(t,$t,cr);break;default:throw Error($(329))}}}return Gt(t,Ze()),t.callbackNode===n?Lx.bind(null,t):null}function Bp(t,e){var n=Fa;return t.current.memoizedState.isDehydrated&&(ns(t,e).flags|=256),t=qc(t,e),t!==2&&(e=$t,$t=n,e!==null&&zp(e)),t}function zp(t){$t===null?$t=t:$t.push.apply($t,t)}function Ak(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Mn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wr(t,e){for(e&=~xg,e&=~Bh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Dn(e),r=1<<n;t[n]=-1,e&=~r}}function g_(t){if(_e&6)throw Error($(327));fo();var e=Cc(t,0);if(!(e&1))return Gt(t,Ze()),null;var n=qc(t,e);if(t.tag!==0&&n===2){var r=fp(t);r!==0&&(e=r,n=Bp(t,r))}if(n===1)throw n=ml,ns(t,0),Wr(t,e),Gt(t,Ze()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qi(t,$t,cr),Gt(t,Ze()),null}function Ig(t,e){var n=_e;_e|=1;try{return t(e)}finally{_e=n,_e===0&&(So=Ze()+500,Mh&&Ri())}}function ds(t){Jr!==null&&Jr.tag===0&&!(_e&6)&&fo();var e=_e;_e|=1;var n=En.transition,r=xe;try{if(En.transition=null,xe=1,t)return t()}finally{xe=r,En.transition=n,_e=e,!(_e&6)&&Ri()}}function Ag(){Xt=eo.current,Ve(eo)}function ns(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nk(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(og(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Dc();break;case 3:To(),Ve(qt),Ve(Nt),mg();break;case 5:pg(r);break;case 4:To();break;case 13:Ve(je);break;case 19:Ve(je);break;case 10:cg(r.type._context);break;case 22:case 23:Ag()}n=n.return}if(dt=t,nt=t=li(t.current,null),vt=Xt=e,at=0,ml=null,xg=Bh=hs=0,$t=Fa=null,Xi!==null){for(e=0;e<Xi.length;e++)if(n=Xi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Xi=null}return t}function Mx(t,e){do{var n=nt;try{if(ug(),rc.current=zc,Bc){for(var r=Ue.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Bc=!1}if(cs=0,ht=ot=Ue=null,Ma=!1,dl=0,Tg.current=null,n===null||n.return===null){at=1,ml=e,nt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=r_(o);if(v!==null){v.flags&=-257,i_(v,o,a,s,e),v.mode&1&&n_(s,c,e),e=v,l=c;var E=e.updateQueue;if(E===null){var S=new Set;S.add(l),e.updateQueue=S}else E.add(l);break e}else{if(!(e&1)){n_(s,c,e),Pg();break e}l=Error($(426))}}else if(Oe&&a.mode&1){var I=r_(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),i_(I,o,a,s,e),ag(xo(l,a));break e}}s=l=xo(l,a),at!==4&&(at=2),Fa===null?Fa=[s]:Fa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=wx(s,l,e);Y0(s,w);break e;case 1:a=l;var y=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(oi===null||!oi.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=Ex(s,a,e);Y0(s,k);break e}}s=s.return}while(s!==null)}Ux(n)}catch(M){e=M,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(!0)}function jx(){var t=$c.current;return $c.current=zc,t===null?zc:t}function Pg(){(at===0||at===3||at===2)&&(at=4),dt===null||!(hs&268435455)&&!(Bh&268435455)||Wr(dt,vt)}function qc(t,e){var n=_e;_e|=2;var r=jx();(dt!==t||vt!==e)&&(cr=null,ns(t,e));do try{Pk();break}catch(i){Mx(t,i)}while(!0);if(ug(),_e=n,$c.current=r,nt!==null)throw Error($(261));return dt=null,vt=0,at}function Pk(){for(;nt!==null;)Fx(nt)}function Ck(){for(;nt!==null&&!Z2();)Fx(nt)}function Fx(t){var e=zx(t.alternate,t,Xt);t.memoizedProps=t.pendingProps,e===null?Ux(t):nt=e,Tg.current=null}function Ux(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ek(n,e),n!==null){n.flags&=32767,nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{at=6,nt=null;return}}else if(n=wk(n,e,Xt),n!==null){nt=n;return}if(e=e.sibling,e!==null){nt=e;return}nt=e=t}while(e!==null);at===0&&(at=5)}function qi(t,e,n){var r=xe,i=En.transition;try{En.transition=null,xe=1,Rk(t,e,n,r)}finally{En.transition=i,xe=r}return null}function Rk(t,e,n,r){do fo();while(Jr!==null);if(_e&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(uR(t,s),t===dt&&(nt=dt=null,vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Lu||(Lu=!0,$x(Pc,function(){return fo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=En.transition,En.transition=null;var o=xe;xe=1;var a=_e;_e|=4,Tg.current=null,xk(t,n),Vx(n,t),QR(_p),Rc=!!vp,_p=vp=null,t.current=n,Sk(n),eR(),_e=a,xe=o,En.transition=s}else t.current=n;if(Lu&&(Lu=!1,Jr=t,Hc=i),s=t.pendingLanes,s===0&&(oi=null),rR(n.stateNode),Gt(t,Ze()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wc)throw Wc=!1,t=Fp,Fp=null,t;return Hc&1&&t.tag!==0&&fo(),s=t.pendingLanes,s&1?t===Up?Ua++:(Ua=0,Up=t):Ua=0,Ri(),null}function fo(){if(Jr!==null){var t=wT(Hc),e=En.transition,n=xe;try{if(En.transition=null,xe=16>t?16:t,Jr===null)var r=!1;else{if(t=Jr,Jr=null,Hc=0,_e&6)throw Error($(331));var i=_e;for(_e|=4,X=t.current;X!==null;){var s=X,o=s.child;if(X.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(X=c;X!==null;){var h=X;switch(h.tag){case 0:case 11:case 15:ja(8,h,s)}var d=h.child;if(d!==null)d.return=h,X=d;else for(;X!==null;){h=X;var p=h.sibling,v=h.return;if(bx(h),h===c){X=null;break}if(p!==null){p.return=v,X=p;break}X=v}}}var E=s.alternate;if(E!==null){var S=E.child;if(S!==null){E.child=null;do{var I=S.sibling;S.sibling=null,S=I}while(S!==null)}}X=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ja(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,X=w;break e}X=s.return}}var y=t.current;for(X=y;X!==null;){o=X;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,X=T;else e:for(o=y;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Uh(9,a)}}catch(M){We(a,a.return,M)}if(a===o){X=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,X=k;break e}X=a.return}}if(_e=i,Ri(),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(Nh,t)}catch{}r=!0}return r}finally{xe=n,En.transition=e}}return!1}function y_(t,e,n){e=xo(n,e),e=wx(t,e,1),t=si(t,e,1),e=jt(),t!==null&&(Dl(t,1,e),Gt(t,e))}function We(t,e,n){if(t.tag===3)y_(t,t,n);else for(;e!==null;){if(e.tag===3){y_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(oi===null||!oi.has(r))){t=xo(n,t),t=Ex(e,t,1),e=si(e,t,1),t=jt(),e!==null&&(Dl(e,1,t),Gt(e,t));break}}e=e.return}}function kk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=jt(),t.pingedLanes|=t.suspendedLanes&n,dt===t&&(vt&n)===n&&(at===4||at===3&&(vt&130023424)===vt&&500>Ze()-Sg?ns(t,0):xg|=n),Gt(t,e)}function Bx(t,e){e===0&&(t.mode&1?(e=Au,Au<<=1,!(Au&130023424)&&(Au=4194304)):e=1);var n=jt();t=Pr(t,e),t!==null&&(Dl(t,e,n),Gt(t,n))}function bk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Bx(t,n)}function Nk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),Bx(t,n)}var zx;zx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qt.current)Ht=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ht=!1,_k(t,e,n);Ht=!!(t.flags&131072)}else Ht=!1,Oe&&e.flags&1048576&&qT(e,Lc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;sc(t,e),t=e.pendingProps;var i=_o(e,Nt.current);ho(e,n),i=yg(null,e,r,t,i,n);var s=vg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kt(r)?(s=!0,Vc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,dg(e),i.updater=Fh,e.stateNode=i,i._reactInternals=e,Cp(e,r,t,n),e=bp(null,e,r,!0,s,n)):(e.tag=0,Oe&&s&&sg(e),Lt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(sc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Vk(r),t=Cn(r,t),i){case 0:e=kp(null,e,r,t,n);break e;case 1:e=a_(null,e,r,t,n);break e;case 11:e=s_(null,e,r,t,n);break e;case 14:e=o_(null,e,r,Cn(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cn(r,i),kp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cn(r,i),a_(t,e,r,i,n);case 3:e:{if(Ix(e),t===null)throw Error($(387));r=e.pendingProps,s=e.memoizedState,i=s.element,JT(t,e),Fc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=xo(Error($(423)),e),e=l_(t,e,r,n,i);break e}else if(r!==i){i=xo(Error($(424)),e),e=l_(t,e,r,n,i);break e}else for(en=ii(e.stateNode.containerInfo.firstChild),rn=e,Oe=!0,kn=null,n=YT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wo(),r===i){e=Cr(t,e,n);break e}Lt(t,e,r,n)}e=e.child}return e;case 5:return ZT(e),t===null&&Ip(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,wp(r,i)?o=null:s!==null&&wp(r,s)&&(e.flags|=32),Sx(t,e),Lt(t,e,o,n),e.child;case 6:return t===null&&Ip(e),null;case 13:return Ax(t,e,n);case 4:return fg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Eo(e,null,r,n):Lt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cn(r,i),s_(t,e,r,i,n);case 7:return Lt(t,e,e.pendingProps,n),e.child;case 8:return Lt(t,e,e.pendingProps.children,n),e.child;case 12:return Lt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ce(Mc,r._currentValue),r._currentValue=o,s!==null)if(Mn(s.value,o)){if(s.children===i.children&&!qt.current){e=Cr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=vr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ap(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ap(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Lt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ho(e,n),i=Tn(i),r=r(i),e.flags|=1,Lt(t,e,r,n),e.child;case 14:return r=e.type,i=Cn(r,e.pendingProps),i=Cn(r.type,i),o_(t,e,r,i,n);case 15:return Tx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cn(r,i),sc(t,e),e.tag=1,Kt(r)?(t=!0,Vc(e)):t=!1,ho(e,n),_x(e,r,i),Cp(e,r,i,n),bp(null,e,r,!0,t,n);case 19:return Px(t,e,n);case 22:return xx(t,e,n)}throw Error($(156,e.tag))};function $x(t,e){return gT(t,e)}function Dk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,e,n,r){return new Dk(t,e,n,r)}function Cg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vk(t){if(typeof t=="function")return Cg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Km)return 11;if(t===Gm)return 14}return 2}function li(t,e){var n=t.alternate;return n===null?(n=wn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function lc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Cg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ws:return rs(n.children,i,s,e);case qm:o=8,i|=8;break;case Jf:return t=wn(12,n,e,i|2),t.elementType=Jf,t.lanes=s,t;case Zf:return t=wn(13,n,e,i),t.elementType=Zf,t.lanes=s,t;case ep:return t=wn(19,n,e,i),t.elementType=ep,t.lanes=s,t;case ZE:return zh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case XE:o=10;break e;case JE:o=9;break e;case Km:o=11;break e;case Gm:o=14;break e;case Br:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=wn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function rs(t,e,n,r){return t=wn(7,t,r,e),t.lanes=n,t}function zh(t,e,n,r){return t=wn(22,t,r,e),t.elementType=ZE,t.lanes=n,t.stateNode={isHidden:!1},t}function vf(t,e,n){return t=wn(6,t,null,e),t.lanes=n,t}function _f(t,e,n){return e=wn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ok(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jd(0),this.expirationTimes=Jd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Rg(t,e,n,r,i,s,o,a,l){return t=new Ok(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=wn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dg(s),t}function Lk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$s,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Wx(t){if(!t)return mi;t=t._reactInternals;e:{if(Es(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(Kt(n))return WT(t,n,e)}return e}function Hx(t,e,n,r,i,s,o,a,l){return t=Rg(n,r,!0,t,i,s,o,a,l),t.context=Wx(null),n=t.current,r=jt(),i=ai(n),s=vr(r,i),s.callback=e??null,si(n,s,i),t.current.lanes=i,Dl(t,i,r),Gt(t,r),t}function $h(t,e,n,r){var i=e.current,s=jt(),o=ai(i);return n=Wx(n),e.context===null?e.context=n:e.pendingContext=n,e=vr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=si(i,e,o),t!==null&&(Vn(t,i,o,s),nc(t,i,o)),o}function Kc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function v_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function kg(t,e){v_(t,e),(t=t.alternate)&&v_(t,e)}function Mk(){return null}var qx=typeof reportError=="function"?reportError:function(t){console.error(t)};function bg(t){this._internalRoot=t}Wh.prototype.render=bg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));$h(t,e,null,null)};Wh.prototype.unmount=bg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ds(function(){$h(null,t,null,null)}),e[Ar]=null}};function Wh(t){this._internalRoot=t}Wh.prototype.unstable_scheduleHydration=function(t){if(t){var e=xT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$r.length&&e!==0&&e<$r[n].priority;n++);$r.splice(n,0,t),n===0&&IT(t)}};function Ng(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function __(){}function jk(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Kc(o);s.call(c)}}var o=Hx(e,r,t,0,null,!1,!1,"",__);return t._reactRootContainer=o,t[Ar]=o.current,al(t.nodeType===8?t.parentNode:t),ds(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Kc(l);a.call(c)}}var l=Rg(t,0,!1,null,null,!1,!1,"",__);return t._reactRootContainer=l,t[Ar]=l.current,al(t.nodeType===8?t.parentNode:t),ds(function(){$h(e,l,n,r)}),l}function qh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Kc(o);a.call(l)}}$h(e,o,t,i)}else o=jk(n,e,t,i,r);return Kc(o)}ET=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ta(e.pendingLanes);n!==0&&(Xm(e,n|1),Gt(e,Ze()),!(_e&6)&&(So=Ze()+500,Ri()))}break;case 13:ds(function(){var r=Pr(t,1);if(r!==null){var i=jt();Vn(r,t,1,i)}}),kg(t,1)}};Jm=function(t){if(t.tag===13){var e=Pr(t,134217728);if(e!==null){var n=jt();Vn(e,t,134217728,n)}kg(t,134217728)}};TT=function(t){if(t.tag===13){var e=ai(t),n=Pr(t,e);if(n!==null){var r=jt();Vn(n,t,e,r)}kg(t,e)}};xT=function(){return xe};ST=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};cp=function(t,e,n){switch(e){case"input":if(rp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Lh(r);if(!i)throw Error($(90));tT(r),rp(r,i)}}}break;case"textarea":rT(t,n);break;case"select":e=n.value,e!=null&&ao(t,!!n.multiple,e,!1)}};cT=Ig;hT=ds;var Fk={usingClientEntryPoint:!1,Events:[Ol,Gs,Lh,lT,uT,Ig]},ma={findFiberByHostInstance:Yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Uk={bundleType:ma.bundleType,version:ma.version,rendererPackageName:ma.rendererPackageName,rendererConfig:ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pT(t),t===null?null:t.stateNode},findFiberByHostInstance:ma.findFiberByHostInstance||Mk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{Nh=Mu.inject(Uk),Kn=Mu}catch{}}ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fk;ln.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ng(e))throw Error($(200));return Lk(t,e,null,n)};ln.createRoot=function(t,e){if(!Ng(t))throw Error($(299));var n=!1,r="",i=qx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Rg(t,1,!1,null,null,n,!1,r,i),t[Ar]=e.current,al(t.nodeType===8?t.parentNode:t),new bg(e)};ln.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=pT(e),t=t===null?null:t.stateNode,t};ln.flushSync=function(t){return ds(t)};ln.hydrate=function(t,e,n){if(!Hh(e))throw Error($(200));return qh(null,t,e,!0,n)};ln.hydrateRoot=function(t,e,n){if(!Ng(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=qx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Hx(e,null,t,1,n??null,i,!1,s,o),t[Ar]=e.current,al(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Wh(e)};ln.render=function(t,e,n){if(!Hh(e))throw Error($(200));return qh(null,t,e,!1,n)};ln.unmountComponentAtNode=function(t){if(!Hh(t))throw Error($(40));return t._reactRootContainer?(ds(function(){qh(null,null,t,!1,function(){t._reactRootContainer=null,t[Ar]=null})}),!0):!1};ln.unstable_batchedUpdates=Ig;ln.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hh(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return qh(t,e,n,!1,r)};ln.version="18.3.1-next-f1338f8080-20240426";function Kx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kx)}catch(t){console.error(t)}}Kx(),KE.exports=ln;var Bk=KE.exports,Gx,w_=Bk;Gx=w_.createRoot,w_.hydrateRoot;/**
 * @remix-run/router v1.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gl(){return gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gl.apply(this,arguments)}var Zr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zr||(Zr={}));const E_="popstate";function zk(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return $p("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Gc(i)}return Wk(e,n,null,t)}function qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qx(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $k(){return Math.random().toString(36).substr(2,8)}function T_(t,e){return{usr:t.state,key:t.key,idx:e}}function $p(t,e,n,r){return n===void 0&&(n=null),gl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?jo(e):e,{state:n,key:e&&e.key||r||$k()})}function Gc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function jo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Wk(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Zr.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(gl({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=Zr.Pop;let I=h(),w=I==null?null:I-c;c=I,l&&l({action:a,location:S.location,delta:w})}function p(I,w){a=Zr.Push;let y=$p(S.location,I,w);c=h()+1;let T=T_(y,c),k=S.createHref(y);try{o.pushState(T,"",k)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(k)}s&&l&&l({action:a,location:S.location,delta:1})}function v(I,w){a=Zr.Replace;let y=$p(S.location,I,w);c=h();let T=T_(y,c),k=S.createHref(y);o.replaceState(T,"",k),s&&l&&l({action:a,location:S.location,delta:0})}function E(I){let w=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof I=="string"?I:Gc(I);return y=y.replace(/ $/,"%20"),qe(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let S={get action(){return a},get location(){return t(i,o)},listen(I){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(E_,d),l=I,()=>{i.removeEventListener(E_,d),l=null}},createHref(I){return e(i,I)},createURL:E,encodeLocation(I){let w=E(I);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:v,go(I){return o.go(I)}};return S}var x_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(x_||(x_={}));function Hk(t,e,n){return n===void 0&&(n="/"),qk(t,e,n,!1)}function qk(t,e,n,r){let i=typeof e=="string"?jo(e):e,s=Io(i.pathname||"/",n);if(s==null)return null;let o=Yx(t);Kk(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=ib(s);a=nb(o[l],c,r)}return a}function Yx(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(qe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ui([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(qe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Yx(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:eb(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Xx(s.path))i(s,o,l)}),e}function Xx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Xx(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Kk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:tb(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Gk=/^:[\w-]+$/,Qk=3,Yk=2,Xk=1,Jk=10,Zk=-2,S_=t=>t==="*";function eb(t,e){let n=t.split("/"),r=n.length;return n.some(S_)&&(r+=Zk),e&&(r+=Yk),n.filter(i=>!S_(i)).reduce((i,s)=>i+(Gk.test(s)?Qk:s===""?Xk:Jk),r)}function tb(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function nb(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=Qc({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),p=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Qc({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:ui([s,d.pathname]),pathnameBase:lb(ui([s,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(s=ui([s,d.pathnameBase]))}return o}function Qc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=rb(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,d)=>{let{paramName:p,isOptional:v}=h;if(p==="*"){let S=a[d]||"";o=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const E=a[d];return v&&!E?c[p]=void 0:c[p]=(E||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function rb(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Qx(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ib(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qx(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Io(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function sb(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?jo(t):t;return{pathname:n?n.startsWith("/")?n:ob(n,e):e,search:ub(r),hash:cb(i)}}function ob(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function wf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ab(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Jx(t,e){let n=ab(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Zx(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=jo(t):(i=gl({},t),qe(!i.pathname||!i.pathname.includes("?"),wf("?","pathname","search",i)),qe(!i.pathname||!i.pathname.includes("#"),wf("#","pathname","hash",i)),qe(!i.search||!i.search.includes("#"),wf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=sb(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const ui=t=>t.join("/").replace(/\/\/+/g,"/"),lb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ub=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const eS=["post","put","patch","delete"];new Set(eS);const db=["get",...eS];new Set(db);/**
 * React Router v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yl(){return yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yl.apply(this,arguments)}const Kh=V.createContext(null),tS=V.createContext(null),ki=V.createContext(null),Gh=V.createContext(null),bi=V.createContext({outlet:null,matches:[],isDataRoute:!1}),nS=V.createContext(null);function fb(t,e){let{relative:n}=e===void 0?{}:e;Ml()||qe(!1);let{basename:r,navigator:i}=V.useContext(ki),{hash:s,pathname:o,search:a}=Qh(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ui([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Ml(){return V.useContext(Gh)!=null}function Fo(){return Ml()||qe(!1),V.useContext(Gh).location}function rS(t){V.useContext(ki).static||V.useLayoutEffect(t)}function iS(){let{isDataRoute:t}=V.useContext(bi);return t?Ab():pb()}function pb(){Ml()||qe(!1);let t=V.useContext(Kh),{basename:e,future:n,navigator:r}=V.useContext(ki),{matches:i}=V.useContext(bi),{pathname:s}=Fo(),o=JSON.stringify(Jx(i,n.v7_relativeSplatPath)),a=V.useRef(!1);return rS(()=>{a.current=!0}),V.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Zx(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ui([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,o,s,t])}function sS(){let{matches:t}=V.useContext(bi),e=t[t.length-1];return e?e.params:{}}function Qh(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=V.useContext(ki),{matches:i}=V.useContext(bi),{pathname:s}=Fo(),o=JSON.stringify(Jx(i,r.v7_relativeSplatPath));return V.useMemo(()=>Zx(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function mb(t,e){return gb(t,e)}function gb(t,e,n,r){Ml()||qe(!1);let{navigator:i}=V.useContext(ki),{matches:s}=V.useContext(bi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Fo(),h;if(e){var d;let I=typeof e=="string"?jo(e):e;l==="/"||(d=I.pathname)!=null&&d.startsWith(l)||qe(!1),h=I}else h=c;let p=h.pathname||"/",v=p;if(l!=="/"){let I=l.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(I.length).join("/")}let E=Hk(t,{pathname:v}),S=Eb(E&&E.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:ui([l,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?l:ui([l,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),s,n,r);return e&&S?V.createElement(Gh.Provider,{value:{location:yl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Zr.Pop}},S):S}function yb(){let t=Ib(),e=hb(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:i},n):null,null)}const vb=V.createElement(yb,null);class _b extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?V.createElement(bi.Provider,{value:this.props.routeContext},V.createElement(nS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wb(t){let{routeContext:e,match:n,children:r}=t,i=V.useContext(Kh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(bi.Provider,{value:e},r)}function Eb(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);h>=0||qe(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:p,errors:v}=n,E=d.route.loader&&p[d.route.id]===void 0&&(!v||v[d.route.id]===void 0);if(d.route.lazy||E){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,p)=>{let v,E=!1,S=null,I=null;n&&(v=a&&d.route.id?a[d.route.id]:void 0,S=d.route.errorElement||vb,l&&(c<0&&p===0?(E=!0,I=null):c===p&&(E=!0,I=d.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,p+1)),y=()=>{let T;return v?T=S:E?T=I:d.route.Component?T=V.createElement(d.route.Component,null):d.route.element?T=d.route.element:T=h,V.createElement(wb,{match:d,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:T})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?V.createElement(_b,{location:n.location,revalidation:n.revalidation,component:S,error:v,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var oS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(oS||{}),Yc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Yc||{});function Tb(t){let e=V.useContext(Kh);return e||qe(!1),e}function xb(t){let e=V.useContext(tS);return e||qe(!1),e}function Sb(t){let e=V.useContext(bi);return e||qe(!1),e}function aS(t){let e=Sb(),n=e.matches[e.matches.length-1];return n.route.id||qe(!1),n.route.id}function Ib(){var t;let e=V.useContext(nS),n=xb(Yc.UseRouteError),r=aS(Yc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Ab(){let{router:t}=Tb(oS.UseNavigateStable),e=aS(Yc.UseNavigateStable),n=V.useRef(!1);return rS(()=>{n.current=!0}),V.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,yl({fromRouteId:e},s)))},[t,e])}function pn(t){qe(!1)}function Pb(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Zr.Pop,navigator:s,static:o=!1,future:a}=t;Ml()&&qe(!1);let l=e.replace(/^\/*/,"/"),c=V.useMemo(()=>({basename:l,navigator:s,static:o,future:yl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=jo(r));let{pathname:h="/",search:d="",hash:p="",state:v=null,key:E="default"}=r,S=V.useMemo(()=>{let I=Io(h,l);return I==null?null:{location:{pathname:I,search:d,hash:p,state:v,key:E},navigationType:i}},[l,h,d,p,v,E,i]);return S==null?null:V.createElement(ki.Provider,{value:c},V.createElement(Gh.Provider,{children:n,value:S}))}function Cb(t){let{children:e,location:n}=t;return mb(Wp(e),n)}new Promise(()=>{});function Wp(t,e){e===void 0&&(e=[]);let n=[];return V.Children.forEach(t,(r,i)=>{if(!V.isValidElement(r))return;let s=[...e,i];if(r.type===V.Fragment){n.push.apply(n,Wp(r.props.children,s));return}r.type!==pn&&qe(!1),!r.props.index||!r.props.children||qe(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Wp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xc(){return Xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xc.apply(this,arguments)}function lS(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Rb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kb(t,e){return t.button===0&&(!e||e==="_self")&&!Rb(t)}const bb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Nb=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],Db="6";try{window.__reactRouterVersion=Db}catch{}const Vb=V.createContext({isTransitioning:!1}),Ob="startTransition",I_=k2[Ob];function Lb(t){let{basename:e,children:n,future:r,window:i}=t,s=V.useRef();s.current==null&&(s.current=zk({window:i,v5Compat:!0}));let o=s.current,[a,l]=V.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=V.useCallback(d=>{c&&I_?I_(()=>l(d)):l(d)},[l,c]);return V.useLayoutEffect(()=>o.listen(h),[o,h]),V.createElement(Pb,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Mb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jt=V.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,unstable_viewTransition:d}=e,p=lS(e,bb),{basename:v}=V.useContext(ki),E,S=!1;if(typeof c=="string"&&jb.test(c)&&(E=c,Mb))try{let T=new URL(window.location.href),k=c.startsWith("//")?new URL(T.protocol+c):new URL(c),M=Io(k.pathname,v);k.origin===T.origin&&M!=null?c=M+k.search+k.hash:S=!0}catch{}let I=fb(c,{relative:i}),w=Ub(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,unstable_viewTransition:d});function y(T){r&&r(T),T.defaultPrevented||w(T)}return V.createElement("a",Xc({},p,{href:E||I,onClick:S||s?r:y,ref:n,target:l}))}),A_=V.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:c,children:h}=e,d=lS(e,Nb),p=Qh(l,{relative:d.relative}),v=Fo(),E=V.useContext(tS),{navigator:S,basename:I}=V.useContext(ki),w=E!=null&&Bb(p)&&c===!0,y=S.encodeLocation?S.encodeLocation(p).pathname:p.pathname,T=v.pathname,k=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;i||(T=T.toLowerCase(),k=k?k.toLowerCase():null,y=y.toLowerCase()),k&&I&&(k=Io(k,I)||k);const M=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let B=T===y||!o&&T.startsWith(y)&&T.charAt(M)==="/",C=k!=null&&(k===y||!o&&k.startsWith(y)&&k.charAt(y.length)==="/"),_={isActive:B,isPending:C,isTransitioning:w},A=B?r:void 0,R;typeof s=="function"?R=s(_):R=[s,B?"active":null,C?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(_):a;return V.createElement(Jt,Xc({},d,{"aria-current":A,className:R,ref:n,style:D,to:l,unstable_viewTransition:c}),typeof h=="function"?h(_):h)});var Hp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Hp||(Hp={}));var P_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(P_||(P_={}));function Fb(t){let e=V.useContext(Kh);return e||qe(!1),e}function Ub(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=iS(),c=Fo(),h=Qh(t,{relative:o});return V.useCallback(d=>{if(kb(d,n)){d.preventDefault();let p=r!==void 0?r:Gc(c)===Gc(h);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,h,r,i,n,t,s,o,a])}function Bb(t,e){e===void 0&&(e={});let n=V.useContext(Vb);n==null&&qe(!1);let{basename:r}=Fb(Hp.useViewTransitionState),i=Qh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Io(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Io(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Qc(i.pathname,o)!=null||Qc(i.pathname,s)!=null}var uS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},C_=Ye.createContext&&Ye.createContext(uS),zb=["attr","size","title"];function $b(t,e){if(t==null)return{};var n=Wb(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wb(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Jc(){return Jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jc.apply(this,arguments)}function R_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R_(Object(n),!0).forEach(function(r){Hb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hb(t,e,n){return e=qb(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qb(t){var e=Kb(t,"string");return typeof e=="symbol"?e:e+""}function Kb(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cS(t){return t&&t.map((e,n)=>Ye.createElement(e.tag,Zc({key:n},e.attr),cS(e.child)))}function Sn(t){return e=>Ye.createElement(Gb,Jc({attr:Zc({},t.attr)},e),cS(t.child))}function Gb(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=$b(t,zb),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Ye.createElement("svg",Jc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Zc(Zc({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Ye.createElement("title",null,s),t.children)};return C_!==void 0?Ye.createElement(C_.Consumer,null,n=>e(n)):e(uS)}function Qb(t){return Sn({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M80 299.3V512H196V299.3h86.5l18-97.8H196V166.9c0-51.7 20.3-71.5 72.7-71.5c16.3 0 29.4 .4 37 1.2V7.9C291.4 4 256.4 0 236.2 0C129.3 0 80 50.5 80 159.4v42.1H14v97.8H80z"},child:[]}]})(t)}function Yb(t){return Sn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function Xb(t){return Sn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"},child:[]}]})(t)}function Jb(t){return Sn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function hS(t){return Sn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64zM0 176L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-208L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"},child:[]}]})(t)}function jl(t){return Sn({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"},child:[]}]})(t)}function dS(t){return Sn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M280 0C408.1 0 512 103.9 512 232c0 13.3-10.7 24-24 24s-24-10.7-24-24c0-101.6-82.4-184-184-184c-13.3 0-24-10.7-24-24s10.7-24 24-24zm8 192a32 32 0 1 1 0 64 32 32 0 1 1 0-64zm-32-72c0-13.3 10.7-24 24-24c75.1 0 136 60.9 136 136c0 13.3-10.7 24-24 24s-24-10.7-24-24c0-48.6-39.4-88-88-88c-13.3 0-24-10.7-24-24zM117.5 1.4c19.4-5.3 39.7 4.6 47.4 23.2l40 96c6.8 16.3 2.1 35.2-11.6 46.3L144 207.3c33.3 70.4 90.3 127.4 160.7 160.7L345 318.7c11.2-13.7 30-18.4 46.3-11.6l96 40c18.6 7.7 28.5 28 23.2 47.4l-24 88C481.8 499.9 466 512 448 512C200.6 512 0 311.4 0 64C0 46 12.1 30.2 29.5 25.4l88-24z"},child:[]}]})(t)}function fS(t){return Sn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M142.4 21.9c5.6 16.8-3.5 34.9-20.2 40.5L96 71.1 96 192c0 53 43 96 96 96s96-43 96-96l0-120.9-26.1-8.7c-16.8-5.6-25.8-23.7-20.2-40.5s23.7-25.8 40.5-20.2l26.1 8.7C334.4 19.1 352 43.5 352 71.1L352 192c0 77.2-54.6 141.6-127.3 156.7C231 404.6 278.4 448 336 448c61.9 0 112-50.1 112-112l0-70.7c-28.3-12.3-48-40.5-48-73.3c0-44.2 35.8-80 80-80s80 35.8 80 80c0 32.8-19.7 61-48 73.3l0 70.7c0 97.2-78.8 176-176 176c-92.9 0-168.9-71.9-175.5-163.1C87.2 334.2 32 269.6 32 192L32 71.1c0-27.5 17.6-52 43.8-60.7l26.1-8.7c16.8-5.6 34.9 3.5 40.5 20.2zM480 224a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"},child:[]}]})(t)}function Zb(){return V.useState(""),g.jsxs("footer",{className:"bg-slate-100",children:[g.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-12 py-10 sm:py-16",children:g.jsxs("div",{className:"flex flex-wrap justify-between gap-5 xl:gap-8",children:[g.jsxs("div",{className:"w-full sm:w-[48%] lg:w-[26%]",children:[g.jsx("div",{className:"mb-5",children:g.jsxs("a",{href:"#",className:"text-2xl font-extrabold sm:text-3xl",children:[g.jsx("span",{className:"text-[#0e82fd]",children:"optoken"}),g.jsx("span",{className:"text-black",children:".in"})]})}),g.jsx("p",{className:"text-[#6B7280] font-medium",children:"Information: Xelofast based"})]}),g.jsxs("div",{className:"w-full sm:w-[48%] md:w-[50%] lg:w-[18%] flex flex-col gap-4",children:[g.jsx("h2",{className:"text-lg font-medium",children:"Specialities"}),["Neurology","Cardiologist","Dentist","Urology"].map((t,e)=>g.jsx("p",{className:"text-base text-[#6B7280]",children:t},e))]}),g.jsxs("div",{className:"w-full sm:w-[48%] md:w-[47%] lg:w-[18%] flex flex-col gap-4",children:[g.jsx("h2",{className:"text-lg font-medium",children:"Services"}),["Medical","Operation","Laboratory","ICU"].map((t,e)=>g.jsx("p",{className:"text-base text-[#6B7280]",children:t},e))]}),g.jsxs("div",{className:"w-full sm:w-[48%] md:w-[48%] lg:w-[22%] flex flex-col gap-4",children:[g.jsx("h2",{className:"text-lg font-medium",children:"Contact Us"}),[{icon:g.jsx(jl,{}),text:"Kerala, Ernakulam"},{icon:g.jsx(dS,{}),text:"+91 7902531846"},{icon:g.jsx(hS,{}),text:"xelofastsupport@gmail.com"}].map((t,e)=>g.jsxs("div",{className:"flex items-center gap-2",children:[t.icon,g.jsx("p",{className:"text-base text-[#6B7280]",children:t.text})]},e))]}),g.jsxs("div",{className:"w-full md:w-[47%] lg:w-[32%] flex flex-col gap-4 mt-6 md:mt-0",children:[g.jsx("h2",{className:"text-lg font-medium",children:"Follow Us"}),g.jsx("div",{className:"flex gap-2 justify-center md:justify-start",children:[Qb,Jb,Xb,Yb].map((t,e)=>g.jsx("div",{className:"group rounded-full border-2 border-[#0e82fd] bg-slate-200 p-3 cursor-pointer hover:-translate-y-1 transition duration-300 transform hover:border-[#0e82fd] hover:bg-[#0e82fd]",children:g.jsx("a",{href:"#",children:g.jsx(t,{className:"group-hover:fill-white"})})},e))})]})]})}),g.jsx("div",{className:"bg-slate-200 w-full px-4 sm:px-6 lg:px-12 py-5",children:g.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[g.jsx("p",{className:"text-[#6B7280] text-sm sm:text-base text-center sm:text-left",children:"© 2025 Xelofast. All rights reserved."}),g.jsxs("div",{className:"flex gap-2.5 items-center",children:[g.jsx("p",{className:"text-[#6B7280] text-sm sm:text-base",children:"Terms and Conditions"}),g.jsx("p",{className:"text-[#6B7280]",children:"|"}),g.jsx("p",{className:"text-[#6B7280] text-sm sm:text-base",children:"Privacy Policy"})]})]})})]})}function eN(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function Yh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const qp=t=>Array.isArray(t);function pS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function vl(t){return typeof t=="string"||Array.isArray(t)}function k_(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Dg(t,e,n,r){if(typeof e=="function"){const[i,s]=k_(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=k_(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Xh(t,e,n){const r=t.getProps();return Dg(r,e,n!==void 0?n:r.custom,t)}const Vg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Og=["initial",...Vg],Fl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ts=new Set(Fl),_r=t=>t*1e3,wr=t=>t/1e3,tN={type:"spring",stiffness:500,damping:25,restSpeed:10},nN=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),rN={type:"keyframes",duration:.8},iN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sN=(t,{keyframes:e})=>e.length>2?rN:Ts.has(t)?t.startsWith("scale")?nN(e[1]):tN:iN;function Lg(t,e){return t?t[e]||t.default||t:void 0}const oN={skipAnimations:!1,useManualTiming:!1},aN=t=>t!==null;function Jh(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(aN),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const bt=t=>t;function lN(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,h=!1,d=!1)=>{const v=d&&r?e:n;return h&&s.add(c),v.has(c)||v.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,i&&(i=!1,l.process(c))}};return l}const ju=["read","resolveKeyframes","update","preRender","render","postRender"],uN=40;function mS(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=ju.reduce((w,y)=>(w[y]=lN(s),w),{}),{read:a,resolveKeyframes:l,update:c,preRender:h,render:d,postRender:p}=o,v=()=>{const w=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,uN),1),i.timestamp=w,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),h.process(i),d.process(i),p.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(v))},E=()=>{n=!0,r=!0,i.isProcessing||t(v)};return{schedule:ju.reduce((w,y)=>{const T=o[y];return w[y]=(k,M=!1,B=!1)=>(n||E(),T.schedule(k,M,B)),w},{}),cancel:w=>{for(let y=0;y<ju.length;y++)o[ju[y]].cancel(w)},state:i,steps:o}}const{schedule:Se,cancel:gi,state:mt,steps:Ef}=mS(typeof requestAnimationFrame<"u"?requestAnimationFrame:bt,!0),gS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,cN=1e-7,hN=12;function dN(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=gS(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>cN&&++a<hN);return o}function Ul(t,e,n,r){if(t===e&&n===r)return bt;const i=s=>dN(s,0,1,t,n);return s=>s===0||s===1?s:gS(i(s),e,r)}const yS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,vS=t=>e=>1-t(1-e),_S=Ul(.33,1.53,.69,.99),Mg=vS(_S),wS=yS(Mg),ES=t=>(t*=2)<1?.5*Mg(t):.5*(2-Math.pow(2,-10*(t-1))),jg=t=>1-Math.sin(Math.acos(t)),TS=vS(jg),xS=yS(jg),SS=t=>/^0[^.\s]+$/u.test(t);function fN(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||SS(t):!0}let Kp=bt;const IS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),AS=t=>e=>typeof e=="string"&&e.startsWith(t),PS=AS("--"),pN=AS("var(--"),Fg=t=>pN(t)?mN.test(t.split("/*")[0].trim()):!1,mN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,gN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yN(t){const e=gN.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function CS(t,e,n=1){const[r,i]=yN(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return IS(o)?parseFloat(o):o}return Fg(i)?CS(i,e,n+1):i}const yi=(t,e,n)=>n>e?e:n<t?t:n,Uo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},_l={...Uo,transform:t=>yi(0,1,t)},Fu={...Uo,default:1},Bl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ur=Bl("deg"),Qn=Bl("%"),re=Bl("px"),vN=Bl("vh"),_N=Bl("vw"),b_={...Qn,parse:t=>Qn.parse(t)/100,transform:t=>Qn.transform(t*100)},wN=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),N_=t=>t===Uo||t===re,D_=(t,e)=>parseFloat(t.split(", ")[e]),V_=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return D_(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?D_(s[1],t):0}},EN=new Set(["x","y","z"]),TN=Fl.filter(t=>!EN.has(t));function xN(t){const e=[];return TN.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ao={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:V_(4,13),y:V_(5,14)};Ao.translateX=Ao.x;Ao.translateY=Ao.y;const RS=t=>e=>e.test(t),SN={test:t=>t==="auto",parse:t=>t},kS=[Uo,re,Qn,Ur,_N,vN,SN],O_=t=>kS.find(RS(t)),is=new Set;let Gp=!1,Qp=!1;function bS(){if(Qp){const t=Array.from(is).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=xN(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Qp=!1,Gp=!1,is.forEach(t=>t.complete()),is.clear()}function NS(){is.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Qp=!0)})}function IN(){NS(),bS()}class Ug{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(is.add(this),Gp||(Gp=!0,Se.read(NS),Se.resolveKeyframes(bS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),is.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,is.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Ba=t=>Math.round(t*1e5)/1e5,Bg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function AN(t){return t==null}const PN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zg=(t,e)=>n=>!!(typeof n=="string"&&PN.test(n)&&n.startsWith(t)||e&&!AN(n)&&Object.prototype.hasOwnProperty.call(n,e)),DS=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(Bg);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},CN=t=>yi(0,255,t),Tf={...Uo,transform:t=>Math.round(CN(t))},Zi={test:zg("rgb","red"),parse:DS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Tf.transform(t)+", "+Tf.transform(e)+", "+Tf.transform(n)+", "+Ba(_l.transform(r))+")"};function RN(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Yp={test:zg("#"),parse:RN,transform:Zi.transform},to={test:zg("hsl","hue"),parse:DS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Qn.transform(Ba(e))+", "+Qn.transform(Ba(n))+", "+Ba(_l.transform(r))+")"},At={test:t=>Zi.test(t)||Yp.test(t)||to.test(t),parse:t=>Zi.test(t)?Zi.parse(t):to.test(t)?to.parse(t):Yp.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Zi.transform(t):to.transform(t)},kN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bN(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Bg))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(kN))===null||n===void 0?void 0:n.length)||0)>0}const VS="number",OS="color",NN="var",DN="var(",L_="${}",VN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wl(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(VN,l=>(At.test(l)?(r.color.push(s),i.push(OS),n.push(At.parse(l))):l.startsWith(DN)?(r.var.push(s),i.push(NN),n.push(l)):(r.number.push(s),i.push(VS),n.push(parseFloat(l))),++s,L_)).split(L_);return{values:n,split:a,indexes:r,types:i}}function LS(t){return wl(t).values}function MS(t){const{split:e,types:n}=wl(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===VS?s+=Ba(i[o]):a===OS?s+=At.transform(i[o]):s+=i[o]}return s}}const ON=t=>typeof t=="number"?0:t;function LN(t){const e=LS(t);return MS(t)(e.map(ON))}const vi={test:bN,parse:LS,createTransformer:MS,getAnimatableNone:LN},MN=new Set(["brightness","contrast","saturate","opacity"]);function jN(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Bg)||[];if(!r)return t;const i=n.replace(r,"");let s=MN.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const FN=/\b([a-z-]*)\(.*?\)/gu,Xp={...vi,getAnimatableNone:t=>{const e=t.match(FN);return e?e.map(jN).join(" "):t}},UN={borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,radius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,top:re,right:re,bottom:re,left:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,backgroundPositionX:re,backgroundPositionY:re},BN={rotate:Ur,rotateX:Ur,rotateY:Ur,rotateZ:Ur,scale:Fu,scaleX:Fu,scaleY:Fu,scaleZ:Fu,skew:Ur,skewX:Ur,skewY:Ur,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:_l,originX:b_,originY:b_,originZ:re},M_={...Uo,transform:Math.round},$g={...UN,...BN,zIndex:M_,size:re,fillOpacity:_l,strokeOpacity:_l,numOctaves:M_},zN={...$g,color:At,backgroundColor:At,outlineColor:At,fill:At,stroke:At,borderColor:At,borderTopColor:At,borderRightColor:At,borderBottomColor:At,borderLeftColor:At,filter:Xp,WebkitFilter:Xp},Wg=t=>zN[t];function jS(t,e){let n=Wg(t);return n!==Xp&&(n=vi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const $N=new Set(["auto","none","0"]);function WN(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!$N.has(s)&&wl(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=jS(n,i)}class FS extends Ug{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Fg(c))){const h=CS(c,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!wN.has(r)||e.length!==2)return;const[i,s]=e,o=O_(i),a=O_(s);if(o!==a)if(N_(o)&&N_(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)fN(e[i])&&r.push(i);r.length&&WN(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ao[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Ao[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Hg(t){return typeof t=="function"}let uc;function HN(){uc=void 0}const Yn={now:()=>(uc===void 0&&Yn.set(mt.isProcessing||oN.useManualTiming?mt.timestamp:performance.now()),uc),set:t=>{uc=t,queueMicrotask(HN)}},j_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(vi.test(t)||t==="0")&&!t.startsWith("url("));function qN(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function KN(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=j_(i,e),a=j_(s,e);return!o||!a?!1:qN(t)||(n==="spring"||Hg(n))&&r}const GN=40;class US{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Yn.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>GN?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&IN(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Yn.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!KN(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(Jh(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function BS(t,e){return e?t*(1e3/e):0}const QN=5;function zS(t,e,n){const r=Math.max(e-QN,0);return BS(n-t(r),e-r)}const xf=.001,YN=.01,XN=10,JN=.05,ZN=1;function eD({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=yi(JN,ZN,o),t=yi(YN,XN,wr(t)),o<1?(i=c=>{const h=c*o,d=h*t,p=h-n,v=Jp(c,o),E=Math.exp(-d);return xf-p/v*E},s=c=>{const d=c*o*t,p=d*n+n,v=Math.pow(o,2)*Math.pow(c,2)*t,E=Math.exp(-d),S=Jp(Math.pow(c,2),o);return(-i(c)+xf>0?-1:1)*((p-v)*E)/S}):(i=c=>{const h=Math.exp(-c*t),d=(c-n)*t+1;return-xf+h*d},s=c=>{const h=Math.exp(-c*t),d=(n-c)*(t*t);return h*d});const a=5/t,l=nD(i,s,a);if(t=_r(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const tD=12;function nD(t,e,n){let r=n;for(let i=1;i<tD;i++)r=r-t(r)/e(r);return r}function Jp(t,e){return t*Math.sqrt(1-e*e)}const rD=["duration","bounce"],iD=["stiffness","damping","mass"];function F_(t,e){return e.some(n=>t[n]!==void 0)}function sD(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!F_(t,iD)&&F_(t,rD)){const n=eD(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function $S({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:h,velocity:d,isResolvedFromDuration:p}=sD({...r,velocity:-wr(r.velocity||0)}),v=d||0,E=l/(2*Math.sqrt(a*c)),S=s-i,I=wr(Math.sqrt(a/c)),w=Math.abs(S)<5;n||(n=w?.01:2),e||(e=w?.005:.5);let y;if(E<1){const T=Jp(I,E);y=k=>{const M=Math.exp(-E*I*k);return s-M*((v+E*I*S)/T*Math.sin(T*k)+S*Math.cos(T*k))}}else if(E===1)y=T=>s-Math.exp(-I*T)*(S+(v+I*S)*T);else{const T=I*Math.sqrt(E*E-1);y=k=>{const M=Math.exp(-E*I*k),B=Math.min(T*k,300);return s-M*((v+E*I*S)*Math.sinh(B)+T*S*Math.cosh(B))/T}}return{calculatedDuration:p&&h||null,next:T=>{const k=y(T);if(p)o.done=T>=h;else{let M=0;E<1&&(M=T===0?_r(v):zS(y,T,k));const B=Math.abs(M)<=n,C=Math.abs(s-k)<=e;o.done=B&&C}return o.value=o.done?s:k,o}}}function U_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const d=t[0],p={done:!1,value:d},v=_=>a!==void 0&&_<a||l!==void 0&&_>l,E=_=>a===void 0?l:l===void 0||Math.abs(a-_)<Math.abs(l-_)?a:l;let S=n*e;const I=d+S,w=o===void 0?I:o(I);w!==I&&(S=w-d);const y=_=>-S*Math.exp(-_/r),T=_=>w+y(_),k=_=>{const A=y(_),R=T(_);p.done=Math.abs(A)<=c,p.value=p.done?w:R};let M,B;const C=_=>{v(p.value)&&(M=_,B=$S({keyframes:[p.value,E(p.value)],velocity:zS(T,_,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:h}))};return C(0),{calculatedDuration:null,next:_=>{let A=!1;return!B&&M===void 0&&(A=!0,k(_),C(_)),M!==void 0&&_>=M?B.next(_-M):(!A&&k(_),p)}}}const oD=Ul(.42,0,1,1),aD=Ul(0,0,.58,1),WS=Ul(.42,0,.58,1),lD=t=>Array.isArray(t)&&typeof t[0]!="number",qg=t=>Array.isArray(t)&&typeof t[0]=="number",B_={linear:bt,easeIn:oD,easeInOut:WS,easeOut:aD,circIn:jg,circInOut:xS,circOut:TS,backIn:Mg,backInOut:wS,backOut:_S,anticipate:ES},z_=t=>{if(qg(t)){Kp(t.length===4);const[e,n,r,i]=t;return Ul(e,n,r,i)}else if(typeof t=="string")return Kp(B_[t]!==void 0),B_[t];return t},uD=(t,e)=>n=>e(t(n)),Er=(...t)=>t.reduce(uD),Po=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Fe=(t,e,n)=>t+(e-t)*n;function Sf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function cD({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Sf(l,a,t+1/3),s=Sf(l,a,t),o=Sf(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function eh(t,e){return n=>n>0?e:t}const If=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},hD=[Yp,Zi,to],dD=t=>hD.find(e=>e.test(t));function $_(t){const e=dD(t);if(!e)return!1;let n=e.parse(t);return e===to&&(n=cD(n)),n}const W_=(t,e)=>{const n=$_(t),r=$_(e);if(!n||!r)return eh(t,e);const i={...n};return s=>(i.red=If(n.red,r.red,s),i.green=If(n.green,r.green,s),i.blue=If(n.blue,r.blue,s),i.alpha=Fe(n.alpha,r.alpha,s),Zi.transform(i))},Zp=new Set(["none","hidden"]);function fD(t,e){return Zp.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function pD(t,e){return n=>Fe(t,e,n)}function Kg(t){return typeof t=="number"?pD:typeof t=="string"?Fg(t)?eh:At.test(t)?W_:yD:Array.isArray(t)?HS:typeof t=="object"?At.test(t)?W_:mD:eh}function HS(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>Kg(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function mD(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Kg(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function gD(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const yD=(t,e)=>{const n=vi.createTransformer(e),r=wl(t),i=wl(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Zp.has(t)&&!i.values.length||Zp.has(e)&&!r.values.length?fD(t,e):Er(HS(gD(r,i),i.values),n):eh(t,e)};function qS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Fe(t,e,n):Kg(t)(t,e)}function vD(t,e,n){const r=[],i=n||qS,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||bt:e;a=Er(l,a)}r.push(a)}return r}function _D(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Kp(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=vD(e,r,i),a=o.length,l=c=>{let h=0;if(a>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const d=Po(t[h],t[h+1],c);return o[h](d)};return n?c=>l(yi(t[0],t[s-1],c)):l}function wD(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Po(0,e,r);t.push(Fe(n,1,i))}}function ED(t){const e=[0];return wD(e,t.length-1),e}function TD(t,e){return t.map(n=>n*e)}function xD(t,e){return t.map(()=>e||WS).splice(0,t.length-1)}function th({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=lD(r)?r.map(z_):z_(r),s={done:!1,value:e[0]},o=TD(n&&n.length===e.length?n:ED(e),t),a=_D(o,e,{ease:Array.isArray(i)?i:xD(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const H_=2e4;function SD(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<H_;)e+=n,r=t.next(e);return e>=H_?1/0:e}const ID=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Se.update(e,!0),stop:()=>gi(e),now:()=>mt.isProcessing?mt.timestamp:Yn.now()}},AD={decay:U_,inertia:U_,tween:th,keyframes:th,spring:$S},PD=t=>t/100;class Gg extends US{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||Ug,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=Hg(n)?n:AD[n]||th;let l,c;a!==th&&typeof e[0]!="number"&&(l=Er(PD,qS(e[0],e[1])),e=[0,100]);const h=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=SD(h));const{calculatedDuration:d}=h,p=d+i,v=p*(r+1)-i;return{generator:h,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:p,totalDuration:v}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:_}=this.options;return{done:!0,value:_[_.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:h,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:p,repeat:v,repeatType:E,repeatDelay:S,onUpdate:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const w=this.currentTime-p*(this.speed>=0?1:-1),y=this.speed>=0?w<0:w>h;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let T=this.currentTime,k=s;if(v){const _=Math.min(this.currentTime,h)/d;let A=Math.floor(_),R=_%1;!R&&_>=1&&(R=1),R===1&&A--,A=Math.min(A,v+1),!!(A%2)&&(E==="reverse"?(R=1-R,S&&(R-=S/d)):E==="mirror"&&(k=o)),T=yi(0,1,R)*d}const M=y?{done:!1,value:l[0]}:k.next(T);a&&(M.value=a(M.value));let{done:B}=M;!y&&c!==null&&(B=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return C&&i!==void 0&&(M.value=Jh(l,this.options,i)),I&&I(M.value),C&&this.finish(),M}get duration(){const{resolved:e}=this;return e?wr(e.calculatedDuration):0}get time(){return wr(this.currentTime)}set time(e){e=_r(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=wr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=ID,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const CD=new Set(["opacity","clipPath","filter","transform"]),RD=10,kD=(t,e)=>{let n="";const r=Math.max(Math.round(e/RD),2);for(let i=0;i<r;i++)n+=t(Po(0,r-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function Qg(t){let e;return()=>(e===void 0&&(e=t()),e)}const bD={linearEasing:void 0};function ND(t,e){const n=Qg(t);return()=>{var r;return(r=bD[e])!==null&&r!==void 0?r:n()}}const nh=ND(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function KS(t){return!!(typeof t=="function"&&nh()||!t||typeof t=="string"&&(t in em||nh())||qg(t)||Array.isArray(t)&&t.every(KS))}const Sa=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,em={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sa([0,.65,.55,1]),circOut:Sa([.55,0,1,.45]),backIn:Sa([.31,.01,.66,-.59]),backOut:Sa([.33,1.53,.69,.99])};function GS(t,e){if(t)return typeof t=="function"&&nh()?kD(t,e):qg(t)?Sa(t):Array.isArray(t)?t.map(n=>GS(n,e)||em.easeOut):em[t]}function DD(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const h=GS(a,i);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function q_(t,e){t.timeline=e,t.onfinish=null}const VD=Qg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),rh=10,OD=2e4;function LD(t){return Hg(t.type)||t.type==="spring"||!KS(t.ease)}function MD(t,e){const n=new Gg({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<OD;)r=n.sample(s),i.push(r.value),s+=rh;return{times:void 0,keyframes:i,duration:s-rh,ease:"linear"}}const QS={anticipate:ES,backInOut:wS,circInOut:xS};function jD(t){return t in QS}class K_ extends US{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new FS(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:c,startTime:h}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&nh()&&jD(o)&&(o=QS[o]),LD(this.options)){const{onComplete:p,onUpdate:v,motionValue:E,element:S,...I}=this.options,w=MD(e,I);e=w.keyframes,e.length===1&&(e[1]=e[0]),i=w.duration,s=w.times,o=w.ease,a="keyframes"}const d=DD(l.owner.current,c,e,{...this.options,duration:i,times:s,ease:o});return d.startTime=h??this.calcStartTime(),this.pendingTimeline?(q_(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:p}=this.options;l.set(Jh(e,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return wr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return wr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=_r(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return bt;const{animation:r}=n;q_(r,e)}return bt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:h,onComplete:d,element:p,...v}=this.options,E=new Gg({...v,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),S=_r(this.time);c.setWithVelocity(E.sample(S-rh).value,E.sample(S).value,rh)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return VD()&&r&&CD.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const FD=Qg(()=>window.ScrollTimeline!==void 0);class UD{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>FD()&&i.attachTimeline?i.attachTimeline(e):n(i));return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function BD({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}const Yg=(t,e,n,r={},i,s)=>o=>{const a=Lg(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-_r(l);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};BD(a)||(h={...h,...sN(t,h)}),h.duration&&(h.duration=_r(h.duration)),h.repeatDelay&&(h.repeatDelay=_r(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const p=Jh(h.keyframes,a);if(p!==void 0)return Se.update(()=>{h.onUpdate(p),h.onComplete()}),new UD([])}return!s&&K_.supports(h)?new K_(h):new Gg(h)},zD=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),$D=t=>qp(t)?t[t.length-1]||0:t;function Xg(t,e){t.indexOf(e)===-1&&t.push(e)}function Jg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Zg{constructor(){this.subscriptions=[]}add(e){return Xg(this.subscriptions,e),()=>Jg(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const G_=30,WD=t=>!isNaN(parseFloat(t));class HD{constructor(e,n={}){this.version="11.11.11",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Yn.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Yn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=WD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Zg);const r=this.events[e].add(n);return e==="change"?()=>{r(),Se.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>G_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,G_);return BS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function El(t,e){return new HD(t,e)}function qD(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,El(n))}function KD(t,e){const n=Xh(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=$D(s[o]);qD(t,o,a)}}const ey=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),GD="framerAppearId",YS="data-"+ey(GD);function XS(t){return t.props[YS]}const kt=t=>!!(t&&t.getVelocity);function QD(t){return!!(kt(t)&&t.add)}function tm(t,e){const n=t.getValue("willChange");if(QD(n))return n.add(e)}function YD({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function JS(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const p=t.getValue(d,(s=t.latestValues[d])!==null&&s!==void 0?s:null),v=l[d];if(v===void 0||h&&YD(h,d))continue;const E={delay:n,...Lg(o||{},d)};let S=!1;if(window.MotionHandoffAnimation){const w=XS(t);if(w){const y=window.MotionHandoffAnimation(w,d,Se);y!==null&&(E.startTime=y,S=!0)}}tm(t,d),p.start(Yg(d,p,v,t.shouldReduceMotion&&Ts.has(d)?{type:!1}:E,t,S));const I=p.animation;I&&c.push(I)}return a&&Promise.all(c).then(()=>{Se.update(()=>{a&&KD(t,a)})}),c}function nm(t,e,n={}){var r;const i=Xh(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(JS(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:p}=s;return XD(t,e,h+c,d,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,h]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function XD(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(JD).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(nm(c,e,{...s,delay:n+l(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function JD(t,e){return t.sortNodePosition(e)}function ZD(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>nm(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=nm(t,e,n);else{const i=typeof e=="function"?Xh(t,e,n.custom):e;r=Promise.all(JS(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const eV=Og.length;function ZS(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ZS(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<eV;n++){const r=Og[n],i=t.props[r];(vl(i)||i===!1)&&(e[r]=i)}return e}const tV=[...Vg].reverse(),nV=Vg.length;function rV(t){return e=>Promise.all(e.map(({animation:n,options:r})=>ZD(t,n,r)))}function iV(t){let e=rV(t),n=Q_(),r=!0;const i=l=>(c,h)=>{var d;const p=Xh(t,h,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(p){const{transition:v,transitionEnd:E,...S}=p;c={...c,...S,...E}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,h=ZS(t.parent)||{},d=[],p=new Set;let v={},E=1/0;for(let I=0;I<nV;I++){const w=tV[I],y=n[w],T=c[w]!==void 0?c[w]:h[w],k=vl(T),M=w===l?y.isActive:null;M===!1&&(E=I);let B=T===h[w]&&T!==c[w]&&k;if(B&&r&&t.manuallyAnimateOnMount&&(B=!1),y.protectedKeys={...v},!y.isActive&&M===null||!T&&!y.prevProp||Yh(T)||typeof T=="boolean")continue;const C=sV(y.prevProp,T);let _=C||w===l&&y.isActive&&!B&&k||I>E&&k,A=!1;const R=Array.isArray(T)?T:[T];let D=R.reduce(i(w),{});M===!1&&(D={});const{prevResolvedValues:N={}}=y,P={...N,...D},pe=ue=>{_=!0,p.has(ue)&&(A=!0,p.delete(ue)),y.needsAnimating[ue]=!0;const H=t.getValue(ue);H&&(H.liveStyle=!1)};for(const ue in P){const H=D[ue],Z=N[ue];if(v.hasOwnProperty(ue))continue;let ne=!1;qp(H)&&qp(Z)?ne=!pS(H,Z):ne=H!==Z,ne?H!=null?pe(ue):p.add(ue):H!==void 0&&p.has(ue)?pe(ue):y.protectedKeys[ue]=!0}y.prevProp=T,y.prevResolvedValues=D,y.isActive&&(v={...v,...D}),r&&t.blockInitialAnimation&&(_=!1),_&&(!(B&&C)||A)&&d.push(...R.map(ue=>({animation:ue,options:{type:w}})))}if(p.size){const I={};p.forEach(w=>{const y=t.getBaseTarget(w),T=t.getValue(w);T&&(T.liveStyle=!0),I[w]=y??null}),d.push({animation:I})}let S=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(d):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(p=>{var v;return(v=p.animationState)===null||v===void 0?void 0:v.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Q_(),r=!0}}}function sV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!pS(e,t):!1}function Wi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Q_(){return{animate:Wi(!0),whileInView:Wi(),whileHover:Wi(),whileTap:Wi(),whileDrag:Wi(),whileFocus:Wi(),exit:Wi()}}class Ni{constructor(e){this.isMounted=!1,this.node=e}update(){}}class oV extends Ni{constructor(e){super(e),e.animationState||(e.animationState=iV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Yh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let aV=0;class lV extends Ni{constructor(){super(...arguments),this.id=aV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const uV={animation:{Feature:oV},exit:{Feature:lV}},eI=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Zh(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const cV=t=>e=>eI(e)&&t(e,Zh(e));function pr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Tr(t,e,n,r){return pr(t,e,cV(n),r)}const Y_=(t,e)=>Math.abs(t-e);function hV(t,e){const n=Y_(t.x,e.x),r=Y_(t.y,e.y);return Math.sqrt(n**2+r**2)}class tI{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Pf(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,v=hV(d.offset,{x:0,y:0})>=3;if(!p&&!v)return;const{point:E}=d,{timestamp:S}=mt;this.history.push({...E,timestamp:S});const{onStart:I,onMove:w}=this.handlers;p||(I&&I(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Af(p,this.transformPagePoint),Se.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:v,onSessionEnd:E,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=Pf(d.type==="pointercancel"?this.lastMoveEventInfo:Af(p,this.transformPagePoint),this.history);this.startEvent&&v&&v(d,I),E&&E(d,I)},!eI(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Zh(e),a=Af(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=mt;this.history=[{...l,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,Pf(a,this.history)),this.removeListeners=Er(Tr(this.contextWindow,"pointermove",this.handlePointerMove),Tr(this.contextWindow,"pointerup",this.handlePointerUp),Tr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),gi(this.updatePoint)}}function Af(t,e){return e?{point:e(t.point)}:t}function X_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Pf({point:t},e){return{point:t,delta:X_(t,nI(e)),offset:X_(t,dV(e)),velocity:fV(e,.1)}}function dV(t){return t[0]}function nI(t){return t[t.length-1]}function fV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=nI(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>_r(e)));)n--;if(!r)return{x:0,y:0};const s=wr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function rI(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const J_=rI("dragHorizontal"),Z_=rI("dragVertical");function iI(t){let e=!1;if(t==="y")e=Z_();else if(t==="x")e=J_();else{const n=J_(),r=Z_();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function sI(){const t=iI(!0);return t?(t(),!1):!0}function no(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const oI=1e-4,pV=1-oI,mV=1+oI,aI=.01,gV=0-aI,yV=0+aI;function an(t){return t.max-t.min}function vV(t,e,n){return Math.abs(t-e)<=n}function ew(t,e,n,r=.5){t.origin=r,t.originPoint=Fe(e.min,e.max,t.origin),t.scale=an(n)/an(e),t.translate=Fe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=pV&&t.scale<=mV||isNaN(t.scale))&&(t.scale=1),(t.translate>=gV&&t.translate<=yV||isNaN(t.translate))&&(t.translate=0)}function za(t,e,n,r){ew(t.x,e.x,n.x,r?r.originX:void 0),ew(t.y,e.y,n.y,r?r.originY:void 0)}function tw(t,e,n){t.min=n.min+e.min,t.max=t.min+an(e)}function _V(t,e,n){tw(t.x,e.x,n.x),tw(t.y,e.y,n.y)}function nw(t,e,n){t.min=e.min-n.min,t.max=t.min+an(e)}function $a(t,e,n){nw(t.x,e.x,n.x),nw(t.y,e.y,n.y)}function wV(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Fe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Fe(n,t,r.max):Math.min(t,n)),t}function rw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function EV(t,{top:e,left:n,bottom:r,right:i}){return{x:rw(t.x,n,i),y:rw(t.y,e,r)}}function iw(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function TV(t,e){return{x:iw(t.x,e.x),y:iw(t.y,e.y)}}function xV(t,e){let n=.5;const r=an(t),i=an(e);return i>r?n=Po(e.min,e.max-r,t.min):r>i&&(n=Po(t.min,t.max-i,e.min)),yi(0,1,n)}function SV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const rm=.35;function IV(t=rm){return t===!1?t=0:t===!0&&(t=rm),{x:sw(t,"left","right"),y:sw(t,"top","bottom")}}function sw(t,e,n){return{min:ow(t,e),max:ow(t,n)}}function ow(t,e){return typeof t=="number"?t:t[e]||0}const aw=()=>({translate:0,scale:1,origin:0,originPoint:0}),ro=()=>({x:aw(),y:aw()}),lw=()=>({min:0,max:0}),Qe=()=>({x:lw(),y:lw()});function gn(t){return[t("x"),t("y")]}function lI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function AV({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function PV(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Cf(t){return t===void 0||t===1}function im({scale:t,scaleX:e,scaleY:n}){return!Cf(t)||!Cf(e)||!Cf(n)}function Ki(t){return im(t)||uI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function uI(t){return uw(t.x)||uw(t.y)}function uw(t){return t&&t!=="0%"}function ih(t,e,n){const r=t-n,i=e*r;return n+i}function cw(t,e,n,r,i){return i!==void 0&&(t=ih(t,i,r)),ih(t,n,r)+e}function sm(t,e=0,n=1,r,i){t.min=cw(t.min,e,n,r,i),t.max=cw(t.max,e,n,r,i)}function cI(t,{x:e,y:n}){sm(t.x,e.translate,e.scale,e.originPoint),sm(t.y,n.translate,n.scale,n.originPoint)}const hw=.999999999999,dw=1.0000000000001;function CV(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&so(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,cI(t,o)),r&&Ki(s.latestValues)&&so(t,s.latestValues))}e.x<dw&&e.x>hw&&(e.x=1),e.y<dw&&e.y>hw&&(e.y=1)}function io(t,e){t.min=t.min+e,t.max=t.max+e}function fw(t,e,n,r,i=.5){const s=Fe(t.min,t.max,i);sm(t,e,n,s,r)}function so(t,e){fw(t.x,e.x,e.scaleX,e.scale,e.originX),fw(t.y,e.y,e.scaleY,e.scale,e.originY)}function hI(t,e){return lI(PV(t.getBoundingClientRect(),e))}function RV(t,e,n){const r=hI(t,n),{scroll:i}=e;return i&&(io(r.x,i.offset.x),io(r.y,i.offset.y)),r}const dI=({current:t})=>t?t.ownerDocument.defaultView:null,kV=new WeakMap;class bV{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Zh(h,"page").point)},s=(h,d)=>{const{drag:p,dragPropagation:v,onDragStart:E}=this.getProps();if(p&&!v&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=iI(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gn(I=>{let w=this.getAxisMotionValue(I).get()||0;if(Qn.test(w)){const{projection:y}=this.visualElement;if(y&&y.layout){const T=y.layout.layoutBox[I];T&&(w=an(T)*(parseFloat(w)/100))}}this.originPoint[I]=w}),E&&Se.postRender(()=>E(h,d)),tm(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(h,d)=>{const{dragPropagation:p,dragDirectionLock:v,onDirectionLock:E,onDrag:S}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:I}=d;if(v&&this.currentDirection===null){this.currentDirection=NV(I),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",d.point,I),this.updateAxis("y",d.point,I),this.visualElement.render(),S&&S(h,d)},a=(h,d)=>this.stop(h,d),l=()=>gn(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new tI(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:dI(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Se.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Uu(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=wV(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&no(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=EV(i.layoutBox,n):this.constraints=!1,this.elastic=IV(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&gn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=SV(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!no(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=RV(r,i.root,this.visualElement.getTransformPagePoint());let o=TV(i.layout.layoutBox,s);if(n){const a=n(AV(o));this.hasMutatedConstraints=!!a,a&&(o=lI(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=gn(h=>{if(!Uu(h,n,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const p=i?200:1e6,v=i?40:1e7,E={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,E)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return tm(this.visualElement,e),r.start(Yg(e,r,0,n,this.visualElement,!1))}stopAnimation(){gn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){gn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){gn(n=>{const{drag:r}=this.getProps();if(!Uu(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Fe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!no(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};gn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=xV({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),gn(o=>{if(!Uu(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Fe(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;kV.set(this.visualElement,this);const e=this.visualElement.current,n=Tr(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();no(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Se.read(r);const o=pr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(gn(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=rm,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Uu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function NV(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class DV extends Ni{constructor(e){super(e),this.removeGroupControls=bt,this.removeListeners=bt,this.controls=new bV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bt}unmount(){this.removeGroupControls(),this.removeListeners()}}const pw=t=>(e,n)=>{t&&Se.postRender(()=>t(e,n))};class VV extends Ni{constructor(){super(...arguments),this.removePointerDownListener=bt}onPointerDown(e){this.session=new tI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:pw(e),onStart:pw(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Se.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Tr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ed=V.createContext(null);function OV(){const t=V.useContext(ed);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=V.useId();V.useEffect(()=>r(i),[]);const s=V.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,s]:[!0]}const ty=V.createContext({}),fI=V.createContext({}),cc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function mw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ga={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(re.test(t))t=parseFloat(t);else return t;const n=mw(t,e.target.x),r=mw(t,e.target.y);return`${n}% ${r}%`}},LV={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=vi.parse(t);if(i.length>5)return r;const s=vi.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Fe(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}},sh={};function MV(t){Object.assign(sh,t)}const{schedule:ny,cancel:UU}=mS(queueMicrotask,!1);class jV extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;MV(FV),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),cc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Se.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ny.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function pI(t){const[e,n]=OV(),r=V.useContext(ty);return g.jsx(jV,{...t,layoutGroup:r,switchLayoutGroup:V.useContext(fI),isPresent:e,safeToRemove:n})}const FV={borderRadius:{...ga,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ga,borderTopRightRadius:ga,borderBottomLeftRadius:ga,borderBottomRightRadius:ga,boxShadow:LV},mI=["TopLeft","TopRight","BottomLeft","BottomRight"],UV=mI.length,gw=t=>typeof t=="string"?parseFloat(t):t,yw=t=>typeof t=="number"||re.test(t);function BV(t,e,n,r,i,s){i?(t.opacity=Fe(0,n.opacity!==void 0?n.opacity:1,zV(r)),t.opacityExit=Fe(e.opacity!==void 0?e.opacity:1,0,$V(r))):s&&(t.opacity=Fe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<UV;o++){const a=`border${mI[o]}Radius`;let l=vw(e,a),c=vw(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||yw(l)===yw(c)?(t[a]=Math.max(Fe(gw(l),gw(c),r),0),(Qn.test(c)||Qn.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Fe(e.rotate||0,n.rotate||0,r))}function vw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const zV=gI(0,.5,TS),$V=gI(.5,.95,bt);function gI(t,e,n){return r=>r<t?0:r>e?1:n(Po(t,e,r))}function _w(t,e){t.min=e.min,t.max=e.max}function fn(t,e){_w(t.x,e.x),_w(t.y,e.y)}function ww(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Ew(t,e,n,r,i){return t-=e,t=ih(t,1/n,r),i!==void 0&&(t=ih(t,1/i,r)),t}function WV(t,e=0,n=1,r=.5,i,s=t,o=t){if(Qn.test(e)&&(e=parseFloat(e),e=Fe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Fe(s.min,s.max,r);t===s&&(a-=e),t.min=Ew(t.min,e,n,a,i),t.max=Ew(t.max,e,n,a,i)}function Tw(t,e,[n,r,i],s,o){WV(t,e[n],e[r],e[i],e.scale,s,o)}const HV=["x","scaleX","originX"],qV=["y","scaleY","originY"];function xw(t,e,n,r){Tw(t.x,e,HV,n?n.x:void 0,r?r.x:void 0),Tw(t.y,e,qV,n?n.y:void 0,r?r.y:void 0)}function Sw(t){return t.translate===0&&t.scale===1}function yI(t){return Sw(t.x)&&Sw(t.y)}function Iw(t,e){return t.min===e.min&&t.max===e.max}function KV(t,e){return Iw(t.x,e.x)&&Iw(t.y,e.y)}function Aw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function vI(t,e){return Aw(t.x,e.x)&&Aw(t.y,e.y)}function Pw(t){return an(t.x)/an(t.y)}function Cw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class GV{constructor(){this.members=[]}add(e){Xg(this.members,e),e.scheduleRender()}remove(e){if(Jg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function QV(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:d,rotateY:p,skewX:v,skewY:E}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),p&&(r+=`rotateY(${p}deg) `),v&&(r+=`skewX(${v}deg) `),E&&(r+=`skewY(${E}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const YV=(t,e)=>t.depth-e.depth;class XV{constructor(){this.children=[],this.isDirty=!1}add(e){Xg(this.children,e),this.isDirty=!0}remove(e){Jg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(YV),this.isDirty=!1,this.children.forEach(e)}}function hc(t){const e=kt(t)?t.get():t;return zD(e)?e.toValue():e}function JV(t,e){const n=Yn.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(gi(r),t(s-e))};return Se.read(r,!0),()=>gi(r)}function ZV(t){return t instanceof SVGElement&&t.tagName!=="svg"}function e4(t,e,n){const r=kt(t)?t:El(t);return r.start(Yg("",r,e,n)),r.animation}const Gi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ia=typeof window<"u"&&window.MotionDebug!==void 0,Rf=["","X","Y","Z"],t4={visibility:"hidden"},Rw=1e3;let n4=0;function kf(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function _I(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=XS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Se,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&_I(r)}function wI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=n4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ia&&(Gi.totalNodes=Gi.resolvedTargetDeltas=Gi.recalculatedProjection=0),this.nodes.forEach(s4),this.nodes.forEach(c4),this.nodes.forEach(h4),this.nodes.forEach(o4),Ia&&window.MotionDebug.record(Gi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new XV)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Zg),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ZV(o),this.instance=o;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=JV(p,250),cc.hasAnimatedSinceResize&&(cc.hasAnimatedSinceResize=!1,this.nodes.forEach(bw))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:v,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||h.getDefaultTransition()||g4,{onLayoutAnimationStart:I,onLayoutAnimationComplete:w}=h.getProps(),y=!this.targetLayout||!vI(this.targetLayout,E)||v,T=!p&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,T);const k={...Lg(S,"layout"),onPlay:I,onComplete:w};(h.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else p||bw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,gi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(d4),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&_I(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kw);return}this.isUpdating||this.nodes.forEach(l4),this.isUpdating=!1,this.nodes.forEach(u4),this.nodes.forEach(r4),this.nodes.forEach(i4),this.clearAllSnapshots();const a=Yn.now();mt.delta=yi(0,1e3/60,a-mt.timestamp),mt.timestamp=a,mt.isProcessing=!0,Ef.update.process(mt),Ef.preRender.process(mt),Ef.render.process(mt),mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ny.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(a4),this.sharedNodes.forEach(f4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Se.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Se.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!yI(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||Ki(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),y4(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Qe();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(v4))){const{scroll:h}=this.root;h&&(io(l.x,h.offset.x),io(l.y,h.offset.y))}return l}removeElementScroll(o){var a;const l=Qe();if(fn(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:d,options:p}=h;h!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&fn(l,o),io(l.x,d.offset.x),io(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=Qe();fn(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&so(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Ki(h.latestValues)&&so(l,h.latestValues)}return Ki(this.latestValues)&&so(l,this.latestValues),l}removeTransform(o){const a=Qe();fn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ki(c.latestValues))continue;im(c.latestValues)&&c.updateSnapshot();const h=Qe(),d=c.measurePageBox();fn(h,d),xw(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return Ki(this.latestValues)&&xw(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=mt.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),$a(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Qe(),this.targetWithTransforms=Qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_V(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fn(this.target,this.layout.layoutBox),cI(this.target,this.targetDelta)):fn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),$a(this.relativeTargetOrigin,this.target,v.target),fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ia&&Gi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||im(this.parent.latestValues)||uI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===mt.timestamp&&(c=!1),c)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;fn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,v=this.treeScale.y;CV(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Qe());const{target:E}=a;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ww(this.prevProjectionDelta.x,this.projectionDelta.x),ww(this.prevProjectionDelta.y,this.projectionDelta.y)),za(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==v||!Cw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Cw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E)),Ia&&Gi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ro(),this.projectionDelta=ro(),this.projectionDeltaWithTransform=ro()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},d=ro();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Qe(),v=l?l.source:void 0,E=this.layout?this.layout.source:void 0,S=v!==E,I=this.getStack(),w=!I||I.members.length<=1,y=!!(S&&!w&&this.options.crossfade===!0&&!this.path.some(m4));this.animationProgress=0;let T;this.mixTargetDelta=k=>{const M=k/1e3;Nw(d.x,o.x,M),Nw(d.y,o.y,M),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($a(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p4(this.relativeTarget,this.relativeTargetOrigin,p,M),T&&KV(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Qe()),fn(T,this.relativeTarget)),S&&(this.animationValues=h,BV(h,c,this.latestValues,M,y,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(gi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Se.update(()=>{cc.hasAnimatedSinceResize=!0,this.currentAnimation=e4(0,Rw,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Rw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&EI(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Qe();const d=an(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=an(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}fn(a,l),so(a,h),za(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new GV),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&kf("z",o,c,this.animationValues);for(let h=0;h<Rf.length;h++)kf(`rotate${Rf[h]}`,o,c,this.animationValues),kf(`skew${Rf[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return t4;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=hc(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=hc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ki(this.latestValues)&&(S.transform=h?h({},""):"none",this.hasProjected=!1),S}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=QV(this.projectionDeltaWithTransform,this.treeScale,p),h&&(c.transform=h(p,c.transform));const{x:v,y:E}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${E.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in sh){if(p[S]===void 0)continue;const{correct:I,applyTo:w}=sh[S],y=c.transform==="none"?p[S]:I(p[S],d);if(w){const T=w.length;for(let k=0;k<T;k++)c[w[k]]=y}else c[S]=y}return this.options.layoutId&&(c.pointerEvents=d===this?hc(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(kw),this.root.sharedNodes.clear()}}}function r4(t){t.updateLayout()}function i4(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?gn(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],v=an(p);p.min=r[d].min,p.max=p.min+v}):EI(s,n.layoutBox,r)&&gn(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],v=an(r[d]);p.max=p.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+v)});const a=ro();za(a,r,n.layoutBox);const l=ro();o?za(l,t.applyTransform(i,!0),n.measuredBox):za(l,r,n.layoutBox);const c=!yI(a);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:v}=d;if(p&&v){const E=Qe();$a(E,n.layoutBox,p.layoutBox);const S=Qe();$a(S,r,v.layoutBox),vI(E,S)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=E,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function s4(t){Ia&&Gi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function o4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function a4(t){t.clearSnapshot()}function kw(t){t.clearMeasurements()}function l4(t){t.isLayoutDirty=!1}function u4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function bw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function c4(t){t.resolveTargetDelta()}function h4(t){t.calcProjection()}function d4(t){t.resetSkewAndRotation()}function f4(t){t.removeLeadSnapshot()}function Nw(t,e,n){t.translate=Fe(e.translate,0,n),t.scale=Fe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Dw(t,e,n,r){t.min=Fe(e.min,n.min,r),t.max=Fe(e.max,n.max,r)}function p4(t,e,n,r){Dw(t.x,e.x,n.x,r),Dw(t.y,e.y,n.y,r)}function m4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const g4={duration:.45,ease:[.4,0,.1,1]},Vw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Ow=Vw("applewebkit/")&&!Vw("chrome/")?Math.round:bt;function Lw(t){t.min=Ow(t.min),t.max=Ow(t.max)}function y4(t){Lw(t.x),Lw(t.y)}function EI(t,e,n){return t==="position"||t==="preserve-aspect"&&!vV(Pw(e),Pw(n),.2)}function v4(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const _4=wI({attachResizeListener:(t,e)=>pr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bf={current:void 0},TI=wI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!bf.current){const t=new _4({});t.mount(window),t.setOptions({layoutScroll:!0}),bf.current=t}return bf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),w4={pan:{Feature:VV},drag:{Feature:DV,ProjectionNode:TI,MeasureLayout:pI}};function Mw(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||sI())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&Se.postRender(()=>l(s,o))};return Tr(t.current,n,i,{passive:!t.getProps()[r]})}class E4 extends Ni{mount(){this.unmount=Er(Mw(this.node,!0),Mw(this.node,!1))}unmount(){}}class T4 extends Ni{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Er(pr(this.node.current,"focus",()=>this.onFocus()),pr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const xI=(t,e)=>e?t===e?!0:xI(t,e.parentElement):!1;function Nf(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Zh(n))}class x4 extends Ni{constructor(){super(...arguments),this.removeStartListeners=bt,this.removeEndListeners=bt,this.removeAccessibleListeners=bt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Tr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:h,globalTapTarget:d}=this.node.getProps(),p=!d&&!xI(this.node.current,a.target)?h:c;p&&Se.update(()=>p(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=Tr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Er(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Nf("up",(l,c)=>{const{onTap:h}=this.node.getProps();h&&Se.postRender(()=>h(l,c))})};this.removeEndListeners(),this.removeEndListeners=pr(this.node.current,"keyup",o),Nf("down",(a,l)=>{this.startPress(a,l)})},n=pr(this.node.current,"keydown",e),r=()=>{this.isPressing&&Nf("cancel",(s,o)=>this.cancelPress(s,o))},i=pr(this.node.current,"blur",r);this.removeAccessibleListeners=Er(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Se.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!sI()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Se.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Tr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=pr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Er(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const om=new WeakMap,Df=new WeakMap,S4=t=>{const e=om.get(t.target);e&&e(t)},I4=t=>{t.forEach(S4)};function A4({root:t,...e}){const n=t||document;Df.has(n)||Df.set(n,{});const r=Df.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(I4,{root:t,...e})),r[i]}function P4(t,e,n){const r=A4(e);return om.set(t,n),r.observe(t),()=>{om.delete(t),r.unobserve(t)}}const C4={some:0,all:1};class R4 extends Ni{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:C4[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),p=c?h:d;p&&p(l)};return P4(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(k4(e,n))&&this.startObserver()}unmount(){}}function k4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const b4={inView:{Feature:R4},tap:{Feature:x4},focus:{Feature:T4},hover:{Feature:E4}},N4={layout:{ProjectionNode:TI,MeasureLayout:pI}},ry=V.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),td=V.createContext({}),iy=typeof window<"u",SI=iy?V.useLayoutEffect:V.useEffect,II=V.createContext({strict:!1});function D4(t,e,n,r,i){var s,o;const{visualElement:a}=V.useContext(td),l=V.useContext(II),c=V.useContext(ed),h=V.useContext(ry).reducedMotion,d=V.useRef();r=r||l.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const p=d.current,v=V.useContext(fI);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&V4(d.current,n,i,v);const E=V.useRef(!1);V.useInsertionEffect(()=>{p&&E.current&&p.update(n,c)});const S=n[YS],I=V.useRef(!!S&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,S))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,S)));return SI(()=>{p&&(E.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),ny.render(p.render),I.current&&p.animationState&&p.animationState.animateChanges())}),V.useEffect(()=>{p&&(!I.current&&p.animationState&&p.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,S)}),I.current=!1))}),p}function V4(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:AI(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&no(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function AI(t){if(t)return t.options.allowProjection!==!1?t.projection:AI(t.parent)}function O4(t,e,n){return V.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):no(n)&&(n.current=r))},[e])}function nd(t){return Yh(t.animate)||Og.some(e=>vl(t[e]))}function PI(t){return!!(nd(t)||t.variants)}function L4(t,e){if(nd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||vl(n)?n:void 0,animate:vl(r)?r:void 0}}return t.inherit!==!1?e:{}}function M4(t){const{initial:e,animate:n}=L4(t,V.useContext(td));return V.useMemo(()=>({initial:e,animate:n}),[jw(e),jw(n)])}function jw(t){return Array.isArray(t)?t.join(" "):t}const Fw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Co={};for(const t in Fw)Co[t]={isEnabled:e=>Fw[t].some(n=>!!e[n])};function j4(t){for(const e in t)Co[e]={...Co[e],...t[e]}}const F4=Symbol.for("motionComponentSymbol");function U4({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&j4(t);function s(a,l){let c;const h={...V.useContext(ry),...a,layoutId:B4(a)},{isStatic:d}=h,p=M4(a),v=r(a,d);if(!d&&iy){z4();const E=$4(h);c=E.MeasureLayout,p.visualElement=D4(i,v,h,e,E.ProjectionNode)}return g.jsxs(td.Provider,{value:p,children:[c&&p.visualElement?g.jsx(c,{visualElement:p.visualElement,...h}):null,n(i,a,O4(v,p.visualElement,l),v,d,p.visualElement)]})}const o=V.forwardRef(s);return o[F4]=i,o}function B4({layoutId:t}){const e=V.useContext(ty).id;return e&&t!==void 0?e+"-"+t:t}function z4(t,e){V.useContext(II).strict}function $4(t){const{drag:e,layout:n}=Co;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const W4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sy(t){return typeof t!="string"||t.includes("-")?!1:!!(W4.indexOf(t)>-1||/[A-Z]/u.test(t))}function CI(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const RI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kI(t,e,n,r){CI(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(RI.has(i)?i:ey(i),e.attrs[i])}function bI(t,{layout:e,layoutId:n}){return Ts.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!sh[t]||t==="opacity")}function oy(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(kt(i[o])||e.style&&kt(e.style[o])||bI(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function NI(t,e,n){const r=oy(t,e,n);for(const i in t)if(kt(t[i])||kt(e[i])){const s=Fl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function ay(t){const e=V.useRef(null);return e.current===null&&(e.current=t()),e.current}function H4({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:q4(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const DI=t=>(e,n)=>{const r=V.useContext(td),i=V.useContext(ed),s=()=>H4(t,e,r,i);return n?s():ay(s)};function q4(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=hc(s[p]);let{initial:o,animate:a}=t;const l=nd(t),c=PI(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const d=h?a:o;if(d&&typeof d!="boolean"&&!Yh(d)){const p=Array.isArray(d)?d:[d];for(let v=0;v<p.length;v++){const E=Dg(t,p[v]);if(E){const{transitionEnd:S,transition:I,...w}=E;for(const y in w){let T=w[y];if(Array.isArray(T)){const k=h?T.length-1:0;T=T[k]}T!==null&&(i[y]=T)}for(const y in S)i[y]=S[y]}}}return i}const ly=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),VI=()=>({...ly(),attrs:{}}),OI=(t,e)=>e&&typeof t=="number"?e.transform(t):t,K4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},G4=Fl.length;function Q4(t,e,n){let r="",i=!0;for(let s=0;s<G4;s++){const o=Fl[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=OI(a,$g[o]);if(!l){i=!1;const h=K4[o]||o;r+=`${h}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function uy(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Ts.has(l)){o=!0;continue}else if(PS(l)){i[l]=c;continue}else{const h=OI(c,$g[l]);l.startsWith("origin")?(a=!0,s[l]=h):r[l]=h}}if(e.transform||(o||n?r.transform=Q4(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:h=0}=s;r.transformOrigin=`${l} ${c} ${h}`}}function Uw(t,e,n){return typeof t=="string"?t:re.transform(e+n*t)}function Y4(t,e,n){const r=Uw(e,t.x,t.width),i=Uw(n,t.y,t.height);return`${r} ${i}`}const X4={offset:"stroke-dashoffset",array:"stroke-dasharray"},J4={offset:"strokeDashoffset",array:"strokeDasharray"};function Z4(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?X4:J4;t[s.offset]=re.transform(-r);const o=re.transform(e),a=re.transform(n);t[s.array]=`${o} ${a}`}function cy(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},h,d){if(uy(t,c,d),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:v,dimensions:E}=t;p.transform&&(E&&(v.transform=p.transform),delete p.transform),E&&(i!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=Y4(E,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&Z4(p,o,a,l,!1)}const hy=t=>typeof t=="string"&&t.toLowerCase()==="svg",eO={useVisualState:DI({scrapeMotionValuesFromProps:NI,createRenderState:VI,onMount:(t,e,{renderState:n,latestValues:r})=>{Se.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Se.render(()=>{cy(n,r,hy(e.tagName),t.transformTemplate),kI(e,n)})}})},tO={useVisualState:DI({scrapeMotionValuesFromProps:oy,createRenderState:ly})};function LI(t,e,n){for(const r in e)!kt(e[r])&&!bI(r,n)&&(t[r]=e[r])}function nO({transformTemplate:t},e){return V.useMemo(()=>{const n=ly();return uy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function rO(t,e){const n=t.style||{},r={};return LI(r,n,t),Object.assign(r,nO(t,e)),r}function iO(t,e){const n={},r=rO(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const sO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function oh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||sO.has(t)}let MI=t=>!oh(t);function oO(t){t&&(MI=e=>e.startsWith("on")?!oh(e):t(e))}try{oO(require("@emotion/is-prop-valid").default)}catch{}function aO(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(MI(i)||n===!0&&oh(i)||!e&&!oh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function lO(t,e,n,r){const i=V.useMemo(()=>{const s=VI();return cy(s,e,hy(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};LI(s,t.style,t),i.style={...s,...i.style}}return i}function uO(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(sy(n)?lO:iO)(r,s,o,n),c=aO(r,typeof n=="string",t),h=n!==V.Fragment?{...c,...l,ref:i}:{},{children:d}=r,p=V.useMemo(()=>kt(d)?d.get():d,[d]);return V.createElement(n,{...h,children:p})}}function cO(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...sy(r)?eO:tO,preloadedFeatures:t,useRender:uO(i),createVisualElement:e,Component:r};return U4(o)}}const am={current:null},jI={current:!1};function hO(){if(jI.current=!0,!!iy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>am.current=t.matches;t.addListener(e),e()}else am.current=!1}function dO(t,e,n){for(const r in e){const i=e[r],s=n[r];if(kt(i))t.addValue(r,i);else if(kt(s))t.addValue(r,El(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,El(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Bw=new WeakMap,fO=[...kS,At,vi],pO=t=>fO.find(RS(t)),zw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class mO{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ug,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Yn.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Se.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=nd(n),this.isVariantNode=PI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in d){const v=d[p];l[p]!==void 0&&kt(v)&&v.set(l[p],!1)}}mount(e){this.current=e,Bw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),jI.current||hO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:am.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Bw.delete(this.current),this.projection&&this.projection.unmount(),gi(this.notifyUpdate),gi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ts.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Se.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Co){const n=Co[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<zw.length;r++){const i=zw[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=dO(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=El(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(IS(i)||SS(i))?i=parseFloat(i):!pO(i)&&vi.test(n)&&(i=jS(e,n)),this.setBaseTarget(e,kt(i)?i.get():i)),kt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=Dg(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!kt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Zg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class FI extends mO{constructor(){super(...arguments),this.KeyframeResolver=FS}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function gO(t){return window.getComputedStyle(t)}class yO extends FI{constructor(){super(...arguments),this.type="html",this.renderInstance=CI}readValueFromInstance(e,n){if(Ts.has(n)){const r=Wg(n);return r&&r.default||0}else{const r=gO(e),i=(PS(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return hI(e,n)}build(e,n,r){uy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return oy(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;kt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class vO extends FI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qe}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ts.has(n)){const r=Wg(n);return r&&r.default||0}return n=RI.has(n)?n:ey(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return NI(e,n,r)}build(e,n,r){cy(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){kI(e,n,r,i)}mount(e){this.isSVGTag=hy(e.tagName),super.mount(e)}}const _O=(t,e)=>sy(t)?new vO(e):new yO(e,{allowProjection:t!==V.Fragment}),wO=cO({...uV,...b4,...w4,...N4},_O),ve=eN(wO);class EO extends V.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function TO({children:t,isPresent:e}){const n=V.useId(),r=V.useRef(null),i=V.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=V.useContext(ry);return V.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return s&&(h.nonce=s),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[e]),g.jsx(EO,{isPresent:e,childRef:r,sizeRef:i,children:V.cloneElement(t,{ref:r})})}const xO=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=ay(SO),l=V.useId(),c=V.useCallback(d=>{a.set(d,!0);for(const p of a.values())if(!p)return;r&&r()},[a,r]),h=V.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c,register:d=>(a.set(d,!1),()=>a.delete(d))}),s?[Math.random(),c]:[n,c]);return V.useMemo(()=>{a.forEach((d,p)=>a.set(p,!1))},[n]),V.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=g.jsx(TO,{isPresent:n,children:t})),g.jsx(ed.Provider,{value:h,children:t})};function SO(){return new Map}const Bu=t=>t.key||"";function $w(t){const e=[];return V.Children.forEach(t,n=>{V.isValidElement(n)&&e.push(n)}),e}const IO=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=V.useMemo(()=>$w(t),[t]),l=a.map(Bu),c=V.useRef(!0),h=V.useRef(a),d=ay(()=>new Map),[p,v]=V.useState(a),[E,S]=V.useState(a);SI(()=>{c.current=!1,h.current=a;for(let y=0;y<E.length;y++){const T=Bu(E[y]);l.includes(T)?d.delete(T):d.get(T)!==!0&&d.set(T,!1)}},[E,l.length,l.join("-")]);const I=[];if(a!==p){let y=[...a];for(let T=0;T<E.length;T++){const k=E[T],M=Bu(k);l.includes(M)||(y.splice(T,0,k),I.push(k))}o==="wait"&&I.length&&(y=I),S($w(y)),v(a);return}const{forceRender:w}=V.useContext(ty);return g.jsx(g.Fragment,{children:E.map(y=>{const T=Bu(y),k=a===E||l.includes(T),M=()=>{if(d.has(T))d.set(T,!0);else return;let B=!0;d.forEach(C=>{C||(B=!1)}),B&&(w==null||w(),S(h.current),i&&i())};return g.jsx(xO,{isPresent:k,initial:!c.current||r?void 0:!1,custom:k?void 0:n,presenceAffectsLayout:s,mode:o,onExitComplete:k?void 0:M,children:y},T)})})};function AO(t){return Sn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 492v20H0v-20c0-6.627 5.373-12 12-12h20V120c0-13.255 10.745-24 24-24h88V24c0-13.255 10.745-24 24-24h112c13.255 0 24 10.745 24 24v72h88c13.255 0 24 10.745 24 24v360h20c6.627 0 12 5.373 12 12zM308 192h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12zm-168 64h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12zm104 128h-40c-6.627 0-12 5.373-12 12v84h64v-84c0-6.627-5.373-12-12-12zm64-96h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12zm-116 12c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40zM182 96h26v26a6 6 0 0 0 6 6h20a6 6 0 0 0 6-6V96h26a6 6 0 0 0 6-6V70a6 6 0 0 0-6-6h-26V38a6 6 0 0 0-6-6h-20a6 6 0 0 0-6 6v26h-26a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6z"},child:[]}]})(t)}function PO(t){return Sn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zM104 424c0 13.3 10.7 24 24 24s24-10.7 24-24-10.7-24-24-24-24 10.7-24 24zm216-135.4v49c36.5 7.4 64 39.8 64 78.4v41.7c0 7.6-5.4 14.2-12.9 15.7l-32.2 6.4c-4.3.9-8.5-1.9-9.4-6.3l-3.1-15.7c-.9-4.3 1.9-8.6 6.3-9.4l19.3-3.9V416c0-62.8-96-65.1-96 1.9v26.7l19.3 3.9c4.3.9 7.1 5.1 6.3 9.4l-3.1 15.7c-.9 4.3-5.1 7.1-9.4 6.3l-31.2-4.2c-7.9-1.1-13.8-7.8-13.8-15.9V416c0-38.6 27.5-70.9 64-78.4v-45.2c-2.2.7-4.4 1.1-6.6 1.9-18 6.3-37.3 9.8-57.4 9.8s-39.4-3.5-57.4-9.8c-7.4-2.6-14.9-4.2-22.6-5.2v81.6c23.1 6.9 40 28.1 40 53.4 0 30.9-25.1 56-56 56s-56-25.1-56-56c0-25.3 16.9-46.5 40-53.4v-80.4C48.5 301 0 355.8 0 422.4v44.8C0 491.9 20.1 512 44.8 512h358.4c24.7 0 44.8-20.1 44.8-44.8v-44.8c0-72-56.8-130.3-128-133.8z"},child:[]}]})(t)}function CO(){return g.jsx("section",{className:"bg-white py-20 px-6 sm:px-10 lg:px-32",children:g.jsxs("div",{className:"text-center mb-14",children:[g.jsx(ve.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},viewport:{once:!0},className:"text-4xl sm:text-5xl font-bold text-blue-700 mb-4",children:"About Us"}),g.jsx(ve.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2,ease:"easeOut"},viewport:{once:!0},className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"We are revolutionizing healthcare access with cutting-edge technology and a user-first approach.Our platform bridges the gap between patients and top-tier healthcare professionals.With a focus on reliability and real-time access, we ensure every patient gets the care they deserve."})]})})}const zu=["https://img.freepik.com/free-vector/medical-center-template-design_23-2150148026.jpg","https://marketplace.canva.com/EAGKRVPLHsU/1/0/1600w/canva-green-and-white-modern-gradient-health-banner-fWIvneHZsvs.jpg","https://cdn.dribbble.com/userupload/36359533/file/original-609bc77a31f2670645b69587b9614dda.jpg?format=webp&resize=400x300&vertical=center"];function UI(){const[t,e]=V.useState(0);return V.useEffect(()=>{const n=setInterval(()=>{e(r=>(r+1)%zu.length)},3e3);return()=>clearInterval(n)},[]),g.jsxs("div",{className:"w-full flex flex-col items-center mt-7 px-4 sm:px-8 lg:px-0",children:[g.jsx("div",{className:"w-full max-w-4xl h-48 sm:h-45 lg:h-64 relative overflow-hidden rounded-xl shadow-lg",children:g.jsx(IO,{mode:"wait",children:g.jsx(ve.img,{src:zu[t],alt:"Banner",className:"w-full h-full object-cover absolute inset-0",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.8}},zu[t])})}),g.jsx("div",{className:"flex gap-2 mt-4",children:zu.map((n,r)=>g.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${r===t?"bg-blue-600 scale-110":"bg-gray-300"}`},r))})]})}const RO=[{title:"Register",content:"Create your account to get started with your clinic or hospital profile."},{title:"Add your profile",content:"Fill in essential information about your clinic or hospital, including services and contact details."},{title:"Get verified",content:"We’ll review your details and verify your listing to ensure credibility and quality."},{title:"Start live",content:"Once verified, your clinic goes live. Patients can now view live Token number online."}];function kO(){return g.jsxs("section",{className:"relative bg-white py-20 px-6 sm:px-10 lg:px-20 overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#ebf4ff] to-white -z-10 opacity-50"}),g.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-16",children:[g.jsx(ve.h2,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"text-4xl sm:text-5xl font-bold text-blue-500 mb-4",children:"List Your Clinic or Hospital"}),g.jsx(ve.p,{initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.2,duration:.6},className:"text-gray-700 text-lg sm:text-xl max-w-2xl mx-auto",children:"Just register your account and list your hospital with us. Your clients can then see live token status of their booked slots."})]}),g.jsx("div",{className:"flex justify-center",children:g.jsx("div",{className:"relative border-l-4 border-blue-200 ml-4 space-y-14 max-w-xl w-full px-4",children:RO.map((t,e)=>g.jsxs(ve.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},viewport:{once:!0},className:"relative pl-8",children:[g.jsx("span",{className:"absolute -left-5 top-1 w-4 h-4 rounded-full bg-blue-600 border-4 border-white shadow"}),g.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-2",children:t.title}),g.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:t.content})]},e))})})]})}function bO(){return g.jsxs("div",{className:"w-full min-h-[80vh] bg-slate-50 bg-[url('https://doccure-wp.dreamstechnologies.com/wp-content/uploads/2021/11/banner-bg.png')] bg-center bg-no-repeat bg-cover relative",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/50 to-transparent"}),g.jsx(UI,{}),g.jsx("div",{className:"relative py-12 px-4 sm:px-6 lg:px-12 lg:py-24 max-w-7xl mx-auto",children:g.jsxs(ve.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[g.jsx(ve.h1,{initial:{opacity:0,y:-40},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},className:"text-4xl sm:text-5xl lg:text-6xl text-[#272b41] font-bold mb-6 leading-tight text-center",children:"Track Your Turn in Real Time!"}),g.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-6 w-full max-w-2xl mx-auto mt-8",children:[g.jsxs(Jt,{to:"/hospitals",className:"flex-1 min-h-[120px] sm:min-h-[160px] rounded-xl shadow-xl p-4 sm:p-6 flex flex-col items-center justify-center transition hover:scale-105 hover:shadow-2xl bg-white/60 backdrop-blur-lg border border-white/20",style:{boxShadow:"0 6px 24px 0 rgba(31, 38, 135, 0.18)",backdropFilter:"blur(10px) saturate(160%)",WebkitBackdropFilter:"blur(10px) saturate(160%)",border:"1px solid rgba(255,255,255,0.2)"},children:[g.jsxs("div",{className:"flex flex-row sm:flex-col items-center gap-3",children:[g.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:g.jsx(AO,{className:"text-blue-500 w-8 h-8"})}),g.jsx("div",{children:g.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-[#0e82fd] mb-1 text-center sm:text-left",children:"Search by Hospital"})})]}),g.jsx("p",{className:"text-gray-600 text-sm mt-2 text-center",children:"Browse hospitals and clinics to find the right healthcare facility."})]}),g.jsxs(Jt,{to:"/doctors",className:"flex-1 min-h-[120px] sm:min-h-[160px] rounded-xl shadow-xl p-4 sm:p-6 flex flex-col items-center justify-center transition hover:scale-105 hover:shadow-2xl bg-white/30 backdrop-blur-md border border-white/20",style:{boxShadow:"0 6px 24px 0 rgba(31, 38, 135, 0.18)",backdropFilter:"blur(10px) saturate(160%)",WebkitBackdropFilter:"blur(10px) saturate(160%)",border:"1px solid rgba(255,255,255,0.2)"},children:[g.jsxs("div",{className:"flex flex-row sm:flex-col items-center gap-3",children:[g.jsx("div",{className:"bg-green-100 rounded-full p-3",children:g.jsx(PO,{className:"text-green-500 w-8 h-8"})}),g.jsx("div",{children:g.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-[#0e82fd] mb-1 text-center sm:text-left",children:"Search by Doctor"})})]}),g.jsx("p",{className:"text-gray-600 text-sm mt-2 text-center",children:"Find the best doctors for your needs and book appointments easily."})]})]})]})}),g.jsx(CO,{}),g.jsx(kO,{})]})}const NO=()=>{};var Ww={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},DO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},zI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,v=c&63;l||(v=64,o||(p=64)),r.push(n[h],n[d],n[p],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new VO;const p=s<<2|a>>4;if(r.push(p),c!==64){const v=a<<4&240|c>>2;if(r.push(v),d!==64){const E=c<<6&192|d;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class VO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OO=function(t){const e=BI(t);return zI.encodeByteArray(e,!0)},ah=function(t){return OO(t).replace(/\./g,"")},$I=function(t){try{return zI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=()=>LO().__FIREBASE_DEFAULTS__,jO=()=>{if(typeof process>"u"||typeof Ww>"u")return;const t=Ww.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},FO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$I(t[1]);return e&&JSON.parse(e)},rd=()=>{try{return NO()||MO()||jO()||FO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WI=t=>{var e,n;return(n=(e=rd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},HI=t=>{const e=WI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qI=()=>{var t;return(t=rd())==null?void 0:t.config},KI=t=>{var e;return(e=rd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ah(JSON.stringify(n)),ah(JSON.stringify(o)),""].join(".")}const Wa={};function BO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Wa))Wa[e]?t.emulator.push(e):t.prod.push(e);return t}function zO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Hw=!1;function fy(t,e){if(typeof window>"u"||typeof document>"u"||!Di(window.location.host)||Wa[t]===e||Wa[t]||Hw)return;Wa[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=BO().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,v){p.setAttribute("width","24"),p.setAttribute("id",v),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{Hw=!0,o()},p}function h(p,v){p.setAttribute("id",v),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function d(){const p=zO(r),v=n("text"),E=document.getElementById(v)||document.createElement("span"),S=n("learnmore"),I=document.getElementById(S)||document.createElement("a"),w=n("preprendIcon"),y=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const T=p.element;a(T),h(I,S);const k=c();l(y,w),T.append(y,E,I,k),document.body.appendChild(T)}s?(E.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $O(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function WO(){var e;const t=(e=rd())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function KO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GO(){const t=Dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QO(){return!WO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YO(){try{return typeof indexedDB=="object"}catch{return!1}}function XO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="FirebaseError";class or extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=JO,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?ZO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new or(i,a,r)}}function ZO(t,e){return t.replace(eL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const eL=/\{\$([^}]+)}/g;function tL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(qw(s)&&qw(o)){if(!fs(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function qw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Aa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Pa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function nL(t,e){const n=new rL(t,e);return n.subscribe.bind(n)}class rL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");iL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Vf),i.error===void 0&&(i.error=Vf),i.complete===void 0&&(i.complete=Vf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t){return t&&t._delegate?t._delegate:t}class _i{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new UO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aL(e))try{this.getOrInitializeService({instanceIdentifier:Qi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Qi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qi){return this.instances.has(e)}getOptions(e=Qi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qi){return this.component?this.component.multipleInstances?e:Qi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oL(t){return t===Qi?void 0:t}function aL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(he||(he={}));const uL={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},cL=he.INFO,hL={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},dL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=hL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class py{constructor(e){this.name=e,this._logLevel=cL,this._logHandler=dL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const fL=(t,e)=>e.some(n=>t instanceof n);let Kw,Gw;function pL(){return Kw||(Kw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mL(){return Gw||(Gw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QI=new WeakMap,lm=new WeakMap,YI=new WeakMap,Of=new WeakMap,my=new WeakMap;function gL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ci(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&QI.set(n,t)}).catch(()=>{}),my.set(e,t),e}function yL(t){if(lm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});lm.set(t,e)}let um={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ci(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vL(t){um=t(um)}function _L(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Lf(this),e,...n);return YI.set(r,e.sort?e.sort():[e]),ci(r)}:mL().includes(t)?function(...e){return t.apply(Lf(this),e),ci(QI.get(this))}:function(...e){return ci(t.apply(Lf(this),e))}}function wL(t){return typeof t=="function"?_L(t):(t instanceof IDBTransaction&&yL(t),fL(t,pL())?new Proxy(t,um):t)}function ci(t){if(t instanceof IDBRequest)return gL(t);if(Of.has(t))return Of.get(t);const e=wL(t);return e!==t&&(Of.set(t,e),my.set(e,t)),e}const Lf=t=>my.get(t);function EL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ci(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ci(o.result),l.oldVersion,l.newVersion,ci(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const TL=["get","getKey","getAll","getAllKeys","count"],xL=["put","add","delete","clear"],Mf=new Map;function Qw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mf.get(e))return Mf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=xL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||TL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Mf.set(e,s),s}vL(t=>({...t,get:(e,n,r)=>Qw(e,n)||t.get(e,n,r),has:(e,n)=>!!Qw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function IL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cm="@firebase/app",Yw="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=new py("@firebase/app"),AL="@firebase/app-compat",PL="@firebase/analytics-compat",CL="@firebase/analytics",RL="@firebase/app-check-compat",kL="@firebase/app-check",bL="@firebase/auth",NL="@firebase/auth-compat",DL="@firebase/database",VL="@firebase/data-connect",OL="@firebase/database-compat",LL="@firebase/functions",ML="@firebase/functions-compat",jL="@firebase/installations",FL="@firebase/installations-compat",UL="@firebase/messaging",BL="@firebase/messaging-compat",zL="@firebase/performance",$L="@firebase/performance-compat",WL="@firebase/remote-config",HL="@firebase/remote-config-compat",qL="@firebase/storage",KL="@firebase/storage-compat",GL="@firebase/firestore",QL="@firebase/ai",YL="@firebase/firestore-compat",XL="firebase",JL="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="[DEFAULT]",ZL={[cm]:"fire-core",[AL]:"fire-core-compat",[CL]:"fire-analytics",[PL]:"fire-analytics-compat",[kL]:"fire-app-check",[RL]:"fire-app-check-compat",[bL]:"fire-auth",[NL]:"fire-auth-compat",[DL]:"fire-rtdb",[VL]:"fire-data-connect",[OL]:"fire-rtdb-compat",[LL]:"fire-fn",[ML]:"fire-fn-compat",[jL]:"fire-iid",[FL]:"fire-iid-compat",[UL]:"fire-fcm",[BL]:"fire-fcm-compat",[zL]:"fire-perf",[$L]:"fire-perf-compat",[WL]:"fire-rc",[HL]:"fire-rc-compat",[qL]:"fire-gcs",[KL]:"fire-gcs-compat",[GL]:"fire-fst",[YL]:"fire-fst-compat",[QL]:"fire-vertex","fire-js":"fire-js",[XL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new Map,eM=new Map,dm=new Map;function Xw(t,e){try{t.container.addComponent(e)}catch(n){Rr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ps(t){const e=t.name;if(dm.has(e))return Rr.debug(`There were multiple attempts to register component ${e}.`),!1;dm.set(e,t);for(const n of lh.values())Xw(n,t);for(const n of eM.values())Xw(n,t);return!0}function id(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hi=new zl("app","Firebase",tM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _i("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=JL;function XI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:hm,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw hi.create("bad-app-name",{appName:String(i)});if(n||(n=qI()),!n)throw hi.create("no-options");const s=lh.get(i);if(s){if(fs(n,s.options)&&fs(r,s.config))return s;throw hi.create("duplicate-app",{appName:i})}const o=new lL(i);for(const l of dm.values())o.addComponent(l);const a=new nM(n,r,o);return lh.set(i,a),a}function gy(t=hm){const e=lh.get(t);if(!e&&t===hm&&qI())return XI();if(!e)throw hi.create("no-app",{appName:t});return e}function Xn(t,e,n){let r=ZL[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rr.warn(o.join(" "));return}ps(new _i(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM="firebase-heartbeat-database",iM=1,Tl="firebase-heartbeat-store";let jf=null;function JI(){return jf||(jf=EL(rM,iM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Tl)}catch(n){console.warn(n)}}}}).catch(t=>{throw hi.create("idb-open",{originalErrorMessage:t.message})})),jf}async function sM(t){try{const n=(await JI()).transaction(Tl),r=await n.objectStore(Tl).get(ZI(t));return await n.done,r}catch(e){if(e instanceof or)Rr.warn(e.message);else{const n=hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Rr.warn(n.message)}}}async function Jw(t,e){try{const r=(await JI()).transaction(Tl,"readwrite");await r.objectStore(Tl).put(e,ZI(t)),await r.done}catch(n){if(n instanceof or)Rr.warn(n.message);else{const r=hi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Rr.warn(r.message)}}}function ZI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=1024,aM=30;class lM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Zw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>aM){const o=hM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Rr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Zw(),{heartbeatsToSend:r,unsentEntries:i}=uM(this._heartbeatsCache.heartbeats),s=ah(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Rr.warn(n),""}}}function Zw(){return new Date().toISOString().substring(0,10)}function uM(t,e=oM){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),e1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),e1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class cM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YO()?XO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Jw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Jw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function e1(t){return ah(JSON.stringify({version:2,heartbeats:t})).length}function hM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(t){ps(new _i("platform-logger",e=>new SL(e),"PRIVATE")),ps(new _i("heartbeat",e=>new lM(e),"PRIVATE")),Xn(cm,Yw,t),Xn(cm,Yw,"esm2020"),Xn("fire-js","")}dM("");function eA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fM=eA,tA=new zl("auth","Firebase",eA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new py("@firebase/auth");function pM(t,...e){uh.logLevel<=he.WARN&&uh.warn(`Auth (${xs}): ${t}`,...e)}function dc(t,...e){uh.logLevel<=he.ERROR&&uh.error(`Auth (${xs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(t,...e){throw yy(t,...e)}function Jn(t,...e){return yy(t,...e)}function nA(t,e,n){const r={...fM(),[e]:n};return new zl("auth","Firebase",r).create(e,{appName:t.name})}function xr(t){return nA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tA.create(t,...e)}function ie(t,e,...n){if(!t)throw yy(e,...n)}function mr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dc(e),new Error(e)}function kr(t,e){t||mr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function mM(){return t1()==="http:"||t1()==="https:"}function t1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mM()||qO()||"connection"in navigator)?navigator.onLine:!0}function yM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n){this.shortDelay=e,this.longDelay=n,kr(n>e,"Short delay should be less than long delay!"),this.isMobile=$O()||KO()}get(){return gM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(t,e){kr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wM=new Wl(3e4,6e4);function Vi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Oi(t,e,n,r,i={}){return iA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=$l({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return HO()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Di(t.emulatorConfig.host)&&(c.credentials="include"),rA.fetch()(await sA(t,t.config.apiHost,n,a),c)})}async function iA(t,e,n){t._canInitEmulator=!1;const r={...vM,...e};try{const i=new TM(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw $u(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw $u(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw $u(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw $u(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw nA(t,h,c);jn(t,h)}}catch(i){if(i instanceof or)throw i;jn(t,"network-request-failed",{message:String(i)})}}async function Hl(t,e,n,r,i={}){const s=await Oi(t,e,n,r,i);return"mfaPendingCredential"in s&&jn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function sA(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?vy(t.config,i):`${t.config.apiScheme}://${i}`;return _M.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function EM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jn(this.auth,"network-request-failed")),wM.get())})}}function $u(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Jn(t,e,r);return i.customData._tokenResponse=n,i}function n1(t){return t!==void 0&&t.enterprise!==void 0}class xM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return EM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function SM(t,e){return Oi(t,"GET","/v2/recaptchaConfig",Vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IM(t,e){return Oi(t,"POST","/v1/accounts:delete",e)}async function ch(t,e){return Oi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AM(t,e=!1){const n=Le(t),r=await n.getIdToken(e),i=_y(r);ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ha(Ff(i.auth_time)),issuedAtTime:Ha(Ff(i.iat)),expirationTime:Ha(Ff(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ff(t){return Number(t)*1e3}function _y(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return dc("JWT malformed, contained fewer than 3 sections"),null;try{const i=$I(n);return i?JSON.parse(i):(dc("Failed to decode base64 JWT payload"),null)}catch(i){return dc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function r1(t){const e=_y(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof or&&PM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function PM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ha(this.lastLoginAt),this.creationTime=Ha(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(t){var d;const e=t.auth,n=await t.getIdToken(),r=await xl(t,ch(e,{idToken:n}));ie(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(d=i.providerUserInfo)!=null&&d.length?oA(i.providerUserInfo):[],o=kM(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new pm(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function RM(t){const e=Le(t);await hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function oA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bM(t,e){const n=await iA(t,{},async()=>{const r=$l({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await sA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Di(t.emulatorConfig.host)&&(l.credentials="include"),rA.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NM(t,e){return Oi(t,"POST","/v2/accounts:revokeToken",Vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):r1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const n=r1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await bM(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new po;return r&&(ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ie(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ie(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new po,this.toJSON())}_performRefresh(){return mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Nn{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new CM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new pm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await xl(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return AM(this,e)}reload(){return RM(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Nn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await hh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zt(this.auth.app))return Promise.reject(xr(this.auth));const e=await this.getIdToken();return await xl(this,IM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:d,emailVerified:p,isAnonymous:v,providerData:E,stsTokenManager:S}=n;ie(d&&S,e,"internal-error");const I=po.fromJSON(this.name,S);ie(typeof d=="string",e,"internal-error"),Fr(r,e.name),Fr(i,e.name),ie(typeof p=="boolean",e,"internal-error"),ie(typeof v=="boolean",e,"internal-error"),Fr(s,e.name),Fr(o,e.name),Fr(a,e.name),Fr(l,e.name),Fr(c,e.name),Fr(h,e.name);const w=new Nn({uid:d,auth:e,email:i,emailVerified:p,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:I,createdAt:c,lastLoginAt:h});return E&&Array.isArray(E)&&(w.providerData=E.map(y=>({...y}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(e,n,r=!1){const i=new po;i.updateFromServerResponse(n);const s=new Nn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await hh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ie(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?oA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new po;a.updateFromIdToken(r);const l=new Nn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new pm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=new Map;function gr(t){kr(t instanceof Function,"Expected a class definition");let e=i1.get(t);return e?(kr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,i1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aA.type="NONE";const s1=aA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(t,e,n){return`firebase:${t}:${e}:${n}`}class mo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=fc(this.userKey,i.apiKey,s),this.fullPersistenceKey=fc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ch(this.auth,{idToken:e}).catch(()=>{});return n?Nn._fromGetAccountInfoResponse(this.auth,n,e):null}return Nn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new mo(gr(s1),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||gr(s1);const o=fc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){let d;if(typeof h=="string"){const p=await ch(e,{idToken:h}).catch(()=>{});if(!p)break;d=await Nn._fromGetAccountInfoResponse(e,p,h)}else d=Nn._fromJSON(e,h);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new mo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new mo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fA(e))return"Blackberry";if(pA(e))return"Webos";if(uA(e))return"Safari";if((e.includes("chrome/")||cA(e))&&!e.includes("edge/"))return"Chrome";if(dA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lA(t=Dt()){return/firefox\//i.test(t)}function uA(t=Dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cA(t=Dt()){return/crios\//i.test(t)}function hA(t=Dt()){return/iemobile/i.test(t)}function dA(t=Dt()){return/android/i.test(t)}function fA(t=Dt()){return/blackberry/i.test(t)}function pA(t=Dt()){return/webos/i.test(t)}function wy(t=Dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function DM(t=Dt()){var e;return wy(t)&&!!((e=window.navigator)!=null&&e.standalone)}function VM(){return GO()&&document.documentMode===10}function mA(t=Dt()){return wy(t)||dA(t)||pA(t)||fA(t)||/windows phone/i.test(t)||hA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(t,e=[]){let n;switch(t){case"Browser":n=o1(Dt());break;case"Worker":n=`${o1(Dt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LM(t,e={}){return Oi(t,"GET","/v2/passwordPolicy",Vi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=6;class jM{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??MM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a1(this),this.idTokenSubscription=new a1(this),this.beforeStateQueue=new OM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ch(this,{idToken:e}),r=await Nn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Zt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zt(this.app))return Promise.reject(xr(this));const n=e?Le(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zt(this.app)?Promise.reject(xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zt(this.app)?Promise.reject(xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LM(this),n=new jM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await NM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gr(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Zt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&pM(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ss(t){return Le(t)}class a1{constructor(e){this.auth=e,this.observer=null,this.addObserver=nL(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UM(t){sd=t}function yA(t){return sd.loadJS(t)}function BM(){return sd.recaptchaEnterpriseScript}function zM(){return sd.gapiScript}function $M(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class WM{constructor(){this.enterprise=new HM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class HM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const qM="recaptcha-enterprise",vA="NO_RECAPTCHA";class KM{constructor(e){this.type=qM,this.auth=Ss(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{SM(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new xM(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;n1(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(vA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WM().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&n1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=BM();l.length!==0&&(l+=a),yA(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function l1(t,e,n,r=!1,i=!1){const s=new KM(t);let o;if(i)o=vA;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function mm(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await l1(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await l1(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(t,e){const n=id(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(fs(s,e??{}))return i;jn(i,"already-initialized")}return n.initialize({options:e})}function QM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function YM(t,e,n){const r=Ss(t);ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=_A(e),{host:o,port:a}=XM(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ie(fs(c,r.config.emulator)&&fs(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Di(o)?(dy(`${s}//${o}${l}`),fy("Auth",!0)):JM()}function _A(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function XM(t){const e=_A(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:u1(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:u1(o)}}}function u1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function JM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mr("not implemented")}_getIdTokenResponse(e){return mr("not implemented")}_linkToIdToken(e,n){return mr("not implemented")}_getReauthenticationResolver(e){return mr("not implemented")}}async function ZM(t,e){return Oi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e6(t,e){return Hl(t,"POST","/v1/accounts:signInWithPassword",Vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t6(t,e){return Hl(t,"POST","/v1/accounts:signInWithEmailLink",Vi(t,e))}async function n6(t,e){return Hl(t,"POST","/v1/accounts:signInWithEmailLink",Vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl extends Ey{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Sl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Sl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mm(e,n,"signInWithPassword",e6);case"emailLink":return t6(e,{email:this._email,oobCode:this._password});default:jn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mm(e,r,"signUpPassword",ZM);case"emailLink":return n6(e,{idToken:n,email:this._email,oobCode:this._password});default:jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(t,e){return Hl(t,"POST","/v1/accounts:signInWithIdp",Vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6="http://localhost";class ms extends Ey{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ms(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new ms(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return go(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,go(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,go(e,n)}buildRequest(){const e={requestUri:r6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$l(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function s6(t){const e=Aa(Pa(t)).link,n=e?Aa(Pa(e)).deep_link_id:null,r=Aa(Pa(t)).deep_link_id;return(r?Aa(Pa(r)).link:null)||r||n||e||t}class Ty{constructor(e){const n=Aa(Pa(e)),r=n.apiKey??null,i=n.oobCode??null,s=i6(n.mode??null);ie(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=s6(e);try{return new Ty(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.providerId=Bo.PROVIDER_ID}static credential(e,n){return Sl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ty.parseLink(n);return ie(r,"argument-error"),Sl._fromEmailAndCode(e,r.code,r.tenantId)}}Bo.PROVIDER_ID="password";Bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends wA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends ql{constructor(){super("facebook.com")}static credential(e){return ms._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ms._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qr.credential(n,r)}catch{return null}}}qr.GOOGLE_SIGN_IN_METHOD="google.com";qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends ql{constructor(){super("github.com")}static credential(e){return ms._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.GITHUB_SIGN_IN_METHOD="github.com";Kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends ql{constructor(){super("twitter.com")}static credential(e,n){return ms._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Gr.credential(n,r)}catch{return null}}}Gr.TWITTER_SIGN_IN_METHOD="twitter.com";Gr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o6(t,e){return Hl(t,"POST","/v1/accounts:signUp",Vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Nn._fromIdTokenResponse(e,r,i),o=c1(r);return new gs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=c1(r);return new gs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function c1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh extends or{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,dh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new dh(e,n,r,i)}}function EA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?dh._fromErrorAndOperation(t,s,e,r):s})}async function a6(t,e,n=!1){const r=await xl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return gs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l6(t,e,n=!1){const{auth:r}=t;if(Zt(r.app))return Promise.reject(xr(r));const i="reauthenticate";try{const s=await xl(t,EA(r,i,e,t),n);ie(s.idToken,r,"internal-error");const o=_y(s.idToken);ie(o,r,"internal-error");const{sub:a}=o;return ie(t.uid===a,r,"user-mismatch"),gs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&jn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TA(t,e,n=!1){if(Zt(t.app))return Promise.reject(xr(t));const r="signIn",i=await EA(t,r,e),s=await gs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function u6(t,e){return TA(Ss(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xA(t){const e=Ss(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function c6(t,e,n){if(Zt(t.app))return Promise.reject(xr(t));const r=Ss(t),o=await mm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",o6).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&xA(t),l}),a=await gs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function SA(t,e,n){return Zt(t.app)?Promise.reject(xr(t)):u6(Le(t),Bo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&xA(t),r})}function h6(t,e,n,r){return Le(t).onIdTokenChanged(e,n,r)}function d6(t,e,n){return Le(t).beforeAuthStateChanged(e,n)}function f6(t,e,n,r){return Le(t).onAuthStateChanged(e,n,r)}function p6(t){return Le(t).signOut()}const fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6=1e3,g6=10;class AA extends IA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);VM()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,g6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},m6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}AA.type="LOCAL";const y6=AA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA extends IA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}PA.type="SESSION";const CA=PA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new od(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await v6(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}od.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=xy("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const p=d;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(){return window}function w6(t){Zn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(){return typeof Zn().WorkerGlobalScope<"u"&&typeof Zn().importScripts=="function"}async function E6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function T6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function x6(){return RA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="firebaseLocalStorageDb",S6=1,ph="firebaseLocalStorage",bA="fbase_key";class Kl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ad(t,e){return t.transaction([ph],e?"readwrite":"readonly").objectStore(ph)}function I6(){const t=indexedDB.deleteDatabase(kA);return new Kl(t).toPromise()}function gm(){const t=indexedDB.open(kA,S6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ph,{keyPath:bA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ph)?e(r):(r.close(),await I6(),e(await gm()))})})}async function h1(t,e,n){const r=ad(t,!0).put({[bA]:e,value:n});return new Kl(r).toPromise()}async function A6(t,e){const n=ad(t,!1).get(e),r=await new Kl(n).toPromise();return r===void 0?null:r.value}function d1(t,e){const n=ad(t,!0).delete(e);return new Kl(n).toPromise()}const P6=800,C6=3;class NA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>C6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=od._getInstance(x6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await E6(),!this.activeServiceWorker)return;this.sender=new _6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||T6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gm();return await h1(e,fh,"1"),await d1(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>h1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>A6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>d1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ad(i,!1).getAll();return new Kl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),P6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NA.type="LOCAL";const R6=NA;new Wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k6(t,e){return e?gr(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy extends Ey{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return go(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function b6(t){return TA(t.auth,new Sy(t),t.bypassAuthState)}function N6(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),l6(n,new Sy(t),t.bypassAuthState)}async function D6(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),a6(n,new Sy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return b6;case"linkViaPopup":case"linkViaRedirect":return D6;case"reauthViaPopup":case"reauthViaRedirect":return N6;default:jn(this.auth,"internal-error")}}resolve(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6=new Wl(2e3,1e4);class oo extends DA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){kr(this.filter.length===1,"Popup operations only handle one event");const e=xy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,V6.get())};e()}}oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6="pendingRedirect",pc=new Map;class L6 extends DA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=pc.get(this.auth._key());if(!e){try{const r=await M6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}pc.set(this.auth._key(),e)}return this.bypassAuthState||pc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function M6(t,e){const n=U6(e),r=F6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function j6(t,e){pc.set(t._key(),e)}function F6(t){return gr(t._redirectPersistence)}function U6(t){return fc(O6,t.config.apiKey,t.name)}async function B6(t,e,n=!1){if(Zt(t.app))return Promise.reject(xr(t));const r=Ss(t),i=k6(r,e),o=await new L6(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6=10*60*1e3;class $6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!W6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!VA(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Jn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=z6&&this.cachedEventUids.clear(),this.cachedEventUids.has(f1(e))}saveEventToCache(e){this.cachedEventUids.add(f1(e)),this.lastProcessedEventTime=Date.now()}}function f1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function VA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function W6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H6(t,e={}){return Oi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,K6=/^https?/;async function G6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await H6(t);for(const n of e)try{if(Q6(n))return}catch{}jn(t,"unauthorized-domain")}function Q6(t){const e=fm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!K6.test(n))return!1;if(q6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=new Wl(3e4,6e4);function p1(){const t=Zn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function X6(t){return new Promise((e,n)=>{var i,s,o;function r(){p1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{p1(),n(Jn(t,"network-request-failed"))},timeout:Y6.get()})}if((s=(i=Zn().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=Zn().gapi)!=null&&o.load)r();else{const a=$M("iframefcb");return Zn()[a]=()=>{gapi.load?r():n(Jn(t,"network-request-failed"))},yA(`${zM()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw mc=null,e})}let mc=null;function J6(t){return mc=mc||X6(t),mc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=new Wl(5e3,15e3),e3="__/auth/iframe",t3="emulator/auth/iframe",n3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},r3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i3(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vy(e,t3):`https://${t.config.authDomain}/${e3}`,r={apiKey:e.apiKey,appName:t.name,v:xs},i=r3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${$l(r).slice(1)}`}async function s3(t){const e=await J6(t),n=Zn().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:i3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Jn(t,"network-request-failed"),a=Zn().setTimeout(()=>{s(o)},Z6.get());function l(){Zn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},a3=500,l3=600,u3="_blank",c3="http://localhost";class m1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function h3(t,e,n,r=a3,i=l3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...o3,width:r.toString(),height:i.toString(),top:s,left:o},c=Dt().toLowerCase();n&&(a=cA(c)?u3:n),lA(c)&&(e=e||c3,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[v,E])=>`${p}${v}=${E},`,"");if(DM(c)&&a!=="_self")return d3(e||"",a),new m1(null);const d=window.open(e||"",a,h);ie(d,t,"popup-blocked");try{d.focus()}catch{}return new m1(d)}function d3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3="__/auth/handler",p3="emulator/auth/handler",m3=encodeURIComponent("fac");async function g1(t,e,n,r,i,s){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xs,eventId:i};if(e instanceof wA){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",tL(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof ql){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${m3}=${encodeURIComponent(l)}`:"";return`${g3(t)}?${$l(a).slice(1)}${c}`}function g3({config:t}){return t.emulator?vy(t,p3):`https://${t.authDomain}/${f3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="webStorageSupport";class y3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CA,this._completeRedirectFn=B6,this._overrideRedirectResult=j6}async _openPopup(e,n,r,i){var o;kr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await g1(e,n,r,fm(),i);return h3(e,s,xy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await g1(e,n,r,fm(),i);return w6(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(kr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await s3(e),r=new $6(e);return n.register("authEvent",i=>(ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Uf,{type:Uf},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[Uf];s!==void 0&&n(!!s),jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=G6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mA()||uA()||wy()}}const v3=y3;var y1="@firebase/auth",v1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E3(t){ps(new _i("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gA(t)},c=new FM(r,i,s,l);return QM(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ps(new _i("auth-internal",e=>{const n=Ss(e.getProvider("auth").getImmediate());return(r=>new _3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xn(y1,v1,w3(t)),Xn(y1,v1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=5*60,x3=KI("authIdTokenMaxAge")||T3;let _1=null;const S3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>x3)return;const i=n==null?void 0:n.token;_1!==i&&(_1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function I3(t=gy()){const e=id(t,"auth");if(e.isInitialized())return e.getImmediate();const n=GM(t,{popupRedirectResolver:v3,persistence:[R6,y6,CA]}),r=KI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=S3(s.toString());d6(n,o,()=>o(n.currentUser)),h6(n,a=>o(a))}}const i=WI("auth");return i&&YM(n,`http://${i}`),n}function A3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}UM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Jn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",A3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E3("Browser");function P3(t){return Sn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M278.6 256l68.2-68.2c6.2-6.2 6.2-16.4 0-22.6-6.2-6.2-16.4-6.2-22.6 0L256 233.4l-68.2-68.2c-6.2-6.2-16.4-6.2-22.6 0-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3l68.2 68.2-68.2 68.2c-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3 6.2 6.2 16.4 6.2 22.6 0l68.2-68.2 68.2 68.2c6.2 6.2 16.4 6.2 22.6 0 6.2-6.2 6.2-16.4 0-22.6L278.6 256z"},child:[]}]})(t)}var C3="firebase",R3="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn(C3,R3,"app");var w1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var di,OA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,_){function A(){}A.prototype=_.prototype,C.D=_.prototype,C.prototype=new A,C.prototype.constructor=C,C.C=function(R,D,N){for(var P=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)P[pe-2]=arguments[pe];return _.prototype[D].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,_,A){A||(A=0);var R=Array(16);if(typeof _=="string")for(var D=0;16>D;++D)R[D]=_.charCodeAt(A++)|_.charCodeAt(A++)<<8|_.charCodeAt(A++)<<16|_.charCodeAt(A++)<<24;else for(D=0;16>D;++D)R[D]=_[A++]|_[A++]<<8|_[A++]<<16|_[A++]<<24;_=C.g[0],A=C.g[1],D=C.g[2];var N=C.g[3],P=_+(N^A&(D^N))+R[0]+3614090360&4294967295;_=A+(P<<7&4294967295|P>>>25),P=N+(D^_&(A^D))+R[1]+3905402710&4294967295,N=_+(P<<12&4294967295|P>>>20),P=D+(A^N&(_^A))+R[2]+606105819&4294967295,D=N+(P<<17&4294967295|P>>>15),P=A+(_^D&(N^_))+R[3]+3250441966&4294967295,A=D+(P<<22&4294967295|P>>>10),P=_+(N^A&(D^N))+R[4]+4118548399&4294967295,_=A+(P<<7&4294967295|P>>>25),P=N+(D^_&(A^D))+R[5]+1200080426&4294967295,N=_+(P<<12&4294967295|P>>>20),P=D+(A^N&(_^A))+R[6]+2821735955&4294967295,D=N+(P<<17&4294967295|P>>>15),P=A+(_^D&(N^_))+R[7]+4249261313&4294967295,A=D+(P<<22&4294967295|P>>>10),P=_+(N^A&(D^N))+R[8]+1770035416&4294967295,_=A+(P<<7&4294967295|P>>>25),P=N+(D^_&(A^D))+R[9]+2336552879&4294967295,N=_+(P<<12&4294967295|P>>>20),P=D+(A^N&(_^A))+R[10]+4294925233&4294967295,D=N+(P<<17&4294967295|P>>>15),P=A+(_^D&(N^_))+R[11]+2304563134&4294967295,A=D+(P<<22&4294967295|P>>>10),P=_+(N^A&(D^N))+R[12]+1804603682&4294967295,_=A+(P<<7&4294967295|P>>>25),P=N+(D^_&(A^D))+R[13]+4254626195&4294967295,N=_+(P<<12&4294967295|P>>>20),P=D+(A^N&(_^A))+R[14]+2792965006&4294967295,D=N+(P<<17&4294967295|P>>>15),P=A+(_^D&(N^_))+R[15]+1236535329&4294967295,A=D+(P<<22&4294967295|P>>>10),P=_+(D^N&(A^D))+R[1]+4129170786&4294967295,_=A+(P<<5&4294967295|P>>>27),P=N+(A^D&(_^A))+R[6]+3225465664&4294967295,N=_+(P<<9&4294967295|P>>>23),P=D+(_^A&(N^_))+R[11]+643717713&4294967295,D=N+(P<<14&4294967295|P>>>18),P=A+(N^_&(D^N))+R[0]+3921069994&4294967295,A=D+(P<<20&4294967295|P>>>12),P=_+(D^N&(A^D))+R[5]+3593408605&4294967295,_=A+(P<<5&4294967295|P>>>27),P=N+(A^D&(_^A))+R[10]+38016083&4294967295,N=_+(P<<9&4294967295|P>>>23),P=D+(_^A&(N^_))+R[15]+3634488961&4294967295,D=N+(P<<14&4294967295|P>>>18),P=A+(N^_&(D^N))+R[4]+3889429448&4294967295,A=D+(P<<20&4294967295|P>>>12),P=_+(D^N&(A^D))+R[9]+568446438&4294967295,_=A+(P<<5&4294967295|P>>>27),P=N+(A^D&(_^A))+R[14]+3275163606&4294967295,N=_+(P<<9&4294967295|P>>>23),P=D+(_^A&(N^_))+R[3]+4107603335&4294967295,D=N+(P<<14&4294967295|P>>>18),P=A+(N^_&(D^N))+R[8]+1163531501&4294967295,A=D+(P<<20&4294967295|P>>>12),P=_+(D^N&(A^D))+R[13]+2850285829&4294967295,_=A+(P<<5&4294967295|P>>>27),P=N+(A^D&(_^A))+R[2]+4243563512&4294967295,N=_+(P<<9&4294967295|P>>>23),P=D+(_^A&(N^_))+R[7]+1735328473&4294967295,D=N+(P<<14&4294967295|P>>>18),P=A+(N^_&(D^N))+R[12]+2368359562&4294967295,A=D+(P<<20&4294967295|P>>>12),P=_+(A^D^N)+R[5]+4294588738&4294967295,_=A+(P<<4&4294967295|P>>>28),P=N+(_^A^D)+R[8]+2272392833&4294967295,N=_+(P<<11&4294967295|P>>>21),P=D+(N^_^A)+R[11]+1839030562&4294967295,D=N+(P<<16&4294967295|P>>>16),P=A+(D^N^_)+R[14]+4259657740&4294967295,A=D+(P<<23&4294967295|P>>>9),P=_+(A^D^N)+R[1]+2763975236&4294967295,_=A+(P<<4&4294967295|P>>>28),P=N+(_^A^D)+R[4]+1272893353&4294967295,N=_+(P<<11&4294967295|P>>>21),P=D+(N^_^A)+R[7]+4139469664&4294967295,D=N+(P<<16&4294967295|P>>>16),P=A+(D^N^_)+R[10]+3200236656&4294967295,A=D+(P<<23&4294967295|P>>>9),P=_+(A^D^N)+R[13]+681279174&4294967295,_=A+(P<<4&4294967295|P>>>28),P=N+(_^A^D)+R[0]+3936430074&4294967295,N=_+(P<<11&4294967295|P>>>21),P=D+(N^_^A)+R[3]+3572445317&4294967295,D=N+(P<<16&4294967295|P>>>16),P=A+(D^N^_)+R[6]+76029189&4294967295,A=D+(P<<23&4294967295|P>>>9),P=_+(A^D^N)+R[9]+3654602809&4294967295,_=A+(P<<4&4294967295|P>>>28),P=N+(_^A^D)+R[12]+3873151461&4294967295,N=_+(P<<11&4294967295|P>>>21),P=D+(N^_^A)+R[15]+530742520&4294967295,D=N+(P<<16&4294967295|P>>>16),P=A+(D^N^_)+R[2]+3299628645&4294967295,A=D+(P<<23&4294967295|P>>>9),P=_+(D^(A|~N))+R[0]+4096336452&4294967295,_=A+(P<<6&4294967295|P>>>26),P=N+(A^(_|~D))+R[7]+1126891415&4294967295,N=_+(P<<10&4294967295|P>>>22),P=D+(_^(N|~A))+R[14]+2878612391&4294967295,D=N+(P<<15&4294967295|P>>>17),P=A+(N^(D|~_))+R[5]+4237533241&4294967295,A=D+(P<<21&4294967295|P>>>11),P=_+(D^(A|~N))+R[12]+1700485571&4294967295,_=A+(P<<6&4294967295|P>>>26),P=N+(A^(_|~D))+R[3]+2399980690&4294967295,N=_+(P<<10&4294967295|P>>>22),P=D+(_^(N|~A))+R[10]+4293915773&4294967295,D=N+(P<<15&4294967295|P>>>17),P=A+(N^(D|~_))+R[1]+2240044497&4294967295,A=D+(P<<21&4294967295|P>>>11),P=_+(D^(A|~N))+R[8]+1873313359&4294967295,_=A+(P<<6&4294967295|P>>>26),P=N+(A^(_|~D))+R[15]+4264355552&4294967295,N=_+(P<<10&4294967295|P>>>22),P=D+(_^(N|~A))+R[6]+2734768916&4294967295,D=N+(P<<15&4294967295|P>>>17),P=A+(N^(D|~_))+R[13]+1309151649&4294967295,A=D+(P<<21&4294967295|P>>>11),P=_+(D^(A|~N))+R[4]+4149444226&4294967295,_=A+(P<<6&4294967295|P>>>26),P=N+(A^(_|~D))+R[11]+3174756917&4294967295,N=_+(P<<10&4294967295|P>>>22),P=D+(_^(N|~A))+R[2]+718787259&4294967295,D=N+(P<<15&4294967295|P>>>17),P=A+(N^(D|~_))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+_&4294967295,C.g[1]=C.g[1]+(D+(P<<21&4294967295|P>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+N&4294967295}r.prototype.u=function(C,_){_===void 0&&(_=C.length);for(var A=_-this.blockSize,R=this.B,D=this.h,N=0;N<_;){if(D==0)for(;N<=A;)i(this,C,N),N+=this.blockSize;if(typeof C=="string"){for(;N<_;)if(R[D++]=C.charCodeAt(N++),D==this.blockSize){i(this,R),D=0;break}}else for(;N<_;)if(R[D++]=C[N++],D==this.blockSize){i(this,R),D=0;break}}this.h=D,this.o+=_},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var _=1;_<C.length-8;++_)C[_]=0;var A=8*this.o;for(_=C.length-8;_<C.length;++_)C[_]=A&255,A/=256;for(this.u(C),C=Array(16),_=A=0;4>_;++_)for(var R=0;32>R;R+=8)C[A++]=this.g[_]>>>R&255;return C};function s(C,_){var A=a;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=_(C)}function o(C,_){this.h=_;for(var A=[],R=!0,D=C.length-1;0<=D;D--){var N=C[D]|0;R&&N==_||(A[D]=N,R=!1)}this.g=A}var a={};function l(C){return-128<=C&&128>C?s(C,function(_){return new o([_|0],0>_?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return d;if(0>C)return I(c(-C));for(var _=[],A=1,R=0;C>=A;R++)_[R]=C/A|0,A*=4294967296;return new o(_,0)}function h(C,_){if(C.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C.charAt(0)=="-")return I(h(C.substring(1),_));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(_,8)),R=d,D=0;D<C.length;D+=8){var N=Math.min(8,C.length-D),P=parseInt(C.substring(D,D+N),_);8>N?(N=c(Math.pow(_,N)),R=R.j(N).add(c(P))):(R=R.j(A),R=R.add(c(P)))}return R}var d=l(0),p=l(1),v=l(16777216);t=o.prototype,t.m=function(){if(S(this))return-I(this).m();for(var C=0,_=1,A=0;A<this.g.length;A++){var R=this.i(A);C+=(0<=R?R:4294967296+R)*_,_*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(E(this))return"0";if(S(this))return"-"+I(this).toString(C);for(var _=c(Math.pow(C,6)),A=this,R="";;){var D=k(A,_).g;A=w(A,D.j(_));var N=((0<A.g.length?A.g[0]:A.h)>>>0).toString(C);if(A=D,E(A))return N+R;for(;6>N.length;)N="0"+N;R=N+R}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function E(C){if(C.h!=0)return!1;for(var _=0;_<C.g.length;_++)if(C.g[_]!=0)return!1;return!0}function S(C){return C.h==-1}t.l=function(C){return C=w(this,C),S(C)?-1:E(C)?0:1};function I(C){for(var _=C.g.length,A=[],R=0;R<_;R++)A[R]=~C.g[R];return new o(A,~C.h).add(p)}t.abs=function(){return S(this)?I(this):this},t.add=function(C){for(var _=Math.max(this.g.length,C.g.length),A=[],R=0,D=0;D<=_;D++){var N=R+(this.i(D)&65535)+(C.i(D)&65535),P=(N>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);R=P>>>16,N&=65535,P&=65535,A[D]=P<<16|N}return new o(A,A[A.length-1]&-2147483648?-1:0)};function w(C,_){return C.add(I(_))}t.j=function(C){if(E(this)||E(C))return d;if(S(this))return S(C)?I(this).j(I(C)):I(I(this).j(C));if(S(C))return I(this.j(I(C)));if(0>this.l(v)&&0>C.l(v))return c(this.m()*C.m());for(var _=this.g.length+C.g.length,A=[],R=0;R<2*_;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<C.g.length;D++){var N=this.i(R)>>>16,P=this.i(R)&65535,pe=C.i(D)>>>16,Re=C.i(D)&65535;A[2*R+2*D]+=P*Re,y(A,2*R+2*D),A[2*R+2*D+1]+=N*Re,y(A,2*R+2*D+1),A[2*R+2*D+1]+=P*pe,y(A,2*R+2*D+1),A[2*R+2*D+2]+=N*pe,y(A,2*R+2*D+2)}for(R=0;R<_;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=_;R<2*_;R++)A[R]=0;return new o(A,0)};function y(C,_){for(;(C[_]&65535)!=C[_];)C[_+1]+=C[_]>>>16,C[_]&=65535,_++}function T(C,_){this.g=C,this.h=_}function k(C,_){if(E(_))throw Error("division by zero");if(E(C))return new T(d,d);if(S(C))return _=k(I(C),_),new T(I(_.g),I(_.h));if(S(_))return _=k(C,I(_)),new T(I(_.g),_.h);if(30<C.g.length){if(S(C)||S(_))throw Error("slowDivide_ only works with positive integers.");for(var A=p,R=_;0>=R.l(C);)A=M(A),R=M(R);var D=B(A,1),N=B(R,1);for(R=B(R,2),A=B(A,2);!E(R);){var P=N.add(R);0>=P.l(C)&&(D=D.add(A),N=P),R=B(R,1),A=B(A,1)}return _=w(C,D.j(_)),new T(D,_)}for(D=d;0<=C.l(_);){for(A=Math.max(1,Math.floor(C.m()/_.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),N=c(A),P=N.j(_);S(P)||0<P.l(C);)A-=R,N=c(A),P=N.j(_);E(N)&&(N=p),D=D.add(N),C=w(C,P)}return new T(D,C)}t.A=function(C){return k(this,C).h},t.and=function(C){for(var _=Math.max(this.g.length,C.g.length),A=[],R=0;R<_;R++)A[R]=this.i(R)&C.i(R);return new o(A,this.h&C.h)},t.or=function(C){for(var _=Math.max(this.g.length,C.g.length),A=[],R=0;R<_;R++)A[R]=this.i(R)|C.i(R);return new o(A,this.h|C.h)},t.xor=function(C){for(var _=Math.max(this.g.length,C.g.length),A=[],R=0;R<_;R++)A[R]=this.i(R)^C.i(R);return new o(A,this.h^C.h)};function M(C){for(var _=C.g.length+1,A=[],R=0;R<_;R++)A[R]=C.i(R)<<1|C.i(R-1)>>>31;return new o(A,C.h)}function B(C,_){var A=_>>5;_%=32;for(var R=C.g.length-A,D=[],N=0;N<R;N++)D[N]=0<_?C.i(N+A)>>>_|C.i(N+A+1)<<32-_:C.i(N+A);return new o(D,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,OA=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,di=o}).apply(typeof w1<"u"?w1:typeof self<"u"?self:typeof window<"u"?window:{});var Wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LA,Ca,MA,gc,ym,jA,FA,UA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,m){return u==Array.prototype||u==Object.prototype||(u[f]=m.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wu=="object"&&Wu];for(var f=0;f<u.length;++f){var m=u[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(u,f){if(f)e:{var m=r;u=u.split(".");for(var x=0;x<u.length-1;x++){var O=u[x];if(!(O in m))break e;m=m[O]}u=u[u.length-1],x=m[u],f=f(x),f!=x&&f!=null&&e(m,u,{configurable:!0,writable:!0,value:f})}}function s(u,f){u instanceof String&&(u+="");var m=0,x=!1,O={next:function(){if(!x&&m<u.length){var j=m++;return{value:f(j,u[j]),done:!1}}return x=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}i("Array.prototype.values",function(u){return u||function(){return s(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function c(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function h(u,f,m){return u.call.apply(u.bind,arguments)}function d(u,f,m){if(!u)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,x),u.apply(f,O)}}return function(){return u.apply(f,arguments)}}function p(u,f,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,p.apply(null,arguments)}function v(u,f){var m=Array.prototype.slice.call(arguments,1);return function(){var x=m.slice();return x.push.apply(x,arguments),u.apply(this,x)}}function E(u,f){function m(){}m.prototype=f.prototype,u.aa=f.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(x,O,j){for(var q=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)q[Ie-2]=arguments[Ie];return f.prototype[O].apply(x,q)}}function S(u){const f=u.length;if(0<f){const m=Array(f);for(let x=0;x<f;x++)m[x]=u[x];return m}return[]}function I(u,f){for(let m=1;m<arguments.length;m++){const x=arguments[m];if(l(x)){const O=u.length||0,j=x.length||0;u.length=O+j;for(let q=0;q<j;q++)u[O+q]=x[q]}else u.push(x)}}class w{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function y(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function k(u){return k[" "](u),u}k[" "]=function(){};var M=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function B(u,f,m){for(const x in u)f.call(m,u[x],x,u)}function C(u,f){for(const m in u)f.call(void 0,u[m],m,u)}function _(u){const f={};for(const m in u)f[m]=u[m];return f}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,f){let m,x;for(let O=1;O<arguments.length;O++){x=arguments[O];for(m in x)u[m]=x[m];for(let j=0;j<A.length;j++)m=A[j],Object.prototype.hasOwnProperty.call(x,m)&&(u[m]=x[m])}}function D(u){var f=1;u=u.split(":");const m=[];for(;0<f&&u.length;)m.push(u.shift()),f--;return u.length&&m.push(u.join(":")),m}function N(u){a.setTimeout(()=>{throw u},0)}function P(){var u=Z;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class pe{constructor(){this.h=this.g=null}add(f,m){const x=Re.get();x.set(f,m),this.h?this.h.next=x:this.g=x,this.h=x}}var Re=new w(()=>new ut,u=>u.reset());class ut{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,H=!1,Z=new pe,ne=()=>{const u=a.Promise.resolve(void 0);ue=()=>{u.then(Ae)}};var Ae=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(m){N(m)}var f=Re;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}H=!1};function Ee(){this.s=this.s,this.C=this.C}Ee.prototype.s=!1,Ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Me(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}Me.prototype.h=function(){this.defaultPrevented=!0};var cn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return u}();function In(u,f){if(Me.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,x=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(M){e:{try{k(f.nodeName);var O=!0;break e}catch{}O=!1}O||(f=null)}}else m=="mouseover"?f=u.fromElement:m=="mouseout"&&(f=u.toElement);this.relatedTarget=f,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Qt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&In.aa.h.call(this)}}E(In,Me);var Qt={2:"touch",3:"pen",4:"mouse"};In.prototype.h=function(){In.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var hn="closure_listenable_"+(1e6*Math.random()|0),qo=0;function nu(u,f,m,x,O){this.listener=u,this.proxy=null,this.src=f,this.type=m,this.capture=!!x,this.ha=O,this.key=++qo,this.da=this.fa=!1}function Cs(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ji(u){this.src=u,this.g={},this.h=0}ji.prototype.add=function(u,f,m,x,O){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var q=Rs(u,f,x,O);return-1<q?(f=u[q],m||(f.fa=!1)):(f=new nu(f,this.src,j,!!x,O),f.fa=m,u.push(f)),f};function Ko(u,f){var m=f.type;if(m in u.g){var x=u.g[m],O=Array.prototype.indexOf.call(x,f,void 0),j;(j=0<=O)&&Array.prototype.splice.call(x,O,1),j&&(Cs(f),u.g[m].length==0&&(delete u.g[m],u.h--))}}function Rs(u,f,m,x){for(var O=0;O<u.length;++O){var j=u[O];if(!j.da&&j.listener==f&&j.capture==!!m&&j.ha==x)return O}return-1}var ks="closure_lm_"+(1e6*Math.random()|0),ru={};function bd(u,f,m,x,O){if(Array.isArray(f)){for(var j=0;j<f.length;j++)bd(u,f[j],m,x,O);return null}return m=le(m),u&&u[hn]?u.K(f,m,c(x)?!!x.capture:!!x,O):wv(u,f,m,!1,x,O)}function wv(u,f,m,x,O,j){if(!f)throw Error("Invalid event type");var q=c(O)?!!O.capture:!!O,Ie=W(u);if(Ie||(u[ks]=Ie=new ji(u)),m=Ie.add(f,m,x,q,j),m.proxy)return m;if(x=b(),m.proxy=x,x.src=u,x.listener=m,u.addEventListener)cn||(O=q),O===void 0&&(O=!1),u.addEventListener(f.toString(),x,O);else if(u.attachEvent)u.attachEvent(G(f.toString()),x);else if(u.addListener&&u.removeListener)u.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return m}function b(){function u(m){return f.call(u.src,u.listener,m)}const f=K;return u}function L(u,f,m,x,O){if(Array.isArray(f))for(var j=0;j<f.length;j++)L(u,f[j],m,x,O);else x=c(x)?!!x.capture:!!x,m=le(m),u&&u[hn]?(u=u.i,f=String(f).toString(),f in u.g&&(j=u.g[f],m=Rs(j,m,x,O),-1<m&&(Cs(j[m]),Array.prototype.splice.call(j,m,1),j.length==0&&(delete u.g[f],u.h--)))):u&&(u=W(u))&&(f=u.g[f.toString()],u=-1,f&&(u=Rs(f,m,x,O)),(m=-1<u?f[u]:null)&&F(m))}function F(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[hn])Ko(f.i,u);else{var m=u.type,x=u.proxy;f.removeEventListener?f.removeEventListener(m,x,u.capture):f.detachEvent?f.detachEvent(G(m),x):f.addListener&&f.removeListener&&f.removeListener(x),(m=W(f))?(Ko(m,u),m.h==0&&(m.src=null,f[ks]=null)):Cs(u)}}}function G(u){return u in ru?ru[u]:ru[u]="on"+u}function K(u,f){if(u.da)u=!0;else{f=new In(f,this);var m=u.listener,x=u.ha||u.src;u.fa&&F(u),u=m.call(x,f)}return u}function W(u){return u=u[ks],u instanceof ji?u:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function le(u){return typeof u=="function"?u:(u[ee]||(u[ee]=function(f){return u.handleEvent(f)}),u[ee])}function me(){Ee.call(this),this.i=new ji(this),this.M=this,this.F=null}E(me,Ee),me.prototype[hn]=!0,me.prototype.removeEventListener=function(u,f,m,x){L(this,u,f,m,x)};function ge(u,f){var m,x=u.F;if(x)for(m=[];x;x=x.F)m.push(x);if(u=u.M,x=f.type||f,typeof f=="string")f=new Me(f,u);else if(f instanceof Me)f.target=f.target||u;else{var O=f;f=new Me(x,u),R(f,O)}if(O=!0,m)for(var j=m.length-1;0<=j;j--){var q=f.g=m[j];O=dn(q,x,!0,f)&&O}if(q=f.g=u,O=dn(q,x,!0,f)&&O,O=dn(q,x,!1,f)&&O,m)for(j=0;j<m.length;j++)q=f.g=m[j],O=dn(q,x,!1,f)&&O}me.prototype.N=function(){if(me.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var m=u.g[f],x=0;x<m.length;x++)Cs(m[x]);delete u.g[f],u.h--}}this.F=null},me.prototype.K=function(u,f,m,x){return this.i.add(String(u),f,!1,m,x)},me.prototype.L=function(u,f,m,x){return this.i.add(String(u),f,!0,m,x)};function dn(u,f,m,x){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var O=!0,j=0;j<f.length;++j){var q=f[j];if(q&&!q.da&&q.capture==m){var Ie=q.listener,ft=q.ha||q.src;q.fa&&Ko(u.i,q),O=Ie.call(ft,x)!==!1&&O}}return O&&!x.defaultPrevented}function iu(u,f,m){if(typeof u=="function")m&&(u=p(u,m));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(u,f||0)}function bs(u){u.g=iu(()=>{u.g=null,u.i&&(u.i=!1,bs(u))},u.l);const f=u.h;u.h=null,u.m.apply(null,f)}class Go extends Ee{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:bs(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fi(u){Ee.call(this),this.h=u,this.g={}}E(Fi,Ee);var Qo=[];function su(u){B(u.g,function(f,m){this.g.hasOwnProperty(m)&&F(f)},u),u.g={}}Fi.prototype.N=function(){Fi.aa.N.call(this),su(this)},Fi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ns=a.JSON.stringify,zC=a.JSON.parse,$C=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Nd(){}Nd.prototype.h=null;function Ev(u){return u.h||(u.h=u.i())}function Tv(){}var Yo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dd(){Me.call(this,"d")}E(Dd,Me);function Vd(){Me.call(this,"c")}E(Vd,Me);var Ui={},xv=null;function ou(){return xv=xv||new me}Ui.La="serverreachability";function Sv(u){Me.call(this,Ui.La,u)}E(Sv,Me);function Xo(u){const f=ou();ge(f,new Sv(f))}Ui.STAT_EVENT="statevent";function Iv(u,f){Me.call(this,Ui.STAT_EVENT,u),this.stat=f}E(Iv,Me);function Vt(u){const f=ou();ge(f,new Iv(f,u))}Ui.Ma="timingevent";function Av(u,f){Me.call(this,Ui.Ma,u),this.size=f}E(Av,Me);function Jo(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},f)}function Zo(){this.g=!0}Zo.prototype.xa=function(){this.g=!1};function WC(u,f,m,x,O,j){u.info(function(){if(u.g)if(j)for(var q="",Ie=j.split("&"),ft=0;ft<Ie.length;ft++){var we=Ie[ft].split("=");if(1<we.length){var Et=we[0];we=we[1];var Tt=Et.split("_");q=2<=Tt.length&&Tt[1]=="type"?q+(Et+"="+we+"&"):q+(Et+"=redacted&")}}else q=null;else q=j;return"XMLHTTP REQ ("+x+") [attempt "+O+"]: "+f+`
`+m+`
`+q})}function HC(u,f,m,x,O,j,q){u.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+O+"]: "+f+`
`+m+`
`+j+" "+q})}function Ds(u,f,m,x){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+KC(u,m)+(x?" "+x:"")})}function qC(u,f){u.info(function(){return"TIMEOUT: "+f})}Zo.prototype.info=function(){};function KC(u,f){if(!u.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var x=m[u];if(!(2>x.length)){var O=x[1];if(Array.isArray(O)&&!(1>O.length)){var j=O[0];if(j!="noop"&&j!="stop"&&j!="close")for(var q=1;q<O.length;q++)O[q]=""}}}}return Ns(m)}catch{return f}}var au={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Od;function lu(){}E(lu,Nd),lu.prototype.g=function(){return new XMLHttpRequest},lu.prototype.i=function(){return{}},Od=new lu;function Or(u,f,m,x){this.j=u,this.i=f,this.l=m,this.R=x||1,this.U=new Fi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cv}function Cv(){this.i=null,this.g="",this.h=!1}var Rv={},Ld={};function Md(u,f,m){u.L=1,u.v=du(ar(f)),u.m=m,u.P=!0,kv(u,null)}function kv(u,f){u.F=Date.now(),uu(u),u.A=ar(u.v);var m=u.A,x=u.R;Array.isArray(x)||(x=[String(x)]),Wv(m.i,"t",x),u.C=0,m=u.j.J,u.h=new Cv,u.g=l0(u.j,m?f:null,!u.m),0<u.O&&(u.M=new Go(p(u.Y,u,u.g),u.O)),f=u.U,m=u.g,x=u.ca;var O="readystatechange";Array.isArray(O)||(O&&(Qo[0]=O.toString()),O=Qo);for(var j=0;j<O.length;j++){var q=bd(m,O[j],x||f.handleEvent,!1,f.h||f);if(!q)break;f.g[q.key]=q}f=u.H?_(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),Xo(),WC(u.i,u.u,u.A,u.l,u.R,u.m)}Or.prototype.ca=function(u){u=u.target;const f=this.M;f&&lr(u)==3?f.j():this.Y(u)},Or.prototype.Y=function(u){try{if(u==this.g)e:{const Tt=lr(this.g);var f=this.g.Ba();const Ls=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||Xv(this.g)))){this.J||Tt!=4||f==7||(f==8||0>=Ls?Xo(3):Xo(2)),jd(this);var m=this.g.Z();this.X=m;t:if(bv(this)){var x=Xv(this.g);u="";var O=x.length,j=lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bi(this),ea(this);var q="";break t}this.h.i=new a.TextDecoder}for(f=0;f<O;f++)this.h.h=!0,u+=this.h.i.decode(x[f],{stream:!(j&&f==O-1)});x.length=0,this.h.g+=u,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=m==200,HC(this.i,this.u,this.A,this.l,this.R,Tt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,ft=this.g;if((Ie=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ie)){var we=Ie;break t}}we=null}if(m=we)Ds(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fd(this,m);else{this.o=!1,this.s=3,Vt(12),Bi(this),ea(this);break e}}if(this.P){m=!0;let An;for(;!this.J&&this.C<q.length;)if(An=GC(this,q),An==Ld){Tt==4&&(this.s=4,Vt(14),m=!1),Ds(this.i,this.l,null,"[Incomplete Response]");break}else if(An==Rv){this.s=4,Vt(15),Ds(this.i,this.l,q,"[Invalid Chunk]"),m=!1;break}else Ds(this.i,this.l,An,null),Fd(this,An);if(bv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||q.length!=0||this.h.h||(this.s=1,Vt(16),m=!1),this.o=this.o&&m,!m)Ds(this.i,this.l,q,"[Invalid Chunked Response]"),Bi(this),ea(this);else if(0<q.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),Hd(Et),Et.M=!0,Vt(11))}}else Ds(this.i,this.l,q,null),Fd(this,q);Tt==4&&Bi(this),this.o&&!this.J&&(Tt==4?i0(this.j,this):(this.o=!1,uu(this)))}else h2(this.g),m==400&&0<q.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),Bi(this),ea(this)}}}catch{}finally{}};function bv(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function GC(u,f){var m=u.C,x=f.indexOf(`
`,m);return x==-1?Ld:(m=Number(f.substring(m,x)),isNaN(m)?Rv:(x+=1,x+m>f.length?Ld:(f=f.slice(x,x+m),u.C=x+m,f)))}Or.prototype.cancel=function(){this.J=!0,Bi(this)};function uu(u){u.S=Date.now()+u.I,Nv(u,u.I)}function Nv(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Jo(p(u.ba,u),f)}function jd(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Or.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(qC(this.i,this.A),this.L!=2&&(Xo(),Vt(17)),Bi(this),this.s=2,ea(this)):Nv(this,this.S-u)};function ea(u){u.j.G==0||u.J||i0(u.j,u)}function Bi(u){jd(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,su(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function Fd(u,f){try{var m=u.j;if(m.G!=0&&(m.g==u||Ud(m.h,u))){if(!u.K&&Ud(m.h,u)&&m.G==3){try{var x=m.Da.g.parse(f)}catch{x=null}if(Array.isArray(x)&&x.length==3){var O=x;if(O[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)vu(m),gu(m);else break e;Wd(m),Vt(18)}}else m.za=O[1],0<m.za-m.T&&37500>O[2]&&m.F&&m.v==0&&!m.C&&(m.C=Jo(p(m.Za,m),6e3));if(1>=Ov(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else $i(m,11)}else if((u.K||m.g==u)&&vu(m),!y(f))for(O=m.Da.g.parse(f),f=0;f<O.length;f++){let we=O[f];if(m.T=we[0],we=we[1],m.G==2)if(we[0]=="c"){m.K=we[1],m.ia=we[2];const Et=we[3];Et!=null&&(m.la=Et,m.j.info("VER="+m.la));const Tt=we[4];Tt!=null&&(m.Aa=Tt,m.j.info("SVER="+m.Aa));const Ls=we[5];Ls!=null&&typeof Ls=="number"&&0<Ls&&(x=1.5*Ls,m.L=x,m.j.info("backChannelRequestTimeoutMs_="+x)),x=m;const An=u.g;if(An){const wu=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wu){var j=x.h;j.g||wu.indexOf("spdy")==-1&&wu.indexOf("quic")==-1&&wu.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Bd(j,j.h),j.h=null))}if(x.D){const qd=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;qd&&(x.ya=qd,ke(x.I,x.D,qd))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),x=m;var q=u;if(x.qa=a0(x,x.J?x.ia:null,x.W),q.K){Lv(x.h,q);var Ie=q,ft=x.L;ft&&(Ie.I=ft),Ie.B&&(jd(Ie),uu(Ie)),x.g=q}else n0(x);0<m.i.length&&yu(m)}else we[0]!="stop"&&we[0]!="close"||$i(m,7);else m.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?$i(m,7):$d(m):we[0]!="noop"&&m.l&&m.l.ta(we),m.v=0)}}Xo(4)}catch{}}var QC=class{constructor(u,f){this.g=u,this.map=f}};function Dv(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vv(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ov(u){return u.h?1:u.g?u.g.size:0}function Ud(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function Bd(u,f){u.g?u.g.add(f):u.h=f}function Lv(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}Dv.prototype.cancel=function(){if(this.i=Mv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Mv(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(const m of u.g.values())f=f.concat(m.D);return f}return S(u.i)}function YC(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var f=[],m=u.length,x=0;x<m;x++)f.push(u[x]);return f}f=[],m=0;for(x in u)f[m++]=u[x];return f}function XC(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var f=[];u=u.length;for(var m=0;m<u;m++)f.push(m);return f}f=[],m=0;for(const x in u)f[m++]=x;return f}}}function jv(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var m=XC(u),x=YC(u),O=x.length,j=0;j<O;j++)f.call(void 0,x[j],m&&m[j],u)}var Fv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function JC(u,f){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var x=u[m].indexOf("="),O=null;if(0<=x){var j=u[m].substring(0,x);O=u[m].substring(x+1)}else j=u[m];f(j,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function zi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof zi){this.h=u.h,cu(this,u.j),this.o=u.o,this.g=u.g,hu(this,u.s),this.l=u.l;var f=u.i,m=new ra;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),Uv(this,m),this.m=u.m}else u&&(f=String(u).match(Fv))?(this.h=!1,cu(this,f[1]||"",!0),this.o=ta(f[2]||""),this.g=ta(f[3]||"",!0),hu(this,f[4]),this.l=ta(f[5]||"",!0),Uv(this,f[6]||"",!0),this.m=ta(f[7]||"")):(this.h=!1,this.i=new ra(null,this.h))}zi.prototype.toString=function(){var u=[],f=this.j;f&&u.push(na(f,Bv,!0),":");var m=this.g;return(m||f=="file")&&(u.push("//"),(f=this.o)&&u.push(na(f,Bv,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(na(m,m.charAt(0)=="/"?t2:e2,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",na(m,r2)),u.join("")};function ar(u){return new zi(u)}function cu(u,f,m){u.j=m?ta(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function hu(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function Uv(u,f,m){f instanceof ra?(u.i=f,i2(u.i,u.h)):(m||(f=na(f,n2)),u.i=new ra(f,u.h))}function ke(u,f,m){u.i.set(f,m)}function du(u){return ke(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ta(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function na(u,f,m){return typeof u=="string"?(u=encodeURI(u).replace(f,ZC),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ZC(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Bv=/[#\/\?@]/g,e2=/[#\?:]/g,t2=/[#\?]/g,n2=/[#\?@]/g,r2=/#/g;function ra(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function Lr(u){u.g||(u.g=new Map,u.h=0,u.i&&JC(u.i,function(f,m){u.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=ra.prototype,t.add=function(u,f){Lr(this),this.i=null,u=Vs(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(f),this.h+=1,this};function zv(u,f){Lr(u),f=Vs(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function $v(u,f){return Lr(u),f=Vs(u,f),u.g.has(f)}t.forEach=function(u,f){Lr(this),this.g.forEach(function(m,x){m.forEach(function(O){u.call(f,O,x,this)},this)},this)},t.na=function(){Lr(this);const u=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let x=0;x<f.length;x++){const O=u[x];for(let j=0;j<O.length;j++)m.push(f[x])}return m},t.V=function(u){Lr(this);let f=[];if(typeof u=="string")$v(this,u)&&(f=f.concat(this.g.get(Vs(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)f=f.concat(u[m])}return f},t.set=function(u,f){return Lr(this),this.i=null,u=Vs(this,u),$v(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},t.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function Wv(u,f,m){zv(u,f),0<m.length&&(u.i=null,u.g.set(Vs(u,f),S(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var x=f[m];const j=encodeURIComponent(String(x)),q=this.V(x);for(x=0;x<q.length;x++){var O=j;q[x]!==""&&(O+="="+encodeURIComponent(String(q[x]))),u.push(O)}}return this.i=u.join("&")};function Vs(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function i2(u,f){f&&!u.j&&(Lr(u),u.i=null,u.g.forEach(function(m,x){var O=x.toLowerCase();x!=O&&(zv(this,x),Wv(this,O,m))},u)),u.j=f}function s2(u,f){const m=new Zo;if(a.Image){const x=new Image;x.onload=v(Mr,m,"TestLoadImage: loaded",!0,f,x),x.onerror=v(Mr,m,"TestLoadImage: error",!1,f,x),x.onabort=v(Mr,m,"TestLoadImage: abort",!1,f,x),x.ontimeout=v(Mr,m,"TestLoadImage: timeout",!1,f,x),a.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=u}else f(!1)}function o2(u,f){const m=new Zo,x=new AbortController,O=setTimeout(()=>{x.abort(),Mr(m,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:x.signal}).then(j=>{clearTimeout(O),j.ok?Mr(m,"TestPingServer: ok",!0,f):Mr(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(O),Mr(m,"TestPingServer: error",!1,f)})}function Mr(u,f,m,x,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),x(m)}catch{}}function a2(){this.g=new $C}function l2(u,f,m){const x=m||"";try{jv(u,function(O,j){let q=O;c(O)&&(q=Ns(O)),f.push(x+j+"="+encodeURIComponent(q))})}catch(O){throw f.push(x+"type="+encodeURIComponent("_badmap")),O}}function fu(u){this.l=u.Ub||null,this.j=u.eb||!1}E(fu,Nd),fu.prototype.g=function(){return new pu(this.l,this.j)},fu.prototype.i=function(u){return function(){return u}}({});function pu(u,f){me.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(pu,me),t=pu.prototype,t.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,sa(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ia(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,sa(this)),this.g&&(this.readyState=3,sa(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hv(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hv(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?ia(this):sa(this),this.readyState==3&&Hv(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,ia(this))},t.Qa=function(u){this.g&&(this.response=u,ia(this))},t.ga=function(){this.g&&ia(this)};function ia(u){u.readyState=4,u.l=null,u.j=null,u.v=null,sa(u)}t.setRequestHeader=function(u,f){this.u.append(u,f)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=f.next();return u.join(`\r
`)};function sa(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(pu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function qv(u){let f="";return B(u,function(m,x){f+=x,f+=":",f+=m,f+=`\r
`}),f}function zd(u,f,m){e:{for(x in m){var x=!1;break e}x=!0}x||(m=qv(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):ke(u,f,m))}function $e(u){me.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E($e,me);var u2=/^https?$/i,c2=["POST","PUT"];t=$e.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,f,m,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Od.g(),this.v=this.o?Ev(this.o):Ev(Od),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(j){Kv(this,j);return}if(u=m||"",m=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var O in x)m.set(O,x[O]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const j of x.keys())m.set(j,x.get(j));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(m.keys()).find(j=>j.toLowerCase()=="content-type"),O=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(c2,f,void 0))||x||O||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,q]of m)this.g.setRequestHeader(j,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yv(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){Kv(this,j)}};function Kv(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,Gv(u),mu(u)}function Gv(u){u.A||(u.A=!0,ge(u,"complete"),ge(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ge(this,"complete"),ge(this,"abort"),mu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mu(this,!0)),$e.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Qv(this):this.bb())},t.bb=function(){Qv(this)};function Qv(u){if(u.h&&typeof o<"u"&&(!u.v[1]||lr(u)!=4||u.Z()!=2)){if(u.u&&lr(u)==4)iu(u.Ea,0,u);else if(ge(u,"readystatechange"),lr(u)==4){u.h=!1;try{const q=u.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var x;if(x=q===0){var O=String(u.D).match(Fv)[1]||null;!O&&a.self&&a.self.location&&(O=a.self.location.protocol.slice(0,-1)),x=!u2.test(O?O.toLowerCase():"")}m=x}if(m)ge(u,"complete"),ge(u,"success");else{u.m=6;try{var j=2<lr(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",Gv(u)}}finally{mu(u)}}}}function mu(u,f){if(u.g){Yv(u);const m=u.g,x=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||ge(u,"ready");try{m.onreadystatechange=x}catch{}}}function Yv(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function lr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<lr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),zC(f)}};function Xv(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function h2(u){const f={};u=(u.g&&2<=lr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<u.length;x++){if(y(u[x]))continue;var m=D(u[x]);const O=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const j=f[O]||[];f[O]=j,j.push(m)}C(f,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function oa(u,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||f}function Jv(u){this.Aa=0,this.i=[],this.j=new Zo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oa("baseRetryDelayMs",5e3,u),this.cb=oa("retryDelaySeedMs",1e4,u),this.Wa=oa("forwardChannelMaxRetries",2,u),this.wa=oa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Dv(u&&u.concurrentRequestLimit),this.Da=new a2,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Jv.prototype,t.la=8,t.G=1,t.connect=function(u,f,m,x){Vt(0),this.W=u,this.H=f||{},m&&x!==void 0&&(this.H.OSID=m,this.H.OAID=x),this.F=this.X,this.I=a0(this,null,this.W),yu(this)};function $d(u){if(Zv(u),u.G==3){var f=u.U++,m=ar(u.I);if(ke(m,"SID",u.K),ke(m,"RID",f),ke(m,"TYPE","terminate"),aa(u,m),f=new Or(u,u.j,f),f.L=2,f.v=du(ar(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=l0(f.j,null),f.g.ea(f.v)),f.F=Date.now(),uu(f)}o0(u)}function gu(u){u.g&&(Hd(u),u.g.cancel(),u.g=null)}function Zv(u){gu(u),u.u&&(a.clearTimeout(u.u),u.u=null),vu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function yu(u){if(!Vv(u.h)&&!u.s){u.s=!0;var f=u.Ga;ue||ne(),H||(ue(),H=!0),Z.add(f,u),u.B=0}}function d2(u,f){return Ov(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Jo(p(u.Ga,u,f),s0(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const O=new Or(this,this.j,u);let j=this.o;if(this.S&&(j?(j=_(j),R(j,this.S)):j=this.S),this.m!==null||this.O||(O.H=j,j=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var x=this.i[m];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(f+=x,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=t0(this,O,f),m=ar(this.I),ke(m,"RID",u),ke(m,"CVER",22),this.D&&ke(m,"X-HTTP-Session-Id",this.D),aa(this,m),j&&(this.O?f="headers="+encodeURIComponent(String(qv(j)))+"&"+f:this.m&&zd(m,this.m,j)),Bd(this.h,O),this.Ua&&ke(m,"TYPE","init"),this.P?(ke(m,"$req",f),ke(m,"SID","null"),O.T=!0,Md(O,m,null)):Md(O,m,f),this.G=2}}else this.G==3&&(u?e0(this,u):this.i.length==0||Vv(this.h)||e0(this))};function e0(u,f){var m;f?m=f.l:m=u.U++;const x=ar(u.I);ke(x,"SID",u.K),ke(x,"RID",m),ke(x,"AID",u.T),aa(u,x),u.m&&u.o&&zd(x,u.m,u.o),m=new Or(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),f&&(u.i=f.D.concat(u.i)),f=t0(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Bd(u.h,m),Md(m,x,f)}function aa(u,f){u.H&&B(u.H,function(m,x){ke(f,x,m)}),u.l&&jv({},function(m,x){ke(f,x,m)})}function t0(u,f,m){m=Math.min(u.i.length,m);var x=u.l?p(u.l.Na,u.l,u):null;e:{var O=u.i;let j=-1;for(;;){const q=["count="+m];j==-1?0<m?(j=O[0].g,q.push("ofs="+j)):j=0:q.push("ofs="+j);let Ie=!0;for(let ft=0;ft<m;ft++){let we=O[ft].g;const Et=O[ft].map;if(we-=j,0>we)j=Math.max(0,O[ft].g-100),Ie=!1;else try{l2(Et,q,"req"+we+"_")}catch{x&&x(Et)}}if(Ie){x=q.join("&");break e}}}return u=u.i.splice(0,m),f.D=u,x}function n0(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;ue||ne(),H||(ue(),H=!0),Z.add(f,u),u.v=0}}function Wd(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Jo(p(u.Fa,u),s0(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,r0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Jo(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),gu(this),r0(this))};function Hd(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function r0(u){u.g=new Or(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=ar(u.qa);ke(f,"RID","rpc"),ke(f,"SID",u.K),ke(f,"AID",u.T),ke(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&ke(f,"TO",u.ja),ke(f,"TYPE","xmlhttp"),aa(u,f),u.m&&u.o&&zd(f,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=du(ar(f)),m.m=null,m.P=!0,kv(m,u)}t.Za=function(){this.C!=null&&(this.C=null,gu(this),Wd(this),Vt(19))};function vu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function i0(u,f){var m=null;if(u.g==f){vu(u),Hd(u),u.g=null;var x=2}else if(Ud(u.h,f))m=f.D,Lv(u.h,f),x=1;else return;if(u.G!=0){if(f.o)if(x==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var O=u.B;x=ou(),ge(x,new Av(x,m)),yu(u)}else n0(u);else if(O=f.s,O==3||O==0&&0<f.X||!(x==1&&d2(u,f)||x==2&&Wd(u)))switch(m&&0<m.length&&(f=u.h,f.i=f.i.concat(m)),O){case 1:$i(u,5);break;case 4:$i(u,10);break;case 3:$i(u,6);break;default:$i(u,2)}}}function s0(u,f){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*f}function $i(u,f){if(u.j.info("Error code "+f),f==2){var m=p(u.fb,u),x=u.Xa;const O=!x;x=new zi(x||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||cu(x,"https"),du(x),O?s2(x.toString(),m):o2(x.toString(),m)}else Vt(2);u.G=0,u.l&&u.l.sa(f),o0(u),Zv(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function o0(u){if(u.G=0,u.ka=[],u.l){const f=Mv(u.h);(f.length!=0||u.i.length!=0)&&(I(u.ka,f),I(u.ka,u.i),u.h.i.length=0,S(u.i),u.i.length=0),u.l.ra()}}function a0(u,f,m){var x=m instanceof zi?ar(m):new zi(m);if(x.g!="")f&&(x.g=f+"."+x.g),hu(x,x.s);else{var O=a.location;x=O.protocol,f=f?f+"."+O.hostname:O.hostname,O=+O.port;var j=new zi(null);x&&cu(j,x),f&&(j.g=f),O&&hu(j,O),m&&(j.l=m),x=j}return m=u.D,f=u.ya,m&&f&&ke(x,m,f),ke(x,"VER",u.la),aa(u,x),x}function l0(u,f,m){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new $e(new fu({eb:m})):new $e(u.pa),f.Ha(u.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function u0(){}t=u0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _u(){}_u.prototype.g=function(u,f){return new Yt(u,f)};function Yt(u,f){me.call(this),this.g=new Jv(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!y(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!y(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new Os(this)}E(Yt,me),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){$d(this.g)},Yt.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=Ns(u),u=m);f.i.push(new QC(f.Ya++,u)),f.G==3&&yu(f)},Yt.prototype.N=function(){this.g.l=null,delete this.j,$d(this.g),delete this.g,Yt.aa.N.call(this)};function c0(u){Dd.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(const m in f){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}E(c0,Dd);function h0(){Vd.call(this),this.status=1}E(h0,Vd);function Os(u){this.g=u}E(Os,u0),Os.prototype.ua=function(){ge(this.g,"a")},Os.prototype.ta=function(u){ge(this.g,new c0(u))},Os.prototype.sa=function(u){ge(this.g,new h0)},Os.prototype.ra=function(){ge(this.g,"b")},_u.prototype.createWebChannel=_u.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,UA=function(){return new _u},FA=function(){return ou()},jA=Ui,ym={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},au.NO_ERROR=0,au.TIMEOUT=8,au.HTTP_ERROR=6,gc=au,Pv.COMPLETE="complete",MA=Pv,Tv.EventType=Yo,Yo.OPEN="a",Yo.CLOSE="b",Yo.ERROR="c",Yo.MESSAGE="d",me.prototype.listen=me.prototype.K,Ca=Tv,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,LA=$e}).apply(typeof Wu<"u"?Wu:typeof self<"u"?self:typeof window<"u"?window:{});const E1="@firebase/firestore",T1="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new py("@firebase/firestore");function Fs(){return ys.logLevel}function Y(t,...e){if(ys.logLevel<=he.DEBUG){const n=e.map(Iy);ys.debug(`Firestore (${zo}): ${t}`,...n)}}function br(t,...e){if(ys.logLevel<=he.ERROR){const n=e.map(Iy);ys.error(`Firestore (${zo}): ${t}`,...n)}}function Ro(t,...e){if(ys.logLevel<=he.WARN){const n=e.map(Iy);ys.warn(`Firestore (${zo}): ${t}`,...n)}}function Iy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,BA(t,r,n)}function BA(t,e,n){let r=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw br(r),new Error(r)}function Te(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||BA(e,i,r)}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class k3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pt.UNAUTHENTICATED))}shutdown(){}}class b3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class N3{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Sr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Sr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string",31837,{l:r}),new zA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string",2055,{h:e}),new Pt(e)}}class D3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class V3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new D3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class x1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Te(this.o===void 0,3512);const r=s=>{s.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new x1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new x1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=L3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function de(t,e){return t<e?-1:t>e?1:0}function vm(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Bf(i)===Bf(s)?de(i,s):Bf(i)?1:-1}return de(t.length,e.length)}const M3=55296,j3=57343;function Bf(t){const e=t.charCodeAt(0);return e>=M3&&e<=j3}function ko(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="__name__";class zn{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=zn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return de(e.length,n.length)}static compareSegments(e,n){const r=zn.isNumericId(e),i=zn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?zn.extractNumericId(e).compare(zn.extractNumericId(n)):vm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return di.fromString(e.substring(4,e.length-2))}}class Pe extends zn{construct(e,n,r){return new Pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Pe(n)}static emptyPath(){return new Pe([])}}const F3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yt extends zn{construct(e,n,r){return new yt(e,n,r)}static isValidIdentifier(e){return F3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===S1}static keyField(){return new yt([S1])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Q(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Q(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Q(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yt(n)}static emptyPath(){return new yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Pe.fromString(e))}static fromName(e){return new te(Pe.fromString(e).popFirst(5))}static empty(){return new te(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Pe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(t,e,n){if(!n)throw new Q(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function U3(t,e,n,r){if(e===!0&&r===!0)throw new Q(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function I1(t){if(!te.isDocumentKey(t))throw new Q(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function A1(t){if(te.isDocumentKey(t))throw new Q(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function WA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ld(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se(12329,{type:typeof t})}function sn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ld(t);throw new Q(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t,e){const n={typeString:t};return e&&(n.value=e),n}function Gl(t,e){if(!WA(t))throw new Q(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Q(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=-62135596800,C1=1e6;class De{static now(){return De.fromMillis(Date.now())}static fromDate(e){return De.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*C1);return new De(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<P1)throw new Q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/C1}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:De._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gl(e,De._jsonSchema))return new De(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-P1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}De._jsonSchemaVersion="firestore/timestamp/1.0",De._jsonSchema={type:it("string",De._jsonSchemaVersion),seconds:it("number"),nanoseconds:it("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{static fromTimestamp(e){return new oe(e)}static min(){return new oe(new De(0,0))}static max(){return new oe(new De(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=-1;function B3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=oe.fromTimestamp(r===1e9?new De(n+1,0):new De(n,r));return new wi(i,te.empty(),e)}function z3(t){return new wi(t.readTime,t.key,Il)}class wi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new wi(oe.min(),te.empty(),Il)}static max(){return new wi(oe.max(),te.empty(),Il)}}function $3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:de(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class H3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==W3)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function q3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ud.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py=-1;function cd(t){return t==null}function mh(t){return t===0&&1/t==-1/0}function K3(t){return typeof t=="number"&&Number.isInteger(t)&&!mh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="";function G3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=R1(e)),e=Q3(t.get(n),e);return R1(e)}function Q3(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case HA:n+="";break;default:n+=s}}return n}function R1(t){return t+HA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Li(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n){this.comparator=e,this.root=n||gt.EMPTY}insert(e,n){return new ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gt.BLACK,null,null))}remove(e){return new ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hu(this.root,e,this.comparator,!0)}}class Hu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??gt.RED,this.left=i??gt.EMPTY,this.right=s??gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new gt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return gt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw se(27949);return e+(this.isRed()?0:1)}}gt.EMPTY=null,gt.RED=!0,gt.BLACK=!1;gt.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new b1(this.data.getIterator())}getIteratorFrom(e){return new b1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new lt(this.comparator);return n.data=e,n}}class b1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.fields=e,e.sort(yt.comparator)}static empty(){return new tn([])}unionWith(e){let n=new lt(yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new KA("Invalid base64 string: "+s):s}}(e);return new wt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wt.EMPTY_BYTE_STRING=new wt("");const Y3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ei(t){if(Te(!!t,39018),typeof t=="string"){let e=0;const n=Y3.exec(t);if(Te(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Je(t.seconds),nanos:Je(t.nanos)}}function Je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ti(t){return typeof t=="string"?wt.fromBase64String(t):wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="server_timestamp",QA="__type__",YA="__previous_value__",XA="__local_write_time__";function Cy(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[QA])==null?void 0:r.stringValue)===GA}function hd(t){const e=t.mapValue.fields[YA];return Cy(e)?hd(e):e}function Al(t){const e=Ei(t.mapValue.fields[XA].timestampValue);return new De(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,n,r,i,s,o,a,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const gh="(default)";class Pl{constructor(e,n){this.projectId=e,this.database=n||gh}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===gh}isEqual(e){return e instanceof Pl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="__type__",ZA="__max__",qu={mapValue:{fields:{__type__:{stringValue:ZA}}}},eP="__vector__",yh="value";function xi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cy(t)?4:Z3(t)?9007199254740991:J3(t)?10:11:se(28295,{value:t})}function ir(t,e){if(t===e)return!0;const n=xi(t);if(n!==xi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Al(t).isEqual(Al(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ei(i.timestampValue),a=Ei(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ti(i.bytesValue).isEqual(Ti(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Je(i.geoPointValue.latitude)===Je(s.geoPointValue.latitude)&&Je(i.geoPointValue.longitude)===Je(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Je(i.integerValue)===Je(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Je(i.doubleValue),a=Je(s.doubleValue);return o===a?mh(o)===mh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ko(t.arrayValue.values||[],e.arrayValue.values||[],ir);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(k1(o)!==k1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ir(o[l],a[l])))return!1;return!0}(t,e);default:return se(52216,{left:t})}}function Cl(t,e){return(t.values||[]).find(n=>ir(n,e))!==void 0}function bo(t,e){if(t===e)return 0;const n=xi(t),r=xi(e);if(n!==r)return de(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return de(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Je(s.integerValue||s.doubleValue),l=Je(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return N1(t.timestampValue,e.timestampValue);case 4:return N1(Al(t),Al(e));case 5:return vm(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ti(s),l=Ti(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=de(a[c],l[c]);if(h!==0)return h}return de(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=de(Je(s.latitude),Je(o.latitude));return a!==0?a:de(Je(s.longitude),Je(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return D1(t.arrayValue,e.arrayValue);case 10:return function(s,o){var p,v,E,S;const a=s.fields||{},l=o.fields||{},c=(p=a[yh])==null?void 0:p.arrayValue,h=(v=l[yh])==null?void 0:v.arrayValue,d=de(((E=c==null?void 0:c.values)==null?void 0:E.length)||0,((S=h==null?void 0:h.values)==null?void 0:S.length)||0);return d!==0?d:D1(c,h)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===qu.mapValue&&o===qu.mapValue)return 0;if(s===qu.mapValue)return 1;if(o===qu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const p=vm(l[d],h[d]);if(p!==0)return p;const v=bo(a[l[d]],c[h[d]]);if(v!==0)return v}return de(l.length,h.length)}(t.mapValue,e.mapValue);default:throw se(23264,{he:n})}}function N1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return de(t,e);const n=Ei(t),r=Ei(e),i=de(n.seconds,r.seconds);return i!==0?i:de(n.nanos,r.nanos)}function D1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=bo(n[i],r[i]);if(s)return s}return de(n.length,r.length)}function No(t){return _m(t)}function _m(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ei(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ti(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=_m(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${_m(n.fields[o])}`;return i+"}"}(t.mapValue):se(61005,{value:t})}function yc(t){switch(xi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hd(t);return e?16+yc(e):16;case 5:return 2*t.stringValue.length;case 6:return Ti(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+yc(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Li(r.fields,(s,o)=>{i+=s.length+yc(o)}),i}(t.mapValue);default:throw se(13486,{value:t})}}function V1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function wm(t){return!!t&&"integerValue"in t}function Ry(t){return!!t&&"arrayValue"in t}function O1(t){return!!t&&"nullValue"in t}function L1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vc(t){return!!t&&"mapValue"in t}function J3(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[JA])==null?void 0:r.stringValue)===eP}function qa(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Li(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=qa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qa(t.arrayValue.values[n]);return e}return{...t}}function Z3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ZA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.value=e}static empty(){return new Wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!vc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qa(n)}setAll(e){let n=yt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=qa(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());vc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ir(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];vc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Li(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Wt(qa(this.value))}}function tP(t){const e=[];return Li(t.fields,(n,r)=>{const i=new yt([n]);if(vc(r)){const s=tP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Rt(e,0,oe.min(),oe.min(),oe.min(),Wt.empty(),0)}static newFoundDocument(e,n,r,i){return new Rt(e,1,n,oe.min(),r,i,0)}static newNoDocument(e,n){return new Rt(e,2,n,oe.min(),oe.min(),Wt.empty(),0)}static newUnknownDocument(e,n){return new Rt(e,3,n,oe.min(),oe.min(),Wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n){this.position=e,this.inclusive=n}}function M1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=bo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function j1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ir(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n="asc"){this.field=e,this.dir=n}}function ej(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{}class rt extends nP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nj(e,n,r):n==="array-contains"?new sj(e,r):n==="in"?new oj(e,r):n==="not-in"?new aj(e,r):n==="array-contains-any"?new lj(e,r):new rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rj(e,r):new ij(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(bo(n,this.value)):n!==null&&xi(this.value)===xi(n)&&this.matchesComparison(bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends nP{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Fn(e,n)}matches(e){return rP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rP(t){return t.op==="and"}function iP(t){return tj(t)&&rP(t)}function tj(t){for(const e of t.filters)if(e instanceof Fn)return!1;return!0}function Em(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+No(t.value);if(iP(t))return t.filters.map(e=>Em(e)).join(",");{const e=t.filters.map(n=>Em(n)).join(",");return`${t.op}(${e})`}}function sP(t,e){return t instanceof rt?function(r,i){return i instanceof rt&&r.op===i.op&&r.field.isEqual(i.field)&&ir(r.value,i.value)}(t,e):t instanceof Fn?function(r,i){return i instanceof Fn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&sP(o,i.filters[a]),!0):!1}(t,e):void se(19439)}function oP(t){return t instanceof rt?function(n){return`${n.field.canonicalString()} ${n.op} ${No(n.value)}`}(t):t instanceof Fn?function(n){return n.op.toString()+" {"+n.getFilters().map(oP).join(" ,")+"}"}(t):"Filter"}class nj extends rt{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class rj extends rt{constructor(e,n){super(e,"in",n),this.keys=aP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ij extends rt{constructor(e,n){super(e,"not-in",n),this.keys=aP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function aP(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class sj extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ry(n)&&Cl(n.arrayValue,this.value)}}class oj extends rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Cl(this.value.arrayValue,n)}}class aj extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Cl(this.value.arrayValue,n)}}class lj extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ry(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Cl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function F1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new uj(t,e,n,r,i,s,o)}function ky(t){const e=ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Em(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),cd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>No(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>No(r)).join(",")),e.Te=n}return e.Te}function by(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ej(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!j1(t.startAt,e.startAt)&&j1(t.endAt,e.endAt)}function Tm(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cj(t,e,n,r,i,s,o,a){return new Ql(t,e,n,r,i,s,o,a)}function dd(t){return new Ql(t)}function U1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function lP(t){return t.collectionGroup!==null}function Ka(t){const e=ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new lt(yt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new _h(s,r))}),n.has(yt.keyField().canonicalString())||e.Ie.push(new _h(yt.keyField(),r))}return e.Ie}function er(t){const e=ae(t);return e.Ee||(e.Ee=hj(e,Ka(t))),e.Ee}function hj(t,e){if(t.limitType==="F")return F1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new _h(i.field,s)});const n=t.endAt?new vh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vh(t.startAt.position,t.startAt.inclusive):null;return F1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function xm(t,e){const n=t.filters.concat([e]);return new Ql(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Sm(t,e,n){return new Ql(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fd(t,e){return by(er(t),er(e))&&t.limitType===e.limitType}function uP(t){return`${ky(er(t))}|lt:${t.limitType}`}function Us(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>oP(i)).join(", ")}]`),cd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>No(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>No(i)).join(",")),`Target(${r})`}(er(t))}; limitType=${t.limitType})`}function pd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):te.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ka(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=M1(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Ka(r),i)||r.endAt&&!function(o,a,l){const c=M1(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Ka(r),i))}(t,e)}function dj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cP(t){return(e,n)=>{let r=!1;for(const i of Ka(t)){const s=fj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function fj(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?bo(l,c):se(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Li(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return qA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=new ze(te.comparator);function Nr(){return pj}const hP=new ze(te.comparator);function Ra(...t){let e=hP;for(const n of t)e=e.insert(n.key,n);return e}function dP(t){let e=hP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function es(){return Ga()}function fP(){return Ga()}function Ga(){return new Is(t=>t.toString(),(t,e)=>t.isEqual(e))}const mj=new ze(te.comparator),gj=new lt(te.comparator);function fe(...t){let e=gj;for(const n of t)e=e.add(n);return e}const yj=new lt(de);function vj(){return yj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function pP(t){return{integerValue:""+t}}function _j(t,e){return K3(e)?pP(e):Ny(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(){this._=void 0}}function wj(t,e,n){return t instanceof Rl?function(i,s){const o={fields:{[QA]:{stringValue:GA},[XA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Cy(s)&&(s=hd(s)),s&&(o.fields[YA]=s),{mapValue:o}}(n,e):t instanceof kl?gP(t,e):t instanceof bl?yP(t,e):function(i,s){const o=mP(i,s),a=B1(o)+B1(i.Ae);return wm(o)&&wm(i.Ae)?pP(a):Ny(i.serializer,a)}(t,e)}function Ej(t,e,n){return t instanceof kl?gP(t,e):t instanceof bl?yP(t,e):n}function mP(t,e){return t instanceof wh?function(r){return wm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Rl extends md{}class kl extends md{constructor(e){super(),this.elements=e}}function gP(t,e){const n=vP(e);for(const r of t.elements)n.some(i=>ir(i,r))||n.push(r);return{arrayValue:{values:n}}}class bl extends md{constructor(e){super(),this.elements=e}}function yP(t,e){let n=vP(e);for(const r of t.elements)n=n.filter(i=>!ir(i,r));return{arrayValue:{values:n}}}class wh extends md{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function B1(t){return Je(t.integerValue||t.doubleValue)}function vP(t){return Ry(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,n){this.field=e,this.transform=n}}function xj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof kl&&i instanceof kl||r instanceof bl&&i instanceof bl?ko(r.elements,i.elements,ir):r instanceof wh&&i instanceof wh?ir(r.Ae,i.Ae):r instanceof Rl&&i instanceof Rl}(t.transform,e.transform)}class Sj{constructor(e,n){this.version=e,this.transformResults=n}}class On{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new On}static exists(e){return new On(void 0,e)}static updateTime(e){return new On(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _c(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class gd{}function _P(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new EP(t.key,On.none()):new Yl(t.key,t.data,On.none());{const n=t.data,r=Wt.empty();let i=new lt(yt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Mi(t.key,r,new tn(i.toArray()),On.none())}}function Ij(t,e,n){t instanceof Yl?function(i,s,o){const a=i.value.clone(),l=$1(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Mi?function(i,s,o){if(!_c(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=$1(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(wP(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Qa(t,e,n,r){return t instanceof Yl?function(s,o,a,l){if(!_c(s.precondition,o))return a;const c=s.value.clone(),h=W1(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Mi?function(s,o,a,l){if(!_c(s.precondition,o))return a;const c=W1(s.fieldTransforms,l,o),h=o.data;return h.setAll(wP(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return _c(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Aj(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=mP(r.transform,i||null);s!=null&&(n===null&&(n=Wt.empty()),n.set(r.field,s))}return n||null}function z1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ko(r,i,(s,o)=>xj(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Yl extends gd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Mi extends gd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function wP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function $1(t,e,n){const r=new Map;Te(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Ej(o,a,n[i]))}return r}function W1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,wj(s,o,e))}return r}class EP extends gd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pj extends gd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Ij(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Qa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fP();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=_P(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,(n,r)=>z1(n,r))&&ko(this.baseMutations,e.baseMutations,(n,r)=>z1(n,r))}}class Dy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Te(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return mj}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Dy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt,ye;function bj(t){switch(t){case U.OK:return se(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return se(15467,{code:t})}}function TP(t){if(t===void 0)return br("GRPC error has no .code"),U.UNKNOWN;switch(t){case tt.OK:return U.OK;case tt.CANCELLED:return U.CANCELLED;case tt.UNKNOWN:return U.UNKNOWN;case tt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case tt.INTERNAL:return U.INTERNAL;case tt.UNAVAILABLE:return U.UNAVAILABLE;case tt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case tt.NOT_FOUND:return U.NOT_FOUND;case tt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case tt.ABORTED:return U.ABORTED;case tt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case tt.DATA_LOSS:return U.DATA_LOSS;default:return se(39323,{code:t})}}(ye=tt||(tt={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj=new di([4294967295,4294967295],0);function H1(t){const e=Nj().encode(t),n=new OA;return n.update(e),new Uint8Array(n.digest())}function q1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new di([n,r],0),new di([i,s],0)]}class Vy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ka(`Invalid padding: ${n}`);if(r<0)throw new ka(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ka(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ka(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=di.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(di.fromNumber(r)));return i.compare(Dj)===1&&(i=new di([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=H1(e),[r,i]=q1(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Vy(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=H1(e),[r,i]=q1(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ka extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Xl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new yd(oe.min(),i,new ze(de),Nr(),fe())}}class Xl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Xl(r,n,fe(),fe(),fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class xP{constructor(e,n){this.targetId=e,this.Ce=n}}class SP{constructor(e,n,r=wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class K1{constructor(){this.ve=0,this.Fe=G1(),this.Me=wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=fe(),n=fe(),r=fe();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se(38017,{changeType:s})}}),new Xl(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=G1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Te(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Vj{constructor(e){this.Ge=e,this.ze=new Map,this.je=Nr(),this.Je=Ku(),this.He=Ku(),this.Ye=new ze(de)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Tm(s))if(r===0){const o=new te(s.path);this.et(n,o,Rt.newNoDocument(o,oe.min()))}else Te(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ti(r).toUint8Array()}catch(l){if(l instanceof KA)return Ro("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Vy(o,i,s)}catch(l){return Ro(l instanceof ka?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&Tm(a.target)){const l=new te(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Rt.newNoDocument(l,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=fe();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new yd(e,n,this.Ye,this.je,r);return this.je=Nr(),this.Je=Ku(),this.He=Ku(),this.Ye=new ze(de),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new K1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new lt(de),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new lt(de),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new K1),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ku(){return new ze(te.comparator)}function G1(){return new ze(te.comparator)}const Oj={asc:"ASCENDING",desc:"DESCENDING"},Lj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mj={and:"AND",or:"OR"};class jj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Im(t,e){return t.useProto3Json||cd(e)?e:{value:e}}function Eh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Fj(t,e){return Eh(t,e.toTimestamp())}function tr(t){return Te(!!t,49232),oe.fromTimestamp(function(n){const r=Ei(n);return new De(r.seconds,r.nanos)}(t))}function Oy(t,e){return Am(t,e).canonicalString()}function Am(t,e){const n=function(i){return new Pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function AP(t){const e=Pe.fromString(t);return Te(bP(e),10190,{key:e.toString()}),e}function Pm(t,e){return Oy(t.databaseId,e.path)}function zf(t,e){const n=AP(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(CP(n))}function PP(t,e){return Oy(t.databaseId,e)}function Uj(t){const e=AP(t);return e.length===4?Pe.emptyPath():CP(e)}function Cm(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CP(t){return Te(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Q1(t,e,n){return{name:Pm(t,e),fields:n.value.mapValue.fields}}function Bj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:se(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(Te(h===void 0||typeof h=="string",58123),wt.fromBase64String(h||"")):(Te(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),wt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?U.UNKNOWN:TP(c.code);return new Q(h,c.message||"")}(o);n=new SP(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zf(t,r.document.name),s=tr(r.document.updateTime),o=r.document.createTime?tr(r.document.createTime):oe.min(),a=new Wt({mapValue:{fields:r.document.fields}}),l=Rt.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new wc(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zf(t,r.document),s=r.readTime?tr(r.readTime):oe.min(),o=Rt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new wc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zf(t,r.document),s=r.removedTargetIds||[];n=new wc([],s,i,null)}else{if(!("filter"in e))return se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new kj(i,s),a=r.targetId;n=new xP(a,o)}}return n}function zj(t,e){let n;if(e instanceof Yl)n={update:Q1(t,e.key,e.value)};else if(e instanceof EP)n={delete:Pm(t,e.key)};else if(e instanceof Mi)n={update:Q1(t,e.key,e.data),updateMask:Xj(e.fieldMask)};else{if(!(e instanceof Pj))return se(16599,{Vt:e.type});n={verify:Pm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Rl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof kl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof wh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw se(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Fj(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:se(27497)}(t,e.precondition)),n}function $j(t,e){return t&&t.length>0?(Te(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?tr(i.updateTime):tr(s);return o.isEqual(oe.min())&&(o=tr(s)),new Sj(o,i.transformResults||[])}(n,e))):[]}function Wj(t,e){return{documents:[PP(t,e.path)]}}function Hj(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=PP(t,i);const s=function(c){if(c.length!==0)return kP(Fn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:Bs(p.field),direction:Gj(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Im(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function qj(t){let e=Uj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Te(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const p=RP(d);return p instanceof Fn&&iP(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(p=>function(E){return new _h(zs(E.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(d){let p;return p=typeof d=="object"?d.value:d,cd(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(d){const p=!!d.before,v=d.values||[];return new vh(v,p)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const p=!d.before,v=d.values||[];return new vh(v,p)}(n.endAt)),cj(e,i,o,s,a,"F",l,c)}function Kj(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zs(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=zs(n.unaryFilter.field);return rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=zs(n.unaryFilter.field);return rt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=zs(n.unaryFilter.field);return rt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}}(t):t.fieldFilter!==void 0?function(n){return rt.create(zs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fn.create(n.compositeFilter.filters.map(r=>RP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se(1026)}}(n.compositeFilter.op))}(t):se(30097,{filter:t})}function Gj(t){return Oj[t]}function Qj(t){return Lj[t]}function Yj(t){return Mj[t]}function Bs(t){return{fieldPath:t.canonicalString()}}function zs(t){return yt.fromServerFormat(t.fieldPath)}function kP(t){return t instanceof rt?function(n){if(n.op==="=="){if(L1(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NAN"}};if(O1(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(L1(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NOT_NAN"}};if(O1(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bs(n.field),op:Qj(n.op),value:n.value}}}(t):t instanceof Fn?function(n){const r=n.getFilters().map(i=>kP(i));return r.length===1?r[0]:{compositeFilter:{op:Yj(n.op),filters:r}}}(t):se(54877,{filter:t})}function Xj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function bP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n,r,i,s=oe.min(),o=oe.min(),a=wt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ei(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e){this.yt=e}}function Zj(t){const e=qj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(){this.Cn=new tF}addToCollectionParentIndex(e,n){return this.Cn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(wi.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(wi.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class tF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new lt(Pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(Pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NP=41943040;class zt{static withCacheSize(e){return new zt(e,zt.DEFAULT_COLLECTION_PERCENTILE,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zt.DEFAULT_COLLECTION_PERCENTILE=10,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zt.DEFAULT=new zt(NP,zt.DEFAULT_COLLECTION_PERCENTILE,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zt.DISABLED=new zt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Do(0)}static cr(){return new Do(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="LruGarbageCollector",nF=1048576;function J1([t,e],[n,r]){const i=de(t,n);return i===0?de(e,r):i}class rF{constructor(e){this.Ir=e,this.buffer=new lt(J1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();J1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class iF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Y(X1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wo(n)?Y(X1,"Ignoring IndexedDB error during garbage collection: ",n):await $o(n)}await this.Vr(3e5)})}}class sF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(ud.ce);const r=new rF(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(Y1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Y1):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Fs()<=he.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function oF(t,e){return new sF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(){this.changes=new Is(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Qa(r.mutation,i,tn.empty(),De.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){const i=es();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ra();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=es();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Nr();const o=Ga(),a=function(){return Ga()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Mi)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Qa(h.mutation,c,h.mutation.getFieldMask(),De.now())):o.set(c.key,tn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>a.set(c,new lF(h,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Ga();let i=new ze((o,a)=>o-a),s=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||tn.empty();h=a.applyToLocalView(c,h),r.set(l,h);const d=(i.get(a.batchId)||fe()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,d=fP();h.forEach(p=>{if(!s.has(p)){const v=_P(n.get(p),r.get(p));v!==null&&d.set(p,v),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):lP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(es());let a=Il,l=s;return o.next(c=>z.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?z.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,fe())).next(h=>({batchId:a,changes:dP(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=Ra();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ra();return this.indexManager.getCollectionParents(e,s).next(a=>z.forEach(a,l=>{const c=function(d,p){return new Ql(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((d,p)=>{o=o.insert(d,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Rt.newInvalidDocument(h)))});let a=Ra();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&Qa(h.mutation,c,tn.empty(),De.now()),pd(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:tr(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:Zj(i.bundledQuery),readTime:tr(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(){this.overlays=new ze(te.comparator),this.qr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=es();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=es(),s=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ze((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=es(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=es(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return z.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Rj(n,r));let s=this.qr.get(n);s===void 0&&(s=fe(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(){this.sessionToken=wt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(){this.Qr=new lt(ct.$r),this.Ur=new lt(ct.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ct(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new ct(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new te(new Pe([])),r=new ct(n,e),i=new ct(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new te(new Pe([])),r=new ct(n,e),i=new ct(n,e+1);let s=fe();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ct(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ct{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return te.comparator(e.key,n.key)||de(e.Yr,n.Yr)}static Kr(e,n){return de(e.Yr,n.Yr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new lt(ct.$r)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Cj(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?Py:this.tr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ct(n,0),i=new ct(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lt(de);return n.forEach(i=>{const s=new ct(i,0),o=new ct(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;te.isDocumentKey(s)||(s=s.child(""));const o=new ct(new te(s),0);let a=new lt(de);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)},o),z.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Te(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return z.forEach(n.mutations,i=>{const s=new ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new ct(n,0),i=this.Zr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e){this.ri=e,this.docs=function(){return new ze(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Rt.newInvalidDocument(n))}getEntries(e,n){let r=Nr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Rt.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Nr();const o=n.path,a=new te(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||$3(z3(h),r)<=0||(i.has(h.key)||pd(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){se(9500)}ii(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new mF(this)}getSize(e){return z.resolve(this.size)}}class mF extends aF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e){this.persistence=e,this.si=new Is(n=>ky(n),by),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.oi=0,this._i=new Ly,this.targetCount=0,this.ai=Do.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Do(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Pr(n),z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,n){this.ui={},this.overlays={},this.ci=new ud(0),this.li=!1,this.li=!0,this.hi=new dF,this.referenceDelegate=e(this),this.Pi=new gF(this),this.indexManager=new eF,this.remoteDocumentCache=function(i){return new pF(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Jj(n),this.Ii=new cF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new fF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const i=new yF(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return z.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class yF extends H3{constructor(e){super(),this.currentSequenceNumber=e}}class My{constructor(e){this.persistence=e,this.Ri=new Ly,this.Vi=null}static mi(e){return new My(e)}get fi(){if(this.Vi)return this.Vi;throw se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,r=>{const i=te.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,oe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return z.or([()=>z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Th{constructor(e,n){this.persistence=e,this.pi=new Is(r=>G3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=oF(this,n)}static mi(e,n){return new Th(e,n)}Ei(){}di(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return z.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?z.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,oe.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yc(e.data.value)),n}br(e,n,r){return z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=fe(),i=fe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new jy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return QO()?8:q3(Dt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new vF;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Fs()<=he.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Us(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(Fs()<=he.DEBUG&&Y("QueryEngine","Query:",Us(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Fs()<=he.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Us(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,er(n))):z.resolve())}ys(e,n){if(U1(n))return z.resolve(null);let r=er(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Sm(n,null,"F"),r=er(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=fe(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(e,Sm(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,i){return U1(n)||i.isEqual(oe.min())?z.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?z.resolve(null):(Fs()<=he.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Us(n)),this.vs(e,o,n,B3(i,Il)).next(a=>a))})}Ds(e,n){let r=new lt(cP(e));return n.forEach((i,s)=>{pd(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Fs()<=he.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Us(n)),this.ps.getDocumentsMatchingQuery(e,n,wi.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="LocalStore",wF=3e8;class EF{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new ze(de),this.xs=new Is(s=>ky(s),by),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function TF(t,e,n,r){return new EF(t,e,n,r)}async function VP(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=fe();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function xF(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const d=c.batch,p=d.keys();let v=z.resolve();return p.forEach(E=>{v=v.next(()=>h.getEntry(l,E)).next(S=>{const I=c.docVersions.get(E);Te(I!==null,48541),S.version.compareTo(I)<0&&(d.applyToRemoteDocument(S,c),S.isValidDocument()&&(S.setReadTime(c.commitVersion),h.addEntry(S)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=fe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function OP(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function SF(t,e){const n=ae(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((h,d)=>{const p=i.get(d);if(!p)return;a.push(n.Pi.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Pi.addMatchingKeys(s,h.addedDocuments,d)));let v=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?v=v.withResumeToken(wt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(d,v),function(S,I,w){return S.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=wF?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,v,h)&&a.push(n.Pi.updateTargetData(s,v))});let l=Nr(),c=fe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(IF(s,o,e.documentUpdates).next(h=>{l=h.ks,c=h.qs})),!r.isEqual(oe.min())){const h=n.Pi.getLastRemoteSnapshotVersion(s).next(d=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ms=i,s))}function IF(t,e,n){let r=fe(),i=fe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Nr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(oe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Y(Fy,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:i}})}function AF(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Py),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function PF(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new ei(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Rm(t,e,n){const r=ae(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Wo(o))throw o;Y(Fy,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Z1(t,e,n){const r=ae(t);let i=oe.min(),s=fe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const d=ae(l),p=d.xs.get(h);return p!==void 0?z.resolve(d.Ms.get(p)):d.Pi.getTargetData(c,h)}(r,o,er(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:oe.min(),n?s:fe())).next(a=>(CF(r,dj(e),a),{documents:a,Qs:s})))}function CF(t,e,n){let r=t.Os.get(e)||oe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class eE{constructor(){this.activeTargetIds=vj()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RF{constructor(){this.Mo=new eE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new eE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="ConnectivityMonitor";class nE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Y(tE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Y(tE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu=null;function km(){return Gu===null?Gu=function(){return 268435456+Math.round(2147483648*Math.random())}():Gu++,"0x"+Gu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="RestConnection",bF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===gh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=km(),a=this.zo(e,n.toUriEncodedString());Y($f,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:c}=new URL(a),h=Di(c);return this.Jo(e,a,l,r,h).then(d=>(Y($f,`Received RPC '${e}' ${o}: `,d),d),d=>{throw Ro($f,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",r),d})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=bF[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const It="WebChannelConnection";class VF extends NF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=km();return new Promise((a,l)=>{const c=new LA;c.setWithCredentials(!0),c.listenOnce(MA.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case gc.NO_ERROR:const d=c.getResponseJson();Y(It,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case gc.TIMEOUT:Y(It,`RPC '${e}' ${o} timed out`),l(new Q(U.DEADLINE_EXCEEDED,"Request time out"));break;case gc.HTTP_ERROR:const p=c.getStatus();if(Y(It,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);const E=v==null?void 0:v.error;if(E&&E.status&&E.message){const S=function(w){const y=w.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(y)>=0?y:U.UNKNOWN}(E.status);l(new Q(S,E.message))}else l(new Q(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Q(U.UNAVAILABLE,"Connection failed."));break;default:se(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Y(It,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);Y(It,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",h,r,15)})}T_(e,n,r){const i=km(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=UA(),a=FA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");Y(It,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);this.I_(d);let p=!1,v=!1;const E=new DF({Yo:I=>{v?Y(It,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(p||(Y(It,`Opening RPC '${e}' stream ${i} transport.`),d.open(),p=!0),Y(It,`RPC '${e}' stream ${i} sending:`,I),d.send(I))},Zo:()=>d.close()}),S=(I,w,y)=>{I.listen(w,T=>{try{y(T)}catch(k){setTimeout(()=>{throw k},0)}})};return S(d,Ca.EventType.OPEN,()=>{v||(Y(It,`RPC '${e}' stream ${i} transport opened.`),E.o_())}),S(d,Ca.EventType.CLOSE,()=>{v||(v=!0,Y(It,`RPC '${e}' stream ${i} transport closed`),E.a_(),this.E_(d))}),S(d,Ca.EventType.ERROR,I=>{v||(v=!0,Ro(It,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),E.a_(new Q(U.UNAVAILABLE,"The operation could not be completed")))}),S(d,Ca.EventType.MESSAGE,I=>{var w;if(!v){const y=I.data[0];Te(!!y,16349);const T=y,k=(T==null?void 0:T.error)||((w=T[0])==null?void 0:w.error);if(k){Y(It,`RPC '${e}' stream ${i} received error:`,k);const M=k.status;let B=function(A){const R=tt[A];if(R!==void 0)return TP(R)}(M),C=k.message;B===void 0&&(B=U.INTERNAL,C="Unknown error status: "+M+" with message "+k.message),v=!0,E.a_(new Q(B,C)),d.close()}else Y(It,`RPC '${e}' stream ${i} received:`,y),E.u_(y)}}),S(a,jA.STAT_EVENT,I=>{I.stat===ym.PROXY?Y(It,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===ym.NOPROXY&&Y(It,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.__()},0),E}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(t){return new jj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="PersistentStream";class MP{constructor(e,n,r,i,s,o,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new LP(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(br(n.toString()),br("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Q(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Y(rE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Y(rE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OF extends MP{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Bj(this.serializer,e),r=function(s){if(!("targetChange"in s))return oe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?oe.min():o.readTime?tr(o.readTime):oe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Cm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Tm(l)?{documents:Wj(s,l)}:{query:Hj(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=IP(s,o.resumeToken);const c=Im(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(oe.min())>0){a.readTime=Eh(s,o.snapshotVersion.toTimestamp());const c=Im(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Kj(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Cm(this.serializer),n.removeTarget=e,this.q_(n)}}class LF extends MP{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Te(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Te(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=$j(e.writeResults,e.commitTime),r=tr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Cm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>zj(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{}class jF extends MF{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Q(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,Am(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(U.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Am(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class FF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(br(n),this.aa=!1):Y("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="RemoteStore";class UF{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{As(this)&&(Y(vs,"Restarting streams for network reachability change."),await async function(l){const c=ae(l);c.Ea.add(4),await Jl(c),c.Ra.set("Unknown"),c.Ea.delete(4),await _d(c)}(this))})}),this.Ra=new FF(r,i)}}async function _d(t){if(As(t))for(const e of t.da)await e(!0)}async function Jl(t){for(const e of t.da)await e(!1)}function jP(t,e){const n=ae(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),$y(n)?zy(n):Ho(n).O_()&&By(n,e))}function Uy(t,e){const n=ae(t),r=Ho(n);n.Ia.delete(e),r.O_()&&FP(n,e),n.Ia.size===0&&(r.O_()?r.L_():As(n)&&n.Ra.set("Unknown"))}function By(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ho(t).Y_(e)}function FP(t,e){t.Va.Ue(e),Ho(t).Z_(e)}function zy(t){t.Va=new Vj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ho(t).start(),t.Ra.ua()}function $y(t){return As(t)&&!Ho(t).x_()&&t.Ia.size>0}function As(t){return ae(t).Ea.size===0}function UP(t){t.Va=void 0}async function BF(t){t.Ra.set("Online")}async function zF(t){t.Ia.forEach((e,n)=>{By(t,e)})}async function $F(t,e){UP(t),$y(t)?(t.Ra.ha(e),zy(t)):t.Ra.set("Unknown")}async function WF(t,e,n){if(t.Ra.set("Online"),e instanceof SP&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){Y(vs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xh(t,r)}else if(e instanceof wc?t.Va.Ze(e):e instanceof xP?t.Va.st(e):t.Va.tt(e),!n.isEqual(oe.min()))try{const r=await OP(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.Ia.get(c);h&&s.Ia.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.Ia.get(l);if(!h)return;s.Ia.set(l,h.withResumeToken(wt.EMPTY_BYTE_STRING,h.snapshotVersion)),FP(s,l);const d=new ei(h.target,l,c,h.sequenceNumber);By(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Y(vs,"Failed to raise snapshot:",r),await xh(t,r)}}async function xh(t,e,n){if(!Wo(e))throw e;t.Ea.add(1),await Jl(t),t.Ra.set("Offline"),n||(n=()=>OP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y(vs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await _d(t)})}function BP(t,e){return e().catch(n=>xh(t,n,e))}async function wd(t){const e=ae(t),n=Si(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Py;for(;HF(e);)try{const i=await AF(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,qF(e,i)}catch(i){await xh(e,i)}zP(e)&&$P(e)}function HF(t){return As(t)&&t.Ta.length<10}function qF(t,e){t.Ta.push(e);const n=Si(t);n.O_()&&n.X_&&n.ea(e.mutations)}function zP(t){return As(t)&&!Si(t).x_()&&t.Ta.length>0}function $P(t){Si(t).start()}async function KF(t){Si(t).ra()}async function GF(t){const e=Si(t);for(const n of t.Ta)e.ea(n.mutations)}async function QF(t,e,n){const r=t.Ta.shift(),i=Dy.from(r,e,n);await BP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await wd(t)}async function YF(t,e){e&&Si(t).X_&&await async function(r,i){if(function(o){return bj(o)&&o!==U.ABORTED}(i.code)){const s=r.Ta.shift();Si(r).B_(),await BP(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await wd(r)}}(t,e),zP(t)&&$P(t)}async function iE(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),Y(vs,"RemoteStore received new credentials");const r=As(n);n.Ea.add(3),await Jl(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await _d(n)}async function XF(t,e){const n=ae(t);e?(n.Ea.delete(2),await _d(n)):e||(n.Ea.add(2),await Jl(n),n.Ra.set("Unknown"))}function Ho(t){return t.ma||(t.ma=function(n,r,i){const s=ae(n);return s.sa(),new OF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:BF.bind(null,t),t_:zF.bind(null,t),r_:$F.bind(null,t),H_:WF.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),$y(t)?zy(t):t.Ra.set("Unknown")):(await t.ma.stop(),UP(t))})),t.ma}function Si(t){return t.fa||(t.fa=function(n,r,i){const s=ae(n);return s.sa(),new LF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:KF.bind(null,t),r_:YF.bind(null,t),ta:GF.bind(null,t),na:QF.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await wd(t)):(await t.fa.stop(),t.Ta.length>0&&(Y(vs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Wy(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hy(t,e){if(br("AsyncQueue",`${e}: ${t}`),Wo(t))return new Q(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{static emptySet(e){return new yo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=Ra(),this.sortedSet=new ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(){this.ga=new ze(te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vo{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Vo(e,n,yo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class ZF{constructor(){this.queries=oE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ae(n),s=i.queries;i.queries=oE(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Q(U.ABORTED,"Firestore shutting down"))}}function oE(){return new Is(t=>uP(t),fd)}async function qy(t,e){const n=ae(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new JF,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Hy(o,`Initialization of query '${Us(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Gy(n)}async function Ky(t,e){const n=ae(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function e5(t,e){const n=ae(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&Gy(n)}function t5(t,e,n){const r=ae(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function Gy(t){t.Ca.forEach(e=>{e.next()})}var bm,aE;(aE=bm||(bm={})).Ma="default",aE.Cache="cache";class Qy{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Vo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==bm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e){this.key=e}}class HP{constructor(e){this.key=e}}class n5{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=fe(),this.mutatedKeys=fe(),this.eu=cP(e),this.tu=new yo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new sE,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const p=i.get(h),v=pd(this.query,d)?d:null,E=!!p&&this.mutatedKeys.has(p.key),S=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let I=!1;p&&v?p.data.isEqual(v.data)?E!==S&&(r.track({type:3,doc:v}),I=!0):this.su(p,v)||(r.track({type:2,doc:v}),I=!0,(l&&this.eu(v,l)>0||c&&this.eu(v,c)<0)&&(a=!0)):!p&&v?(r.track({type:0,doc:v}),I=!0):p&&!v&&(r.track({type:1,doc:p}),I=!0,(l||c)&&(a=!0)),I&&(v?(o=o.add(v),s=S?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,d)=>function(v,E){const S=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{Rt:I})}};return S(v)-S(E)}(h.type,d.type)||this.eu(h.doc,d.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new Vo(this.query,e.tu,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=fe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new HP(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new WP(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Yy="SyncEngine";class r5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class i5{constructor(e){this.key=e,this.hu=!1}}class s5{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Is(a=>uP(a),fd),this.Iu=new Map,this.Eu=new Set,this.du=new ze(te.comparator),this.Au=new Map,this.Ru=new Ly,this.Vu={},this.mu=new Map,this.fu=Do.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function o5(t,e,n=!0){const r=XP(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await qP(r,e,n,!0),i}async function a5(t,e){const n=XP(t);await qP(n,e,!0,!1)}async function qP(t,e,n,r){const i=await PF(t.localStore,er(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await l5(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&jP(t.remoteStore,i),a}async function l5(t,e,n,r,i){t.pu=(d,p,v)=>async function(S,I,w,y){let T=I.view.ru(w);T.Cs&&(T=await Z1(S.localStore,I.query,!1).then(({documents:C})=>I.view.ru(C,T)));const k=y&&y.targetChanges.get(I.targetId),M=y&&y.targetMismatches.get(I.targetId)!=null,B=I.view.applyChanges(T,S.isPrimaryClient,k,M);return uE(S,I.targetId,B.au),B.snapshot}(t,d,p,v);const s=await Z1(t.localStore,e,!0),o=new n5(e,s.Qs),a=o.ru(s.documents),l=Xl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);uE(t,n,c.au);const h=new r5(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function u5(t,e,n){const r=ae(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!fd(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Rm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Uy(r.remoteStore,i.targetId),Nm(r,i.targetId)}).catch($o)):(Nm(r,i.targetId),await Rm(r.localStore,i.targetId,!0))}async function c5(t,e){const n=ae(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Uy(n.remoteStore,r.targetId))}async function h5(t,e,n){const r=v5(t);try{const i=await function(o,a){const l=ae(o),c=De.now(),h=a.reduce((v,E)=>v.add(E.key),fe());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let E=Nr(),S=fe();return l.Ns.getEntries(v,h).next(I=>{E=I,E.forEach((w,y)=>{y.isValidDocument()||(S=S.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,E)).next(I=>{d=I;const w=[];for(const y of a){const T=Aj(y,d.get(y.key).overlayedDocument);T!=null&&w.push(new Mi(y.key,T,tP(T.value.mapValue),On.exists(!0)))}return l.mutationQueue.addMutationBatch(v,c,w,a)}).next(I=>{p=I;const w=I.applyToLocalDocumentSet(d,S);return l.documentOverlayCache.saveOverlays(v,I.batchId,w)})}).then(()=>({batchId:p.batchId,changes:dP(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new ze(de)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(r,i.batchId,n),await Zl(r,i.changes),await wd(r.remoteStore)}catch(i){const s=Hy(i,"Failed to persist write");n.reject(s)}}async function KP(t,e){const n=ae(t);try{const r=await SF(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Te(o.hu,14607):i.removedDocuments.size>0&&(Te(o.hu,42227),o.hu=!1))}),await Zl(n,r,e)}catch(r){await $o(r)}}function lE(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ae(o);l.onlineState=a;let c=!1;l.queries.forEach((h,d)=>{for(const p of d.Sa)p.va(a)&&(c=!0)}),c&&Gy(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function d5(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new ze(te.comparator);o=o.insert(s,Rt.newNoDocument(s,oe.min()));const a=fe().add(s),l=new yd(oe.min(),new Map,new ze(de),o,a);await KP(r,l),r.du=r.du.remove(s),r.Au.delete(e),Xy(r)}else await Rm(r.localStore,e,!1).then(()=>Nm(r,e,n)).catch($o)}async function f5(t,e){const n=ae(t),r=e.batch.batchId;try{const i=await xF(n.localStore,e);QP(n,r,null),GP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Zl(n,i)}catch(i){await $o(i)}}async function p5(t,e,n){const r=ae(t);try{const i=await function(o,a){const l=ae(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(Te(d!==null,37113),h=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);QP(r,e,n),GP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Zl(r,i)}catch(i){await $o(i)}}function GP(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function QP(t,e,n){const r=ae(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Nm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||YP(t,r)})}function YP(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Uy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Xy(t))}function uE(t,e,n){for(const r of n)r instanceof WP?(t.Ru.addReference(r.key,e),m5(t,r)):r instanceof HP?(Y(Yy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||YP(t,r.key)):se(19791,{wu:r})}function m5(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Y(Yy,"New document in limbo: "+n),t.Eu.add(r),Xy(t))}function Xy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new te(Pe.fromString(e)),r=t.fu.next();t.Au.set(r,new i5(n)),t.du=t.du.insert(n,r),jP(t.remoteStore,new ei(er(dd(n.path)),r,"TargetPurposeLimboResolution",ud.ce))}}async function Zl(t,e,n){const r=ae(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=jy.As(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,c){const h=ae(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>z.forEach(c,p=>z.forEach(p.Es,v=>h.persistence.referenceDelegate.addReference(d,p.targetId,v)).next(()=>z.forEach(p.ds,v=>h.persistence.referenceDelegate.removeReference(d,p.targetId,v)))))}catch(d){if(!Wo(d))throw d;Y(Fy,"Failed to update sequence numbers: "+d)}for(const d of c){const p=d.targetId;if(!d.fromCache){const v=h.Ms.get(p),E=v.snapshotVersion,S=v.withLastLimboFreeSnapshotVersion(E);h.Ms=h.Ms.insert(p,S)}}}(r.localStore,s))}async function g5(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){Y(Yy,"User change. New user:",e.toKey());const r=await VP(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new Q(U.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zl(n,r.Ls)}}function y5(t,e){const n=ae(t),r=n.Au.get(e);if(r&&r.hu)return fe().add(r.key);{let i=fe();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function XP(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=KP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=d5.bind(null,e),e.Pu.H_=e5.bind(null,e.eventManager),e.Pu.yu=t5.bind(null,e.eventManager),e}function v5(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=p5.bind(null,e),e}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return TF(this.persistence,new _F,e.initialUser,this.serializer)}Cu(e){return new DP(My.mi,this.serializer)}Du(e){return new RF}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class _5 extends Sh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Te(this.persistence.referenceDelegate instanceof Th,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new iF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?zt.withCacheSize(this.cacheSizeBytes):zt.DEFAULT;return new DP(r=>Th.mi(r,n),this.serializer)}}class Dm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=g5.bind(null,this.syncEngine),await XF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZF}()}createDatastore(e){const n=vd(e.databaseInfo.databaseId),r=function(s){return new VF(s)}(e.databaseInfo);return function(s,o,a,l){return new jF(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new UF(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>lE(this.syncEngine,n,0),function(){return nE.v()?new nE:new kF}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,h){const d=new s5(i,s,o,a,l,c);return h&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ae(i);Y(vs,"RemoteStore shutting down."),s.Ea.add(5),await Jl(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Dm.provider={build:()=>new Dm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):br("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii="FirestoreClient";class w5{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pt.UNAUTHENTICATED,this.clientId=Ay.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Y(Ii,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y(Ii,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Hy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hf(t,e){t.asyncQueue.verifyOperationInProgress(),Y(Ii,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await VP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function cE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await E5(t);Y(Ii,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>iE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>iE(e.remoteStore,i)),t._onlineComponents=e}async function E5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(Ii,"Using user provided OfflineComponentProvider");try{await Hf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ro("Error using user provided cache. Falling back to memory cache: "+n),await Hf(t,new Sh)}}else Y(Ii,"Using default OfflineComponentProvider"),await Hf(t,new _5(void 0));return t._offlineComponents}async function JP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(Ii,"Using user provided OnlineComponentProvider"),await cE(t,t._uninitializedComponentsProvider._online)):(Y(Ii,"Using default OnlineComponentProvider"),await cE(t,new Dm))),t._onlineComponents}function T5(t){return JP(t).then(e=>e.syncEngine)}async function Ih(t){const e=await JP(t),n=e.eventManager;return n.onListen=o5.bind(null,e.syncEngine),n.onUnlisten=u5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=a5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=c5.bind(null,e.syncEngine),n}function x5(t,e,n={}){const r=new Sr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new Jy({next:p=>{h.Nu(),o.enqueueAndForget(()=>Ky(s,d));const v=p.docs.has(a);!v&&p.fromCache?c.reject(new Q(U.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&p.fromCache&&l&&l.source==="server"?c.reject(new Q(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),d=new Qy(dd(a.path),h,{includeMetadataChanges:!0,qa:!0});return qy(s,d)}(await Ih(t),t.asyncQueue,e,n,r)),r.promise}function S5(t,e,n={}){const r=new Sr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new Jy({next:p=>{h.Nu(),o.enqueueAndForget(()=>Ky(s,d)),p.fromCache&&l.source==="server"?c.reject(new Q(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),d=new Qy(a,h,{includeMetadataChanges:!0,qa:!0});return qy(s,d)}(await Ih(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="firestore.googleapis.com",dE=!0;class fE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eC,this.ssl=dE}else this.host=e.host,this.ssl=e.ssl??dE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=NP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nF)throw new Q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}U3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZP(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ed{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new k3;switch(r.type){case"firstParty":return new V3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=hE.get(n);r&&(Y("ComponentProvider","Removing Datastore"),hE.delete(n),r.terminate())}(this),Promise.resolve()}}function I5(t,e,n,r={}){var c;t=sn(t,Ed);const i=Di(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(dy(`https://${a}`),fy("Firestore",!0)),s.host!==eC&&s.host!==a&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!fs(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=Pt.MOCK_USER;else{h=GI(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Pt(p)}t._authCredentials=new b3(new zA(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ps(this.firestore,e,this._query)}}class He{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new He(this.firestore,e,this._key)}toJSON(){return{type:He._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Gl(n,He._jsonSchema))return new He(e,r||null,new te(Pe.fromString(n.referencePath)))}}He._jsonSchemaVersion="firestore/documentReference/1.0",He._jsonSchema={type:it("string",He._jsonSchemaVersion),referencePath:it("string")};class fi extends Ps{constructor(e,n,r){super(e,n,dd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new He(this.firestore,null,new te(e))}withConverter(e){return new fi(this.firestore,e,this._path)}}function pE(t,e,...n){if(t=Le(t),$A("collection","path",e),t instanceof Ed){const r=Pe.fromString(e,...n);return A1(r),new fi(t,null,r)}{if(!(t instanceof He||t instanceof fi))throw new Q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return A1(r),new fi(t.firestore,null,r)}}function sr(t,e,...n){if(t=Le(t),arguments.length===1&&(e=Ay.newId()),$A("doc","path",e),t instanceof Ed){const r=Pe.fromString(e,...n);return I1(r),new He(t,null,new te(r))}{if(!(t instanceof He||t instanceof fi))throw new Q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return I1(r),new He(t.firestore,t instanceof fi?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="AsyncQueue";class gE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new LP(this,"async_queue_retry"),this._c=()=>{const r=Wf();r&&Y(mE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Wf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Wf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Sr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Wo(e))throw e;Y(mE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,br("INTERNAL UNHANDLED ERROR: ",yE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Wy.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&se(47125,{Pc:yE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function yE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Ai extends Ed{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new gE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gE(e),this._firestoreClient=void 0,await e}}}function A5(t,e){const n=typeof t=="object"?t:gy(),r=typeof t=="string"?t:gh,i=id(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=HI("firestore");s&&I5(i,...s)}return i}function Td(t){if(t._terminated)throw new Q(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||P5(t),t._firestoreClient}function P5(t){var r,i,s;const e=t._freezeSettings(),n=function(a,l,c,h){return new X3(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,ZP(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new w5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _n(wt.fromBase64String(e))}catch(n){throw new Q(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _n(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gl(e,_n._jsonSchema))return _n.fromBase64String(e.bytes)}}_n._jsonSchemaVersion="firestore/bytes/1.0",_n._jsonSchema={type:it("string",_n._jsonSchemaVersion),bytes:it("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:nr._jsonSchemaVersion}}static fromJSON(e){if(Gl(e,nr._jsonSchema))return new nr(e.latitude,e.longitude)}}nr._jsonSchemaVersion="firestore/geoPoint/1.0",nr._jsonSchema={type:it("string",nr._jsonSchemaVersion),latitude:it("number"),longitude:it("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gl(e,rr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new rr(e.vectorValues);throw new Q(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rr._jsonSchemaVersion="firestore/vectorValue/1.0",rr._jsonSchema={type:it("string",rr._jsonSchemaVersion),vectorValues:it("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=/^__.*__$/;class R5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Mi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yl(e,this.data,n,this.fieldTransforms)}}class tC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Mi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function nC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{Ac:t})}}class Zy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Zy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ah(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(nC(this.Ac)&&C5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class k5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vd(e)}Cc(e,n,r,i=!1){return new Zy({Ac:e,methodName:n,Dc:r,path:yt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Id(t){const e=t._freezeSettings(),n=vd(t._databaseId);return new k5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function rC(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);tv("Data must be an object, but it was:",o,r);const a=iC(r,o);let l,c;if(s.merge)l=new tn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const p=Vm(e,d,n);if(!o.contains(p))throw new Q(U.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);oC(h,p)||h.push(p)}l=new tn(h),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new R5(new Wt(a),l,c)}class Ad extends Sd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ad}}class ev extends Sd{_toFieldTransform(e){return new Tj(e.path,new Rl)}isEqual(e){return e instanceof ev}}function b5(t,e,n,r){const i=t.Cc(1,e,n);tv("Data must be an object, but it was:",i,r);const s=[],o=Wt.empty();Li(r,(l,c)=>{const h=nv(e,l,n);c=Le(c);const d=i.yc(h);if(c instanceof Ad)s.push(h);else{const p=eu(c,d);p!=null&&(s.push(h),o.set(h,p))}});const a=new tn(s);return new tC(o,a,i.fieldTransforms)}function N5(t,e,n,r,i,s){const o=t.Cc(1,e,n),a=[Vm(e,r,n)],l=[i];if(s.length%2!=0)throw new Q(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(Vm(e,s[p])),l.push(s[p+1]);const c=[],h=Wt.empty();for(let p=a.length-1;p>=0;--p)if(!oC(c,a[p])){const v=a[p];let E=l[p];E=Le(E);const S=o.yc(v);if(E instanceof Ad)c.push(v);else{const I=eu(E,S);I!=null&&(c.push(v),h.set(v,I))}}const d=new tn(c);return new tC(h,d,o.fieldTransforms)}function D5(t,e,n,r=!1){return eu(n,t.Cc(r?4:3,e))}function eu(t,e){if(sC(t=Le(t)))return tv("Unsupported field value:",e,t),iC(t,e);if(t instanceof Sd)return function(r,i){if(!nC(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=eu(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Le(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _j(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=De.fromDate(r);return{timestampValue:Eh(i.serializer,s)}}if(r instanceof De){const s=new De(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Eh(i.serializer,s)}}if(r instanceof nr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _n)return{bytesValue:IP(i.serializer,r._byteString)};if(r instanceof He){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Oy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof rr)return function(o,a){return{mapValue:{fields:{[JA]:{stringValue:eP},[yh]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return Ny(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${ld(r)}`)}(t,e)}function iC(t,e){const n={};return qA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Li(t,(r,i)=>{const s=eu(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function sC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof De||t instanceof nr||t instanceof _n||t instanceof He||t instanceof Sd||t instanceof rr)}function tv(t,e,n){if(!sC(n)||!WA(n)){const r=ld(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Vm(t,e,n){if((e=Le(e))instanceof xd)return e._internalPath;if(typeof e=="string")return nv(t,e);throw Ah("Field path arguments must be of type string or ",t,!1,void 0,n)}const V5=new RegExp("[~\\*/\\[\\]]");function nv(t,e,n){if(e.search(V5)>=0)throw Ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xd(...e.split("."))._internalPath}catch{throw Ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ah(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Q(U.INVALID_ARGUMENT,a+t+l)}function oC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new He(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new O5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class O5 extends aC{data(){return super.data()}}function rv(t,e){return typeof e=="string"?nv(t,e):e instanceof xd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iv{}class L5 extends iv{}function M5(t,e,...n){let r=[];e instanceof iv&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof sv).length,a=s.filter(l=>l instanceof Pd).length;if(o>1||o>0&&a>0)throw new Q(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Pd extends L5{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Pd(e,n,r)}_apply(e){const n=this._parse(e);return uC(e._query,n),new Ps(e.firestore,e.converter,xm(e._query,n))}_parse(e){const n=Id(e.firestore);return function(s,o,a,l,c,h,d){let p;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Q(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){wE(d,h);const E=[];for(const S of d)E.push(_E(l,s,S));p={arrayValue:{values:E}}}else p=_E(l,s,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||wE(d,h),p=D5(a,o,d,h==="in"||h==="not-in");return rt.create(c,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function j5(t,e,n){const r=e,i=rv("where",t);return Pd._create(i,r,n)}class sv extends iv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Fn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)uC(o,l),o=xm(o,l)}(e._query,n),new Ps(e.firestore,e.converter,xm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function _E(t,e,n){if(typeof(n=Le(n))=="string"){if(n==="")throw new Q(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lP(e)&&n.indexOf("/")!==-1)throw new Q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Pe.fromString(n));if(!te.isDocumentKey(r))throw new Q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return V1(t,new te(r))}if(n instanceof He)return V1(t,n._key);throw new Q(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ld(n)}.`)}function wE(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uC(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class F5{convertValue(e,n="none"){switch(xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Li(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[yh].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>Je(o.doubleValue));return new rr(n)}convertGeoPoint(e){return new nr(Je(e.latitude),Je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Al(e));default:return null}}convertTimestamp(e){const n=Ei(e);return new De(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pe.fromString(e);Te(bP(r),9688,{name:e});const i=new Pl(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(n)||br(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class ba{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ss extends aC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(rv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ss._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ss._jsonSchemaVersion="firestore/documentSnapshot/1.0",ss._jsonSchema={type:it("string",ss._jsonSchemaVersion),bundleSource:it("string","DocumentSnapshot"),bundleName:it("string"),bundle:it("string")};class Ec extends ss{data(e={}){return super.data(e)}}class os{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ba(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ec(this._firestore,this._userDataWriter,r.key,r,new ba(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Ec(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ba(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Ec(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ba(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:U5(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=os._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ay.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function U5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(t){t=sn(t,He);const e=sn(t.firestore,Ai);return x5(Td(e),t._key).then(n=>dC(e,t,n))}os._jsonSchemaVersion="firestore/querySnapshot/1.0",os._jsonSchema={type:it("string",os._jsonSchemaVersion),bundleSource:it("string","QuerySnapshot"),bundleName:it("string"),bundle:it("string")};class ov extends F5{constructor(e){super(),this.firestore=e}convertBytes(e){return new _n(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new He(this.firestore,null,n)}}function B5(t){t=sn(t,Ps);const e=sn(t.firestore,Ai),n=Td(e),r=new ov(e);return lC(t._query),S5(n,t._query).then(i=>new os(e,r,t,i))}function hC(t,e,n){t=sn(t,He);const r=sn(t.firestore,Ai),i=cC(t.converter,e);return av(r,[rC(Id(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,On.none())])}function Ph(t,e,n,...r){t=sn(t,He);const i=sn(t.firestore,Ai),s=Id(i);let o;return o=typeof(e=Le(e))=="string"||e instanceof xd?N5(s,"updateDoc",t._key,e,n,r):b5(s,"updateDoc",t._key,e),av(i,[o.toMutation(t._key,On.exists(!0))])}function z5(t,e){const n=sn(t.firestore,Ai),r=sr(t),i=cC(t.converter,e);return av(n,[rC(Id(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,On.exists(!1))]).then(()=>r)}function $5(t,...e){var l,c,h;t=Le(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||vE(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(vE(e[r])){const d=e[r];e[r]=(l=d.next)==null?void 0:l.bind(d),e[r+1]=(c=d.error)==null?void 0:c.bind(d),e[r+2]=(h=d.complete)==null?void 0:h.bind(d)}let s,o,a;if(t instanceof He)o=sn(t.firestore,Ai),a=dd(t._key.path),s={next:d=>{e[r]&&e[r](dC(o,t,d))},error:e[r+1],complete:e[r+2]};else{const d=sn(t,Ps);o=sn(d.firestore,Ai),a=d._query;const p=new ov(o);s={next:v=>{e[r]&&e[r](new os(o,p,d,v))},error:e[r+1],complete:e[r+2]},lC(t._query)}return function(p,v,E,S){const I=new Jy(S),w=new Qy(v,I,E);return p.asyncQueue.enqueueAndForget(async()=>qy(await Ih(p),w)),()=>{I.Nu(),p.asyncQueue.enqueueAndForget(async()=>Ky(await Ih(p),w))}}(Td(o),a,i,s)}function av(t,e){return function(r,i){const s=new Sr;return r.asyncQueue.enqueueAndForget(async()=>h5(await T5(r),i,s)),s.promise}(Td(t),e)}function dC(t,e,n){const r=n.docs.get(e._key),i=new ov(t);return new ss(t,i,e._key,r,new ba(n.hasPendingWrites,n.fromCache),e.converter)}function Ya(){return new ev("serverTimestamp")}(function(e,n=!0){(function(i){zo=i})(xs),ps(new _i("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ai(new N3(r.getProvider("auth-internal")),new O3(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(c.options.projectId,h)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Xn(E1,T1,e),Xn(E1,T1,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="firebasestorage.googleapis.com",pC="storageBucket",W5=2*60*1e3,H5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge extends or{constructor(e,n,r=0){super(qf(e),`Firebase Storage: ${n} (${qf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ge.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return qf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ke;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ke||(Ke={}));function qf(t){return"storage/"+t}function lv(){const t="An unknown error occurred, please check the error payload for server response.";return new Ge(Ke.UNKNOWN,t)}function q5(t){return new Ge(Ke.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function K5(t){return new Ge(Ke.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function G5(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ge(Ke.UNAUTHENTICATED,t)}function Q5(){return new Ge(Ke.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Y5(t){return new Ge(Ke.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function X5(){return new Ge(Ke.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function J5(){return new Ge(Ke.CANCELED,"User canceled the upload/download.")}function Z5(t){return new Ge(Ke.INVALID_URL,"Invalid URL '"+t+"'.")}function e9(t){return new Ge(Ke.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function t9(){return new Ge(Ke.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+pC+"' property when initializing the app?")}function n9(){return new Ge(Ke.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function r9(){return new Ge(Ke.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function i9(t){return new Ge(Ke.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Om(t){return new Ge(Ke.INVALID_ARGUMENT,t)}function mC(){return new Ge(Ke.APP_DELETED,"The Firebase app was deleted.")}function s9(t){return new Ge(Ke.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Xa(t,e){return new Ge(Ke.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ya(t){throw new Ge(Ke.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=nn.makeFromUrl(e,n)}catch{return new nn(e,"")}if(r.path==="")return r;throw e9(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(k){k.path_=decodeURIComponent(k.path)}const h="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",v=new RegExp(`^https?://${d}/${h}/b/${i}/o${p}`,"i"),E={bucket:1,path:3},S=n===fC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",w=new RegExp(`^https?://${S}/${i}/${I}`,"i"),T=[{regex:a,indices:l,postModify:s},{regex:v,indices:E,postModify:c},{regex:w,indices:{bucket:1,path:2},postModify:c}];for(let k=0;k<T.length;k++){const M=T[k],B=M.regex.exec(e);if(B){const C=B[M.indices.bucket];let _=B[M.indices.path];_||(_=""),r=new nn(C,_),M.postModify(r);break}}if(r==null)throw Z5(e);return r}}class o9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function h(...I){c||(c=!0,e.apply(null,I))}function d(I){i=setTimeout(()=>{i=null,t(v,l())},I)}function p(){s&&clearTimeout(s)}function v(I,...w){if(c){p();return}if(I){p(),h.call(null,I,...w);return}if(l()||o){p(),h.call(null,I,...w);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,d(T)}let E=!1;function S(I){E||(E=!0,p(),!c&&(i!==null?(I||(a=2),clearTimeout(i),d(0)):I||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,S(!0)},n),S}function l9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(t){return t!==void 0}function c9(t){return typeof t=="object"&&!Array.isArray(t)}function uv(t){return typeof t=="string"||t instanceof String}function EE(t){return cv()&&t instanceof Blob}function cv(){return typeof Blob<"u"}function TE(t,e,n,r){if(r<e)throw Om(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Om(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function gC(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var as;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(as||(as={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e,n,r,i,s,o,a,l,c,h,d,p=!0,v=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=d,this.retry=p,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,S)=>{this.resolve_=E,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Qu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===as.NO_ERROR,l=s.getStatus();if(!a||h9(l,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===as.ABORT;r(!1,new Qu(!1,null,h));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Qu(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());u9(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=lv();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?mC():J5();o(l)}else{const l=X5();o(l)}};this.canceled_?n(!1,new Qu(!1,null,!0)):this.backoffId_=a9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&l9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function f9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function p9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function m9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function g9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function y9(t,e,n,r,i,s,o=!0,a=!1){const l=gC(t.urlParams),c=t.url+l,h=Object.assign({},t.headers);return m9(h,e),f9(h,n),p9(h,s),g9(h,r),new d9(c,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function _9(...t){const e=v9();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(cv())return new Blob(t);throw new Ge(Ke.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function w9(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(t){if(typeof atob>"u")throw i9("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Kf{constructor(e,n){this.data=e,this.contentType=n||null}}function T9(t,e){switch(t){case Hn.RAW:return new Kf(yC(e));case Hn.BASE64:case Hn.BASE64URL:return new Kf(vC(t,e));case Hn.DATA_URL:return new Kf(S9(e),I9(e))}throw lv()}function yC(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function x9(t){let e;try{e=decodeURIComponent(t)}catch{throw Xa(Hn.DATA_URL,"Malformed data URL.")}return yC(e)}function vC(t,e){switch(t){case Hn.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Xa(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Hn.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Xa(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=E9(e)}catch(i){throw i.message.includes("polyfill")?i:Xa(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class _C{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Xa(Hn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=A9(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function S9(t){const e=new _C(t);return e.base64?vC(Hn.BASE64,e.rest):x9(e.rest)}function I9(t){return new _C(t).contentType}function A9(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n){let r=0,i="";EE(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(EE(this.data_)){const r=this.data_,i=w9(r,e,n);return i===null?null:new Qr(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Qr(r,!0)}}static getBlob(...e){if(cv()){const n=e.map(r=>r instanceof Qr?r.data_:r);return new Qr(_9.apply(null,n))}else{const n=e.map(o=>uv(o)?T9(Hn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Qr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t){let e;try{e=JSON.parse(t)}catch{return null}return c9(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function C9(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function EC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(t,e){return e}class Ot{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||R9}}let Yu=null;function k9(t){return!uv(t)||t.length<2?t:EC(t)}function TC(){if(Yu)return Yu;const t=[];t.push(new Ot("bucket")),t.push(new Ot("generation")),t.push(new Ot("metageneration")),t.push(new Ot("name","fullPath",!0));function e(s,o){return k9(o)}const n=new Ot("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Ot("size");return i.xform=r,t.push(i),t.push(new Ot("timeCreated")),t.push(new Ot("updated")),t.push(new Ot("md5Hash",null,!0)),t.push(new Ot("cacheControl",null,!0)),t.push(new Ot("contentDisposition",null,!0)),t.push(new Ot("contentEncoding",null,!0)),t.push(new Ot("contentLanguage",null,!0)),t.push(new Ot("contentType",null,!0)),t.push(new Ot("metadata","customMetadata",!0)),Yu=t,Yu}function b9(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new nn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function N9(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return b9(r,t),r}function xC(t,e,n){const r=wC(e);return r===null?null:N9(t,r,n)}function D9(t,e,n,r){const i=wC(e);if(i===null||!uv(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const h=t.bucket,d=t.fullPath,p="/b/"+o(h)+"/o/"+o(d),v=Rd(p,n,r),E=gC({alt:"media",token:c});return v+E})[0]}function V9(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class hv{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(t){if(!t)throw lv()}function O9(t,e){function n(r,i){const s=xC(t,i,e);return SC(s!==null),s}return n}function L9(t,e){function n(r,i){const s=xC(t,i,e);return SC(s!==null),D9(s,i,t.host,t._protocol)}return n}function IC(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Q5():i=G5():n.getStatus()===402?i=K5(t.bucket):n.getStatus()===403?i=Y5(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function AC(t){const e=IC(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=q5(t.path)),s.serverResponse=i.serverResponse,s}return n}function M9(t,e,n){const r=e.fullServerUrl(),i=Rd(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new hv(i,s,L9(t,n),o);return a.errorHandler=AC(e),a}function j9(t,e){const n=e.fullServerUrl(),r=Rd(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,c){}const a=new hv(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=AC(e),a}function F9(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function U9(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=F9(null,e)),r}function B9(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let T="";for(let k=0;k<2;k++)T=T+Math.random().toString().slice(2);return T}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=U9(e,r,i),h=V9(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+l+"--",v=Qr.getBlob(d,r,p);if(v===null)throw n9();const E={name:c.fullPath},S=Rd(s,t.host,t._protocol),I="POST",w=t.maxUploadRetryTime,y=new hv(S,I,O9(t,n),w);return y.urlParams=E,y.headers=o,y.body=v.uploadData(),y.errorHandler=IC(e),y}class z9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=as.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=as.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=as.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw ya("cannot .send() more than once");if(Di(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ya("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ya("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ya("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ya("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class $9 extends z9{initXhr(){this.xhr_.responseType="text"}}function dv(){return new $9}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n){this._service=e,n instanceof nn?this._location=n:this._location=nn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new _s(e,n)}get root(){const e=new nn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return EC(this._location.path)}get storage(){return this._service}get parent(){const e=P9(this._location.path);if(e===null)return null;const n=new nn(this._location.bucket,e);return new _s(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw s9(e)}}function W9(t,e,n){t._throwIfRoot("uploadBytes");const r=B9(t.storage,t._location,TC(),new Qr(e,!0),n);return t.storage.makeRequestWithTokens(r,dv).then(i=>({metadata:i,ref:t}))}function H9(t){t._throwIfRoot("getDownloadURL");const e=M9(t.storage,t._location,TC());return t.storage.makeRequestWithTokens(e,dv).then(n=>{if(n===null)throw r9();return n})}function q9(t){t._throwIfRoot("deleteObject");const e=j9(t.storage,t._location);return t.storage.makeRequestWithTokens(e,dv)}function K9(t,e){const n=C9(t._location.path,e),r=new nn(t._location.bucket,n);return new _s(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(t){return/^[A-Za-z]+:\/\//.test(t)}function Q9(t,e){return new _s(t,e)}function PC(t,e){if(t instanceof fv){const n=t;if(n._bucket==null)throw t9();const r=new _s(n,n._bucket);return e!=null?PC(r,e):r}else return e!==void 0?K9(t,e):t}function Y9(t,e){if(e&&G9(e)){if(t instanceof fv)return Q9(t,e);throw Om("To use ref(service, url), the first argument must be a Storage instance.")}else return PC(t,e)}function xE(t,e){const n=e==null?void 0:e[pC];return n==null?null:nn.makeFromBucketSpec(n,t)}function X9(t,e,n,r={}){t.host=`${e}:${n}`;const i=Di(e);i&&(dy(`https://${t.host}/b`),fy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:GI(s,t.app.options.projectId))}class fv{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=fC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=W5,this._maxUploadRetryTime=H5,this._requests=new Set,i!=null?this._bucket=nn.makeFromBucketSpec(i,this._host):this._bucket=xE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=nn.makeFromBucketSpec(this._url,e):this._bucket=xE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){TE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){TE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Zt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _s(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new o9(mC());{const o=y9(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const SE="@firebase/storage",IE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="storage";function RC(t,e,n){return t=Le(t),W9(t,e,n)}function kC(t){return t=Le(t),H9(t)}function J9(t){return t=Le(t),q9(t)}function Lm(t,e){return t=Le(t),Y9(t,e)}function Z9(t=gy(),e){t=Le(t);const r=id(t,CC).getImmediate({identifier:e}),i=HI("storage");return i&&eU(r,...i),r}function eU(t,e,n,r={}){X9(t,e,n,r)}function tU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new fv(n,r,i,e,xs)}function nU(){ps(new _i(CC,tU,"PUBLIC").setMultipleInstances(!0)),Xn(SE,IE,""),Xn(SE,IE,"esm2020")}nU();const rU={apiKey:"AIzaSyCkAgeaeIzNGR6L1NyKoBX229fbgywm-hs",authDomain:"optoken-16b23.firebaseapp.com",projectId:"optoken-16b23",storageBucket:"optoken-16b23.firebasestorage.app",messagingSenderId:"925627228685",appId:"1:925627228685:web:536f176db0f440bbf0eb44",measurementId:"G-3MPGKBQD3V"},pv=XI(rU),Dr=I3(pv),Ln=A5(pv),Mm=Z9(pv);function iU(){const[t,e]=V.useState(!1),[n,r]=V.useState(null),i=()=>e(!t);V.useEffect(()=>{const a=f6(Dr,l=>{r(l)});return()=>a()},[]);const s=async()=>{await p6(Dr),localStorage.removeItem("user"),e(!1)},o=n?["Our Doctors","Add Doctor","Profile","Logout"]:["Home","Hospitals","Doctors","Contact Us"];return g.jsxs("nav",{className:"w-full px-4 sm:px-6 lg:px-12 py-5 flex justify-between items-center",children:[g.jsx("div",{className:"logo",children:g.jsx(Jt,{to:"/",children:g.jsxs("span",{className:"text-2xl sm:text-3xl font-extrabold text-[#0e82fd] tracking-tight font-sans",children:["optoken.",g.jsx("span",{className:"text-black",children:"in"})]})})}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("div",{className:"hidden lg:flex lg:space-x-8",children:o.map((a,l)=>a==="Logout"?g.jsx("button",{onClick:s,className:"text-base font-medium text-red-500 hover:text-red-600",children:"Logout"},l):g.jsx(A_,{to:a==="Home"?"/":`/${a.toLowerCase().replace(/\s/g,"")}`,className:({isActive:c})=>`text-base font-medium ${c?"text-sky-500":"hover:text-sky-500"}`,children:a},l))}),!n&&g.jsxs("div",{className:"hidden md:hidden lg:block sm:flex space-x-3",children:[g.jsx(Jt,{to:"/register",children:g.jsx("button",{className:"text-sm sm:text-base font-medium border-[#0e82fd] border-2 rounded-md p-2 w-20 sm:w-24 hover:bg-[#0e82fd] hover:text-white transition",children:"Register"})}),g.jsx(Jt,{to:"/login",children:g.jsx("button",{className:"text-sm sm:text-base font-medium border-[#0e82fd] border-2 rounded-md p-2 w-20 sm:w-24 hover:bg-[#0e82fd] hover:text-white transition",children:"Login"})})]}),g.jsx("div",{className:"lg:hidden",children:g.jsx("button",{"aria-label":"Open Menu",onClick:i,children:g.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})})})]}),g.jsx("div",{className:`fixed inset-0 z-50 bg-black bg-opacity-50 transition-opacity duration-300 ${t?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:i,children:g.jsxs("div",{className:`fixed top-0 right-0 w-64 h-full z-50 bg-white flex flex-col items-center pt-14 px-5 transition-transform duration-300 transform ${t?"translate-x-0":"translate-x-full"}`,onClick:a=>a.stopPropagation(),children:[g.jsx("button",{"aria-label":"Close Menu",className:"absolute top-4 right-4 text-3xl p-2 bg-[#0e82fd] rounded-full",onClick:i,children:g.jsx(P3,{className:"fill-white text-2xl"})}),g.jsx("div",{className:"flex flex-col gap-4 w-full",children:o.map((a,l)=>a==="Logout"?g.jsx("button",{onClick:()=>{s(),i()},className:"text-base text-red-500 hover:text-red-600 mt-2",children:"Logout"},l):g.jsx(A_,{to:a==="Home"?"/":`/${a.toLowerCase().replace(/\s/g,"")}`,className:({isActive:c})=>`text-base font-medium ${c?"text-sky-500":"hover:text-sky-500"}`,onClick:i,children:a},l))}),!n&&g.jsxs("div",{className:"mt-8 flex flex-col space-y-3 w-full",children:[g.jsx(Jt,{to:"/register",onClick:i,children:g.jsx("button",{className:"text-base font-medium border-[#0e82fd] border-2 rounded-md p-2 w-full hover:bg-[#0e82fd] hover:text-white",children:"Register"})}),g.jsx(Jt,{to:"/login",onClick:i,children:g.jsx("button",{className:"text-base font-medium border-[#0e82fd] border-2 rounded-md p-2 w-full hover:bg-[#0e82fd] hover:text-white",children:"Login"})})]})]})})]})}const bC=V.createContext(),NC=()=>V.useContext(bC),sU=({children:t})=>{const[e,n]=V.useState([]),[r,i]=V.useState(!1),s=async()=>{const l=Dr.currentUser;if(l){i(!0);try{const c=M5(pE(Ln,"doctors"),j5("hospitalId","==",l.uid)),d=(await B5(c)).docs.map(p=>({id:p.id,...p.data()}));n(d)}catch(c){console.error("Error fetching doctors:",c)}finally{i(!1)}}},o=async({name:l,imageFile:c,district:h,city:d,specification:p,planExpiryDate:v})=>{const E=Dr.currentUser;if(!E)throw new Error("Not authenticated");try{const S=Lm(Mm,`doctors/${Date.now()}_${c.name}`);await RC(S,c);const I=await kC(S),w={name:l,profile_img_url:I,district:h,city:d,specification:p,is_verified_by_admin:!1,plan_expiry_date:v,hospitalId:E.uid,created_at:Ya(),updated_at:Ya()},y=await z5(pE(Ln,"doctors"),w);return await Ph(y,{id:y.id}),y.id}catch(S){throw console.error("Error adding doctor:",S),S}},a=async(l,c)=>{try{const h=sr(Ln,"doctors",l);await Ph(h,{...c,updated_at:Ya()})}catch(h){throw console.error("Error updating doctor:",h),h}};return V.useEffect(()=>{s()},[]),g.jsx(bC.Provider,{value:{doctors:e,loading:r,fetchDoctors:s,addDoctor:o,updateDoctor:a},children:t})};function oU(){const t=[{icon:g.jsx(jl,{size:24}),title:"Location",content:"3556 Beech Street, San Francisco, USA"},{icon:g.jsx(dS,{size:24}),title:"Phone",content:"+1 315 369 5943"},{icon:g.jsx(hS,{size:24}),title:"Email",content:"doccure@example.com"}];return g.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsxs(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[g.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Contact Us"}),g.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Get in touch with us for any questions or concerns. We're here to help!"})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:t.map((e,n)=>g.jsxs(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:n*.1},className:"bg-white p-6 rounded-2xl shadow-lg text-center",children:[g.jsx("div",{className:"inline-block p-4 bg-blue-50 rounded-full mb-4 text-[#0e82fd]",children:e.icon}),g.jsx("h3",{className:"text-xl font-semibold mb-2",children:e.title}),g.jsx("p",{className:"text-gray-600",children:e.content})]},n))}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-start",children:[g.jsxs(ve.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},className:"bg-white p-8 rounded-2xl shadow-lg",children:[g.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Send us a Message"}),g.jsxs("form",{className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),g.jsx("input",{type:"text",className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-[#0e82fd] focus:border-transparent"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),g.jsx("input",{type:"text",className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-[#0e82fd] focus:border-transparent"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),g.jsx("input",{type:"email",className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-[#0e82fd] focus:border-transparent"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),g.jsx("textarea",{rows:4,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-[#0e82fd] focus:border-transparent"})]}),g.jsx(ve.button,{whileHover:{scale:1.01},whileTap:{scale:.99},className:"w-full py-3 px-6 bg-[#0e82fd] text-white rounded-xl hover:bg-[#0e82fd]/90 transition-colors",children:"Send Message"})]})]}),g.jsxs(ve.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6},className:"bg-white p-8 rounded-2xl shadow-lg h-full",children:[g.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Find us on map"}),g.jsx("div",{className:"aspect-w-16 aspect-h-12 rounded-xl overflow-hidden",children:g.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d12345.67890!2d-122.4194!3d37.7749!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zM03CsDQ2JzI5LjciTiAxMjLCsDI1JzA5LjkiVw!5e0!3m2!1sen!2sus!4v1234567890",width:"100%",height:"450",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",className:"rounded-xl"})})]})]})]})})}function aU(){const[t,e]=V.useState({name:"",specialty:"",district:"",city:"",photo:null}),[n,r]=V.useState(null),{addDoctor:i,fetchDoctors:s}=NC(),o=["Thiruvananthapuram","Kollam","Pathanamthitta","Alappuzha","Kottayam","Idukki","Ernakulam","Thrissur","Palakkad","Malappuram","Kozhikode","Wayanad","Kannur","Kasaragod"],a=h=>{const{name:d,value:p}=h.target;e(v=>({...v,[d]:p}))},l=h=>{const d=h.target.files[0];e(p=>({...p,photo:d})),d&&r(URL.createObjectURL(d))},c=async h=>{if(h.preventDefault(),!t.photo){alert("Please upload a photo");return}try{await i({name:t.name,imageFile:t.photo,district:t.district,city:t.city,specification:t.specialty,planExpiryDate:null}),alert("Doctor added successfully!"),s(),e({name:"",specialty:"",district:"",city:"",photo:null}),r(null)}catch(d){console.error(d),alert("Failed to add doctor. Please try again.")}};return g.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"max-w-3xl mx-auto bg-white shadow-xl rounded-xl p-8",children:[g.jsx("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-8",children:"Add New Doctor"}),g.jsxs("form",{onSubmit:c,className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col items-center",children:[n?g.jsx("img",{src:n,alt:"Preview",className:"w-32 h-32 rounded-full object-cover mb-4"}):g.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 mb-4",children:"No Image"}),g.jsx("input",{type:"file",accept:"image/*",onChange:l,className:"text-sm text-gray-600"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),g.jsx("input",{type:"text",name:"name",value:t.name,onChange:a,required:!0,className:"w-full px-4 py-3 border rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter doctor's name"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Specialization"}),g.jsx("input",{type:"text",name:"specialty",value:t.specialty,onChange:a,required:!0,className:"w-full px-4 py-3 border rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g. Cardiology"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"District"}),g.jsxs("select",{name:"district",value:t.district,onChange:a,required:!0,className:"w-full px-4 py-3 border rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[g.jsx("option",{value:"",children:"Select a district"}),o.map((h,d)=>g.jsx("option",{value:h,children:h},d))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),g.jsx("input",{type:"text",name:"city",value:t.city,onChange:a,required:!0,className:"w-full px-4 py-3 border rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter city"})]}),g.jsx(ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-xl transition duration-300",children:"Add Doctor"})]})]})})}function mv(t){return Sn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M472 168H40a24 24 0 0 1 0-48h432a24 24 0 0 1 0 48zm-80 112H120a24 24 0 0 1 0-48h272a24 24 0 0 1 0 48zm-96 112h-80a24 24 0 0 1 0-48h80a24 24 0 0 1 0 48z"},child:[]}]})(t)}function lU(){const[t,e]=V.useState(""),[n,r]=V.useState(!1),[i,s]=V.useState(""),o=["Thiruvananthapuram","Kollam","Pathanamthitta","Alappuzha","Kottayam","Idukki","Ernakulam","Thrissur","Palakkad","Malappuram","Kozhikode","Wayanad","Kannur","Kasaragod"],l=[{id:1,name:"Dr. Sarah Johnson",specialty:"Cardiology",image:"https://media.istockphoto.com/id/1861987838/photo/smiling-female-doctor-looking-at-camera-in-the-medical-consultation.jpg?s=1024x1024&w=is&k=20&c=MJrGMm-cijF5hK6i8JWR1OxR-UqC5JiIPXrY7OTeDd4=",rating:4.8,reviews:124,location:"Thiruvananthapuram",experience:"15 years"},{id:2,name:"Dr. Michael Chen",specialty:"Neurology",image:"https://images.unsplash.com/photo-1609188076864-c35269136b09?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",rating:4.9,reviews:98,location:"Ernakulam",experience:"12 years"},{id:3,name:"Dr. Emily Williams",specialty:"Pediatrics",image:"https://plus.unsplash.com/premium_photo-1661766718556-13c2efac1388?q=80&w=1374&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",rating:4.7,reviews:156,location:"Kozhikode",experience:"10 years"}].filter(c=>{const h=c.name.toLowerCase().includes(t.toLowerCase()),d=!i||c.location===i;return h&&d});return g.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsxs(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8",children:[g.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Find Doctors"}),g.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto mb-6",children:"Book appointments with the best doctors and specialists in your area"}),g.jsxs("div",{className:"relative max-w-2xl w-full mx-auto",children:[g.jsx("input",{type:"text",value:t,onChange:c=>e(c.target.value),placeholder:"Search doctors, clinics, hospitals...",className:"w-full px-10 pr-10 py-3.5 bg-white border border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-700"}),g.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:g.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),g.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 cursor-pointer text-gray-500 hover:text-blue-500",onClick:()=>r(!n),children:g.jsx(mv,{className:"w-5 h-5"})}),i&&g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"absolute right-20 top-1/2 transform -translate-y-1/2 bg-blue-100 text-blue-700 px-2 py-1 rounded text-xs font-medium",children:i}),g.jsx("button",{className:"absolute right-10 top-1/2 transform -translate-y-1/2 bg-gray-200 text-gray-700 px-2 py-1 rounded hover:bg-gray-300 text-xs",onClick:()=>s(""),children:"Clear"})]}),n&&g.jsx("div",{className:"absolute top-full mt-2 w-full bg-white border border-gray-200 rounded-xl shadow-lg z-10 max-h-60 overflow-y-auto",children:o.map((c,h)=>g.jsx("div",{onClick:()=>{s(c),r(!1)},className:`px-4 py-2 text-left cursor-pointer hover:bg-blue-100 ${i===c?"bg-blue-100 font-semibold":""}`,children:c},h))})]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:l.map((c,h)=>g.jsx(Jt,{to:`/livetoken/${c.id}`,children:g.jsx(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:h*.1},className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300 cursor-pointer",children:g.jsx("div",{className:"p-4",children:g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("img",{src:c.image,alt:c.name,className:"w-24 h-24 rounded-full object-cover"}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-gray-900",children:c.name}),g.jsxs("p",{className:"text-[#0e82fd] flex items-center gap-2",children:[g.jsx(fS,{}),c.specialty]}),g.jsxs("div",{className:"flex items-center text-sm text-gray-600 mt-1",children:[g.jsx(jl,{className:"mr-2"}),c.location]})]})]})})})},c.id))})]})})}function uU(){const{doctors:t,fetchDoctors:e,loading:n}=NC(),[r,i]=V.useState(""),[s,o]=V.useState(!1),[a,l]=V.useState(""),c=["Thiruvananthapuram","Kollam","Pathanamthitta","Alappuzha","Kottayam","Idukki","Ernakulam","Thrissur","Palakkad","Malappuram","Kozhikode","Wayanad","Kannur","Kasaragod"];V.useEffect(()=>{e()},[]);const h=t.filter(d=>{var E,S;const p=((E=d.name)==null?void 0:E.toLowerCase().includes(r.toLowerCase()))||((S=d.specification)==null?void 0:S.toLowerCase().includes(r.toLowerCase())),v=!a||d.district===a;return p&&v});return g.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsxs(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8",children:[g.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Hospital Doctors"}),g.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto mb-6",children:"View and manage all doctors associated with your hospital."}),g.jsxs("div",{className:"relative max-w-2xl w-full mx-auto",children:[g.jsx("input",{type:"text",value:r,onChange:d=>i(d.target.value),placeholder:"Search doctors by name or specialty...",className:"w-full px-10 pr-10 py-3.5 bg-white border border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-700"}),g.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:g.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),g.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 cursor-pointer text-gray-500 hover:text-blue-500",onClick:()=>o(!s),children:g.jsx(mv,{className:"w-5 h-5"})}),a&&g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"absolute right-20 top-1/2 transform -translate-y-1/2 bg-blue-100 text-blue-700 px-2 py-1 rounded text-xs font-medium",children:a}),g.jsx("button",{className:"absolute right-10 top-1/2 transform -translate-y-1/2 bg-gray-200 text-gray-700 px-2 py-1 rounded hover:bg-gray-300 text-xs",onClick:()=>l(""),children:"Clear"})]}),s&&g.jsx("div",{className:"absolute top-full mt-2 w-full bg-white border border-gray-200 rounded-xl shadow-lg z-10 max-h-60 overflow-y-auto",children:c.map((d,p)=>g.jsx("div",{onClick:()=>{l(d),o(!1)},className:`px-4 py-2 text-left cursor-pointer hover:bg-blue-100 ${a===d?"bg-blue-100 font-semibold":""}`,children:d},p))})]})]}),n?g.jsx("div",{className:"text-center text-gray-500",children:"Loading doctors..."}):h.length===0?g.jsx("div",{className:"text-center text-gray-500",children:"No doctors found."}):g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:h.map((d,p)=>g.jsx(Jt,{to:`/control-token/${d.id}`,state:{doctorName:d.name},children:g.jsx(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:p*.1},className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300 cursor-pointer",children:g.jsx("div",{className:"p-4",children:g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("img",{src:d.profile_img_url||"https://via.placeholder.com/100",alt:d.name,className:"w-24 h-24 rounded-full object-cover"}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-gray-900",children:d.name}),g.jsxs("p",{className:"text-[#0e82fd] flex items-center gap-2",children:[g.jsx(fS,{}),d.specification||"N/A"]}),g.jsxs("div",{className:"flex items-center text-sm text-gray-600 mt-1",children:[g.jsx(jl,{className:"mr-2"}),d.district||"Unknown"]}),g.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Plan expires: ",d.plan_expiry_date||"N/A"]})]})]})})})},d.id))})]})})}function cU(){const[t,e]=V.useState(""),[n,r]=V.useState(!1),[i,s]=V.useState(""),o=["Thiruvananthapuram","Kollam","Pathanamthitta","Alappuzha","Kottayam","Idukki","Ernakulam","Thrissur","Palakkad","Malappuram","Kozhikode","Wayanad","Kannur","Kasaragod"],l=[{id:1,name:"CityCare Hospital",type:"Multi-specialty",image:"https://static.vecteezy.com/system/resources/previews/038/252/707/non_2x/hospital-building-illustration-medical-clinic-isolated-on-white-background-vector.jpg",rating:4.6,reviews:89,location:"Ernakulam",established:"2005"},{id:2,name:"Green Valley Medical Center",type:"Cardiology & Emergency",image:"https://static.vecteezy.com/system/resources/previews/038/252/707/non_2x/hospital-building-illustration-medical-clinic-isolated-on-white-background-vector.jpg",rating:4.7,reviews:102,location:"Kozhikode",established:"2010"},{id:3,name:"Sunrise Hospital",type:"General",image:"https://static.vecteezy.com/system/resources/previews/038/252/707/non_2x/hospital-building-illustration-medical-clinic-isolated-on-white-background-vector.jpg",rating:4.5,reviews:76,location:"Thrissur",established:"2000"}].filter(c=>{const h=c.name.toLowerCase().includes(t.toLowerCase()),d=!i||c.location===i;return h&&d});return g.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsxs(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8",children:[g.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Find Hospitals"}),g.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto mb-6",children:"Discover trusted hospitals and medical centers near you."}),g.jsxs("div",{className:"relative max-w-2xl w-full mx-auto",children:[g.jsx("input",{type:"text",value:t,onChange:c=>e(c.target.value),placeholder:"Search hospitals...",className:"w-full px-10 pr-10 py-3.5 bg-white border border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-700"}),g.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:g.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),g.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 cursor-pointer text-gray-500 hover:text-blue-500",onClick:()=>r(!n),children:g.jsx(mv,{className:"w-5 h-5"})}),i&&g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"absolute right-20 top-1/2 transform -translate-y-1/2 bg-blue-100 text-blue-700 px-2 py-1 rounded text-xs font-medium",children:i}),g.jsx("button",{className:"absolute right-10 top-1/2 transform -translate-y-1/2 bg-gray-200 text-gray-700 px-2 py-1 rounded hover:bg-gray-300 text-xs",onClick:()=>s(""),children:"Clear"})]}),n&&g.jsx("div",{className:"absolute top-full mt-2 w-full bg-white border border-gray-200 rounded-xl shadow-lg z-10 max-h-60 overflow-y-auto",children:o.map((c,h)=>g.jsx("div",{onClick:()=>{s(c),r(!1)},className:`px-4 py-2 text-left cursor-pointer hover:bg-blue-100 ${i===c?"bg-blue-100 font-semibold":""}`,children:c},h))})]})]}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4",children:l.map((c,h)=>g.jsx(Jt,{to:"/doctors",children:g.jsx(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:h*.1},className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300 cursor-pointer",children:g.jsx("div",{className:"p-4",children:g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("img",{src:c.image,alt:c.name,className:"w-24 h-24 rounded-full object-cover"}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-gray-900",children:c.name}),g.jsx("p",{className:"text-[#0e82fd] text-sm",children:c.type}),g.jsxs("div",{className:"flex items-center text-sm text-gray-600 mt-1",children:[g.jsx(jl,{className:"mr-2"}),c.location]})]})]})})},h)},c.id))})]})})}function hU(){const[t,e]=V.useState({name:"",district:"",city:"",phoneNumber:"",profileUrl:""}),[n,r]=V.useState(!0),[i,s]=V.useState(!1),[o,a]=V.useState(null),[l,c]=V.useState(null),h=["Thiruvananthapuram","Kollam","Pathanamthitta","Alappuzha","Kottayam","Idukki","Ernakulam","Thrissur","Palakkad","Malappuram","Kozhikode","Wayanad","Kannur","Kasaragod"];V.useEffect(()=>{(async()=>{const S=Dr.currentUser;if(S){const I=sr(Ln,"hospitals",S.uid),w=await Cd(I);if(w.exists()){const y=w.data();e({...y}),a(y.profileUrl||null)}}r(!1)})()},[]);const d=E=>{const{name:S,value:I}=E.target;e(w=>({...w,[S]:I}))},p=E=>{const S=E.target.files[0];S&&(c(S),a(URL.createObjectURL(S)))},v=async E=>{E.preventDefault(),s(!0);try{const S=Dr.currentUser.uid,I=sr(Ln,"hospitals",S),w={...t};if(l){if(t.profileUrl)try{const k=decodeURIComponent(new URL(t.profileUrl).pathname.split("/o/")[1].split("?")[0]),M=Lm(Mm,k);await J9(M)}catch(k){console.warn("Failed to delete old image:",k.message)}const y=Lm(Mm,`hospital_profiles/${S}_${Date.now()}_${l.name}`);await RC(y,l);const T=await kC(y);w.profileUrl=T}await Ph(I,w),alert("Profile updated successfully!")}catch(S){console.error("Update failed:",S),alert("Error updating profile.")}finally{s(!1)}};return n?g.jsx("div",{className:"p-10 text-center text-lg",children:"Loading profile..."}):g.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"max-w-3xl mx-auto bg-white shadow-xl rounded-xl p-8",children:[g.jsx("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-8",children:"Hospital Profile"}),g.jsxs("form",{onSubmit:v,className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col items-center",children:[o?g.jsx("img",{src:o,alt:"Preview",className:"w-32 h-32 rounded-full object-cover mb-4"}):g.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 mb-4",children:"No Image"}),g.jsx("input",{type:"file",accept:"image/*",onChange:p,className:"text-sm text-gray-600"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),g.jsx("input",{type:"text",name:"name",value:t.name,onChange:d,required:!0,className:"w-full px-4 py-3 border rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter hospital name"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"District"}),g.jsxs("select",{name:"district",value:t.district,onChange:d,required:!0,className:"w-full px-4 py-3 border rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[g.jsx("option",{value:"",children:"Select a district"}),h.map((E,S)=>g.jsx("option",{value:E,children:E},S))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),g.jsx("input",{type:"text",name:"city",value:t.city,onChange:d,required:!0,className:"w-full px-4 py-3 border rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter city"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),g.jsx("input",{type:"text",name:"phoneNumber",value:t.phoneNumber,onChange:d,required:!0,className:"w-full px-4 py-3 border rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter phone number"})]}),g.jsx(ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",disabled:i,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-xl transition duration-300",children:i?"Updating...":"Update Profile"})]})]})})}function dU(){var p;const{doctorId:t}=sS(),n=((p=Fo().state)==null?void 0:p.doctorName)??"Unknown Doctor",[r,i]=V.useState(null),[s,o]=V.useState(!0);V.useEffect(()=>{t&&(async()=>{o(!0);const E=sr(Ln,"tokens",t),S=await Cd(E);if(S.exists())i({...S.data(),id:t});else{const I={doctor_id:t,doctor_name:n,token_number:0,is_token_active:!0,last_updated:Ya()};await hC(E,I),i({...I,id:t})}o(!1)})()},[t,n]);const a=async v=>{if(!r)return;const E=sr(Ln,"tokens",r.id);await Ph(E,{...v,last_updated:Ya()}),i(S=>({...S,...v}))},l=()=>{a({token_number:r.token_number+1})},c=()=>{r.token_number>0&&a({token_number:r.token_number-1})},h=()=>{a({token_number:0})},d=()=>{a({is_token_active:!r.is_token_active})};return s?g.jsx("div",{className:"text-center mt-20 text-lg",children:"Loading..."}):r?g.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-start px-4 py-8 bg-gray-100",children:[g.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Doctor Token Control"}),g.jsxs("h2",{className:"text-xl text-gray-700 mb-2",children:[r.doctor_name," (",t,")"]}),g.jsx("div",{className:"w-24 h-24 bg-blue-600 text-white rounded-full flex items-center justify-center text-4xl font-bold mb-6 shadow-xl",children:r.token_number}),g.jsxs("div",{className:"flex flex-wrap gap-4",children:[g.jsx("button",{onClick:l,className:"px-4 py-2 bg-green-500 text-white rounded",children:"Increment"}),g.jsx("button",{onClick:c,className:"px-4 py-2 bg-yellow-500 text-white rounded",children:"Decrement"}),g.jsx("button",{onClick:h,className:"px-4 py-2 bg-gray-500 text-white rounded",children:"Reset"}),g.jsx("button",{onClick:d,className:`px-4 py-2 ${r.is_token_active?"bg-red-500":"bg-blue-500"} text-white rounded`,children:r.is_token_active?"Turn Off":"Turn On"})]})]}):g.jsx("div",{className:"text-center mt-20 text-red-500",children:"Token not found"})}function fU(){const{doctorId:t}=sS(),[e,n]=V.useState(null),[r,i]=V.useState(!0),[s,o]=V.useState(new Date),[a,l]=V.useState("");return V.useEffect(()=>{const c=setInterval(()=>o(new Date),1e3);return()=>clearInterval(c)},[]),V.useEffect(()=>{if(!t)return;const c=sr(Ln,"tokens",t),h=$5(c,d=>{var I,w;if(!d.exists()){n(null),l("Not started yet"),i(!1);return}const p=d.data();console.log("Token Data:",p),n(p);const v=(w=(I=p==null?void 0:p.last_updated)==null?void 0:I.toDate)==null?void 0:w.call(I),E=new Date,S=v&&v.getDate()===E.getDate()&&v.getMonth()===E.getMonth()&&v.getFullYear()===E.getFullYear();l(!v||!S?"Not started yet":""),i(!1)});return()=>h()},[t]),g.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-start bg-gradient-to-br from-white to-gray-100 px-4 py-4",children:[g.jsx("div",{className:"flex items-center justify-center mt-20 mb-4",children:g.jsxs("div",{className:"relative flex items-center justify-center",children:[g.jsx("div",{className:"absolute w-44 h-44 bg-blue-100 rounded-full"}),g.jsx("div",{className:"absolute w-32 h-32 bg-blue-200 rounded-full opacity-80"}),g.jsx("div",{className:"w-24 h-24 bg-blue-600 text-white rounded-full flex items-center justify-center text-4xl font-bold z-10 shadow-xl",children:r||a?"--":(e==null?void 0:e.token_number)??"--"})]})}),g.jsxs("div",{className:"w-full max-w-4xl text-center mt-20",children:[g.jsx("h2",{className:"text-xl font-bold text-gray-800 leading-tight",children:r?"Loading...":e!=null&&e.doctor_name?`Dr. ${e.doctor_name}`:"Doctor not found"}),g.jsx("p",{className:"text-sm text-gray-600",children:s.toLocaleTimeString()}),a&&g.jsx("p",{className:"mt-2 text-sm text-red-500 font-medium",children:a})]}),g.jsx("div",{className:"w-full max-w-4xl mt-4",children:g.jsx(UI,{})})]})}var tu=t=>t.type==="checkbox",ts=t=>t instanceof Date,Mt=t=>t==null;const DC=t=>typeof t=="object";var et=t=>!Mt(t)&&!Array.isArray(t)&&DC(t)&&!ts(t),pU=t=>et(t)&&t.target?tu(t.target)?t.target.checked:t.target.value:t,mU=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,gU=(t,e)=>t.has(mU(e)),yU=t=>{const e=t.constructor&&t.constructor.prototype;return et(e)&&e.hasOwnProperty("isPrototypeOf")},gv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function mn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(gv&&(t instanceof Blob||t instanceof FileList))&&(n||et(t)))if(e=n?[]:{},!n&&!yU(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=mn(t[r]));else return t;return e}var kd=t=>Array.isArray(t)?t.filter(Boolean):[],Xe=t=>t===void 0,J=(t,e,n)=>{if(!e||!et(t))return n;const r=kd(e.split(/[,[\].]+?/)).reduce((i,s)=>Mt(i)?i:i[s],t);return Xe(r)||r===t?Xe(t[e])?n:t[e]:r},$n=t=>typeof t=="boolean",yv=t=>/^\w*$/.test(t),VC=t=>kd(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ne=(t,e,n)=>{let r=-1;const i=yv(e)?[e]:VC(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const c=t[a];l=et(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const AE={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},bn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ur={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Ye.createContext(null);var vU=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==bn.all&&(e._proxyFormState[o]=!r||bn.all),t[o]}});return i},Bt=t=>et(t)&&!Object.keys(t).length,_U=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Bt(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===bn.all)},Tc=t=>Array.isArray(t)?t:[t];function wU(t){const e=Ye.useRef(t);e.current=t,Ye.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var qn=t=>typeof t=="string",EU=(t,e,n,r,i)=>qn(t)?(r&&e.watch.add(t),J(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),J(n,s))):(r&&(e.watchAll=!0),n),TU=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},PE=t=>({isOnSubmit:!t||t===bn.onSubmit,isOnBlur:t===bn.onBlur,isOnChange:t===bn.onChange,isOnAll:t===bn.all,isOnTouch:t===bn.onTouched}),CE=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Ja=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=J(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Ja(a,e))break}else if(et(a)&&Ja(a,e))break}}};var xU=(t,e,n)=>{const r=Tc(J(t,n));return Ne(r,"root",e[n]),Ne(t,n,r),t},vv=t=>t.type==="file",yr=t=>typeof t=="function",Ch=t=>{if(!gv)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},xc=t=>qn(t),_v=t=>t.type==="radio",Rh=t=>t instanceof RegExp;const RE={value:!1,isValid:!1},kE={value:!0,isValid:!0};var OC=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Xe(t[0].attributes.value)?Xe(t[0].value)||t[0].value===""?kE:{value:t[0].value,isValid:!0}:kE:RE}return RE};const bE={isValid:!1,value:null};var LC=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,bE):bE;function NE(t,e,n="validate"){if(xc(t)||Array.isArray(t)&&t.every(xc)||$n(t)&&!t)return{type:n,message:xc(t)?t:"",ref:e}}var js=t=>et(t)&&!Rh(t)?t:{value:t,message:""},DE=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:c,min:h,max:d,pattern:p,validate:v,name:E,valueAsNumber:S,mount:I,disabled:w}=t._f,y=J(e,E);if(!I||w)return{};const T=o?o[0]:s,k=N=>{r&&T.reportValidity&&(T.setCustomValidity($n(N)?"":N||""),T.reportValidity())},M={},B=_v(s),C=tu(s),_=B||C,A=(S||vv(s))&&Xe(s.value)&&Xe(y)||Ch(s)&&s.value===""||y===""||Array.isArray(y)&&!y.length,R=TU.bind(null,E,n,M),D=(N,P,pe,Re=ur.maxLength,ut=ur.minLength)=>{const ue=N?P:pe;M[E]={type:N?Re:ut,message:ue,ref:s,...R(N?Re:ut,ue)}};if(i?!Array.isArray(y)||!y.length:a&&(!_&&(A||Mt(y))||$n(y)&&!y||C&&!OC(o).isValid||B&&!LC(o).isValid)){const{value:N,message:P}=xc(a)?{value:!!a,message:a}:js(a);if(N&&(M[E]={type:ur.required,message:P,ref:T,...R(ur.required,P)},!n))return k(P),M}if(!A&&(!Mt(h)||!Mt(d))){let N,P;const pe=js(d),Re=js(h);if(!Mt(y)&&!isNaN(y)){const ut=s.valueAsNumber||y&&+y;Mt(pe.value)||(N=ut>pe.value),Mt(Re.value)||(P=ut<Re.value)}else{const ut=s.valueAsDate||new Date(y),ue=ne=>new Date(new Date().toDateString()+" "+ne),H=s.type=="time",Z=s.type=="week";qn(pe.value)&&y&&(N=H?ue(y)>ue(pe.value):Z?y>pe.value:ut>new Date(pe.value)),qn(Re.value)&&y&&(P=H?ue(y)<ue(Re.value):Z?y<Re.value:ut<new Date(Re.value))}if((N||P)&&(D(!!N,pe.message,Re.message,ur.max,ur.min),!n))return k(M[E].message),M}if((l||c)&&!A&&(qn(y)||i&&Array.isArray(y))){const N=js(l),P=js(c),pe=!Mt(N.value)&&y.length>+N.value,Re=!Mt(P.value)&&y.length<+P.value;if((pe||Re)&&(D(pe,N.message,P.message),!n))return k(M[E].message),M}if(p&&!A&&qn(y)){const{value:N,message:P}=js(p);if(Rh(N)&&!y.match(N)&&(M[E]={type:ur.pattern,message:P,ref:s,...R(ur.pattern,P)},!n))return k(P),M}if(v){if(yr(v)){const N=await v(y,e),P=NE(N,T);if(P&&(M[E]={...P,...R(ur.validate,P.message)},!n))return k(P.message),M}else if(et(v)){let N={};for(const P in v){if(!Bt(N)&&!n)break;const pe=NE(await v[P](y,e),T,P);pe&&(N={...pe,...R(P,pe.message)},k(pe.message),n&&(M[E]=N))}if(!Bt(N)&&(M[E]={ref:T,...N},!n))return M}}return k(!0),M};function SU(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Xe(t)?r++:t[e[r++]];return t}function IU(t){for(const e in t)if(t.hasOwnProperty(e)&&!Xe(t[e]))return!1;return!0}function st(t,e){const n=Array.isArray(e)?e:yv(e)?[e]:VC(e),r=n.length===1?t:SU(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(et(r)&&Bt(r)||Array.isArray(r)&&IU(r))&&st(t,n.slice(0,-1)),t}var Gf=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},jm=t=>Mt(t)||!DC(t);function Yr(t,e){if(jm(t)||jm(e))return t===e;if(ts(t)&&ts(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(ts(s)&&ts(o)||et(s)&&et(o)||Array.isArray(s)&&Array.isArray(o)?!Yr(s,o):s!==o)return!1}}return!0}var MC=t=>t.type==="select-multiple",AU=t=>_v(t)||tu(t),Qf=t=>Ch(t)&&t.isConnected,jC=t=>{for(const e in t)if(yr(t[e]))return!0;return!1};function kh(t,e={}){const n=Array.isArray(t);if(et(t)||n)for(const r in t)Array.isArray(t[r])||et(t[r])&&!jC(t[r])?(e[r]=Array.isArray(t[r])?[]:{},kh(t[r],e[r])):Mt(t[r])||(e[r]=!0);return e}function FC(t,e,n){const r=Array.isArray(t);if(et(t)||r)for(const i in t)Array.isArray(t[i])||et(t[i])&&!jC(t[i])?Xe(e)||jm(n[i])?n[i]=Array.isArray(t[i])?kh(t[i],[]):{...kh(t[i])}:FC(t[i],Mt(e)?{}:e[i],n[i]):n[i]=!Yr(t[i],e[i]);return n}var va=(t,e)=>FC(t,e,kh(e)),UC=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Xe(t)?t:e?t===""?NaN:t&&+t:n&&qn(t)?new Date(t):r?r(t):t;function Yf(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return vv(e)?e.files:_v(e)?LC(t.refs).value:MC(e)?[...e.selectedOptions].map(({value:n})=>n):tu(e)?OC(t.refs).value:UC(Xe(e.value)?t.ref.value:e.value,t)}var PU=(t,e,n,r)=>{const i={};for(const s of t){const o=J(e,s);o&&Ne(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},_a=t=>Xe(t)?t:Rh(t)?t.source:et(t)?Rh(t.value)?t.value.source:t.value:t;const VE="AsyncFunction";var CU=t=>(!t||!t.validate)&&!!(yr(t.validate)&&t.validate.constructor.name===VE||et(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===VE)),RU=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function OE(t,e,n){const r=J(t,n);if(r||yv(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=J(e,s),a=J(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var kU=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,bU=(t,e)=>!kd(J(t,e)).length&&st(t,e);const NU={mode:bn.onSubmit,reValidateMode:bn.onChange,shouldFocusError:!0};function DU(t={}){let e={...NU,...t},n={submitCount:0,isDirty:!1,isLoading:yr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=et(e.defaultValues)||et(e.values)?mn(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:mn(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:Gf(),array:Gf(),state:Gf()},p=PE(e.mode),v=PE(e.reValidateMode),E=e.criteriaMode===bn.all,S=b=>L=>{clearTimeout(c),c=setTimeout(b,L)},I=async b=>{if(!t.disabled&&(h.isValid||b)){const L=e.resolver?Bt((await _()).errors):await R(r,!0);L!==n.isValid&&d.state.next({isValid:L})}},w=(b,L)=>{!t.disabled&&(h.isValidating||h.validatingFields)&&((b||Array.from(a.mount)).forEach(F=>{F&&(L?Ne(n.validatingFields,F,L):st(n.validatingFields,F))}),d.state.next({validatingFields:n.validatingFields,isValidating:!Bt(n.validatingFields)}))},y=(b,L=[],F,G,K=!0,W=!0)=>{if(G&&F&&!t.disabled){if(o.action=!0,W&&Array.isArray(J(r,b))){const ee=F(J(r,b),G.argA,G.argB);K&&Ne(r,b,ee)}if(W&&Array.isArray(J(n.errors,b))){const ee=F(J(n.errors,b),G.argA,G.argB);K&&Ne(n.errors,b,ee),bU(n.errors,b)}if(h.touchedFields&&W&&Array.isArray(J(n.touchedFields,b))){const ee=F(J(n.touchedFields,b),G.argA,G.argB);K&&Ne(n.touchedFields,b,ee)}h.dirtyFields&&(n.dirtyFields=va(i,s)),d.state.next({name:b,isDirty:N(b,L),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ne(s,b,L)},T=(b,L)=>{Ne(n.errors,b,L),d.state.next({errors:n.errors})},k=b=>{n.errors=b,d.state.next({errors:n.errors,isValid:!1})},M=(b,L,F,G)=>{const K=J(r,b);if(K){const W=J(s,b,Xe(F)?J(i,b):F);Xe(W)||G&&G.defaultChecked||L?Ne(s,b,L?W:Yf(K._f)):Re(b,W),o.mount&&I()}},B=(b,L,F,G,K)=>{let W=!1,ee=!1;const le={name:b};if(!t.disabled){const me=!!(J(r,b)&&J(r,b)._f&&J(r,b)._f.disabled);if(!F||G){h.isDirty&&(ee=n.isDirty,n.isDirty=le.isDirty=N(),W=ee!==le.isDirty);const ge=me||Yr(J(i,b),L);ee=!!(!me&&J(n.dirtyFields,b)),ge||me?st(n.dirtyFields,b):Ne(n.dirtyFields,b,!0),le.dirtyFields=n.dirtyFields,W=W||h.dirtyFields&&ee!==!ge}if(F){const ge=J(n.touchedFields,b);ge||(Ne(n.touchedFields,b,F),le.touchedFields=n.touchedFields,W=W||h.touchedFields&&ge!==F)}W&&K&&d.state.next(le)}return W?le:{}},C=(b,L,F,G)=>{const K=J(n.errors,b),W=h.isValid&&$n(L)&&n.isValid!==L;if(t.delayError&&F?(l=S(()=>T(b,F)),l(t.delayError)):(clearTimeout(c),l=null,F?Ne(n.errors,b,F):st(n.errors,b)),(F?!Yr(K,F):K)||!Bt(G)||W){const ee={...G,...W&&$n(L)?{isValid:L}:{},errors:n.errors,name:b};n={...n,...ee},d.state.next(ee)}},_=async b=>{w(b,!0);const L=await e.resolver(s,e.context,PU(b||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return w(b),L},A=async b=>{const{errors:L}=await _(b);if(b)for(const F of b){const G=J(L,F);G?Ne(n.errors,F,G):st(n.errors,F)}else n.errors=L;return L},R=async(b,L,F={valid:!0})=>{for(const G in b){const K=b[G];if(K){const{_f:W,...ee}=K;if(W){const le=a.array.has(W.name),me=K._f&&CU(K._f);me&&h.validatingFields&&w([G],!0);const ge=await DE(K,s,E,e.shouldUseNativeValidation&&!L,le);if(me&&h.validatingFields&&w([G]),ge[W.name]&&(F.valid=!1,L))break;!L&&(J(ge,W.name)?le?xU(n.errors,ge,W.name):Ne(n.errors,W.name,ge[W.name]):st(n.errors,W.name))}!Bt(ee)&&await R(ee,L,F)}}return F.valid},D=()=>{for(const b of a.unMount){const L=J(r,b);L&&(L._f.refs?L._f.refs.every(F=>!Qf(F)):!Qf(L._f.ref))&&Qt(b)}a.unMount=new Set},N=(b,L)=>!t.disabled&&(b&&L&&Ne(s,b,L),!Yr(Ae(),i)),P=(b,L,F)=>EU(b,a,{...o.mount?s:Xe(L)?i:qn(b)?{[b]:L}:L},F,L),pe=b=>kd(J(o.mount?s:i,b,t.shouldUnregister?J(i,b,[]):[])),Re=(b,L,F={})=>{const G=J(r,b);let K=L;if(G){const W=G._f;W&&(!W.disabled&&Ne(s,b,UC(L,W)),K=Ch(W.ref)&&Mt(L)?"":L,MC(W.ref)?[...W.ref.options].forEach(ee=>ee.selected=K.includes(ee.value)):W.refs?tu(W.ref)?W.refs.length>1?W.refs.forEach(ee=>(!ee.defaultChecked||!ee.disabled)&&(ee.checked=Array.isArray(K)?!!K.find(le=>le===ee.value):K===ee.value)):W.refs[0]&&(W.refs[0].checked=!!K):W.refs.forEach(ee=>ee.checked=ee.value===K):vv(W.ref)?W.ref.value="":(W.ref.value=K,W.ref.type||d.values.next({name:b,values:{...s}})))}(F.shouldDirty||F.shouldTouch)&&B(b,K,F.shouldTouch,F.shouldDirty,!0),F.shouldValidate&&ne(b)},ut=(b,L,F)=>{for(const G in L){const K=L[G],W=`${b}.${G}`,ee=J(r,W);(a.array.has(b)||et(K)||ee&&!ee._f)&&!ts(K)?ut(W,K,F):Re(W,K,F)}},ue=(b,L,F={})=>{const G=J(r,b),K=a.array.has(b),W=mn(L);Ne(s,b,W),K?(d.array.next({name:b,values:{...s}}),(h.isDirty||h.dirtyFields)&&F.shouldDirty&&d.state.next({name:b,dirtyFields:va(i,s),isDirty:N(b,W)})):G&&!G._f&&!Mt(W)?ut(b,W,F):Re(b,W,F),CE(b,a)&&d.state.next({...n}),d.values.next({name:o.mount?b:void 0,values:{...s}})},H=async b=>{o.mount=!0;const L=b.target;let F=L.name,G=!0;const K=J(r,F),W=()=>L.type?Yf(K._f):pU(b),ee=le=>{G=Number.isNaN(le)||ts(le)&&isNaN(le.getTime())||Yr(le,J(s,F,le))};if(K){let le,me;const ge=W(),dn=b.type===AE.BLUR||b.type===AE.FOCUS_OUT,iu=!RU(K._f)&&!e.resolver&&!J(n.errors,F)&&!K._f.deps||kU(dn,J(n.touchedFields,F),n.isSubmitted,v,p),bs=CE(F,a,dn);Ne(s,F,ge),dn?(K._f.onBlur&&K._f.onBlur(b),l&&l(0)):K._f.onChange&&K._f.onChange(b);const Go=B(F,ge,dn,!1),Fi=!Bt(Go)||bs;if(!dn&&d.values.next({name:F,type:b.type,values:{...s}}),iu)return h.isValid&&(t.mode==="onBlur"?dn&&I():I()),Fi&&d.state.next({name:F,...bs?{}:Go});if(!dn&&bs&&d.state.next({...n}),e.resolver){const{errors:Qo}=await _([F]);if(ee(ge),G){const su=OE(n.errors,r,F),Ns=OE(Qo,r,su.name||F);le=Ns.error,F=Ns.name,me=Bt(Qo)}}else w([F],!0),le=(await DE(K,s,E,e.shouldUseNativeValidation))[F],w([F]),ee(ge),G&&(le?me=!1:h.isValid&&(me=await R(r,!0)));G&&(K._f.deps&&ne(K._f.deps),C(F,me,le,Go))}},Z=(b,L)=>{if(J(n.errors,L)&&b.focus)return b.focus(),1},ne=async(b,L={})=>{let F,G;const K=Tc(b);if(e.resolver){const W=await A(Xe(b)?b:K);F=Bt(W),G=b?!K.some(ee=>J(W,ee)):F}else b?(G=(await Promise.all(K.map(async W=>{const ee=J(r,W);return await R(ee&&ee._f?{[W]:ee}:ee)}))).every(Boolean),!(!G&&!n.isValid)&&I()):G=F=await R(r);return d.state.next({...!qn(b)||h.isValid&&F!==n.isValid?{}:{name:b},...e.resolver||!b?{isValid:F}:{},errors:n.errors}),L.shouldFocus&&!G&&Ja(r,Z,b?K:a.mount),G},Ae=b=>{const L={...o.mount?s:i};return Xe(b)?L:qn(b)?J(L,b):b.map(F=>J(L,F))},Ee=(b,L)=>({invalid:!!J((L||n).errors,b),isDirty:!!J((L||n).dirtyFields,b),error:J((L||n).errors,b),isValidating:!!J(n.validatingFields,b),isTouched:!!J((L||n).touchedFields,b)}),Me=b=>{b&&Tc(b).forEach(L=>st(n.errors,L)),d.state.next({errors:b?n.errors:{}})},cn=(b,L,F)=>{const G=(J(r,b,{_f:{}})._f||{}).ref,K=J(n.errors,b)||{},{ref:W,message:ee,type:le,...me}=K;Ne(n.errors,b,{...me,...L,ref:G}),d.state.next({name:b,errors:n.errors,isValid:!1}),F&&F.shouldFocus&&G&&G.focus&&G.focus()},In=(b,L)=>yr(b)?d.values.subscribe({next:F=>b(P(void 0,L),F)}):P(b,L,!0),Qt=(b,L={})=>{for(const F of b?Tc(b):a.mount)a.mount.delete(F),a.array.delete(F),L.keepValue||(st(r,F),st(s,F)),!L.keepError&&st(n.errors,F),!L.keepDirty&&st(n.dirtyFields,F),!L.keepTouched&&st(n.touchedFields,F),!L.keepIsValidating&&st(n.validatingFields,F),!e.shouldUnregister&&!L.keepDefaultValue&&st(i,F);d.values.next({values:{...s}}),d.state.next({...n,...L.keepDirty?{isDirty:N()}:{}}),!L.keepIsValid&&I()},hn=({disabled:b,name:L,field:F,fields:G,value:K})=>{if($n(b)&&o.mount||b){const W=b?void 0:Xe(K)?Yf(F?F._f:J(G,L)._f):K;Ne(s,L,W),B(L,W,!1,!1,!0)}},qo=(b,L={})=>{let F=J(r,b);const G=$n(L.disabled)||$n(t.disabled);return Ne(r,b,{...F||{},_f:{...F&&F._f?F._f:{ref:{name:b}},name:b,mount:!0,...L}}),a.mount.add(b),F?hn({field:F,disabled:$n(L.disabled)?L.disabled:t.disabled,name:b,value:L.value}):M(b,!0,L.value),{...G?{disabled:L.disabled||t.disabled}:{},...e.progressive?{required:!!L.required,min:_a(L.min),max:_a(L.max),minLength:_a(L.minLength),maxLength:_a(L.maxLength),pattern:_a(L.pattern)}:{},name:b,onChange:H,onBlur:H,ref:K=>{if(K){qo(b,L),F=J(r,b);const W=Xe(K.value)&&K.querySelectorAll&&K.querySelectorAll("input,select,textarea")[0]||K,ee=AU(W),le=F._f.refs||[];if(ee?le.find(me=>me===W):W===F._f.ref)return;Ne(r,b,{_f:{...F._f,...ee?{refs:[...le.filter(Qf),W,...Array.isArray(J(i,b))?[{}]:[]],ref:{type:W.type,name:b}}:{ref:W}}}),M(b,!1,void 0,W)}else F=J(r,b,{}),F._f&&(F._f.mount=!1),(e.shouldUnregister||L.shouldUnregister)&&!(gU(a.array,b)&&o.action)&&a.unMount.add(b)}}},nu=()=>e.shouldFocusError&&Ja(r,Z,a.mount),Cs=b=>{$n(b)&&(d.state.next({disabled:b}),Ja(r,(L,F)=>{const G=J(r,F);G&&(L.disabled=G._f.disabled||b,Array.isArray(G._f.refs)&&G._f.refs.forEach(K=>{K.disabled=G._f.disabled||b}))},0,!1))},ji=(b,L)=>async F=>{let G;F&&(F.preventDefault&&F.preventDefault(),F.persist&&F.persist());let K=mn(s);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:W,values:ee}=await _();n.errors=W,K=ee}else await R(r);if(st(n.errors,"root"),Bt(n.errors)){d.state.next({errors:{}});try{await b(K,F)}catch(W){G=W}}else L&&await L({...n.errors},F),nu(),setTimeout(nu);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Bt(n.errors)&&!G,submitCount:n.submitCount+1,errors:n.errors}),G)throw G},Ko=(b,L={})=>{J(r,b)&&(Xe(L.defaultValue)?ue(b,mn(J(i,b))):(ue(b,L.defaultValue),Ne(i,b,mn(L.defaultValue))),L.keepTouched||st(n.touchedFields,b),L.keepDirty||(st(n.dirtyFields,b),n.isDirty=L.defaultValue?N(b,mn(J(i,b))):N()),L.keepError||(st(n.errors,b),h.isValid&&I()),d.state.next({...n}))},Rs=(b,L={})=>{const F=b?mn(b):i,G=mn(F),K=Bt(b),W=K?i:G;if(L.keepDefaultValues||(i=F),!L.keepValues){if(L.keepDirtyValues){const ee=new Set([...a.mount,...Object.keys(va(i,s))]);for(const le of Array.from(ee))J(n.dirtyFields,le)?Ne(W,le,J(s,le)):ue(le,J(W,le))}else{if(gv&&Xe(b))for(const ee of a.mount){const le=J(r,ee);if(le&&le._f){const me=Array.isArray(le._f.refs)?le._f.refs[0]:le._f.ref;if(Ch(me)){const ge=me.closest("form");if(ge){ge.reset();break}}}}r={}}s=t.shouldUnregister?L.keepDefaultValues?mn(i):{}:mn(W),d.array.next({values:{...W}}),d.values.next({values:{...W}})}a={mount:L.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!L.keepIsValid||!!L.keepDirtyValues,o.watch=!!t.shouldUnregister,d.state.next({submitCount:L.keepSubmitCount?n.submitCount:0,isDirty:K?!1:L.keepDirty?n.isDirty:!!(L.keepDefaultValues&&!Yr(b,i)),isSubmitted:L.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:K?{}:L.keepDirtyValues?L.keepDefaultValues&&s?va(i,s):n.dirtyFields:L.keepDefaultValues&&b?va(i,b):L.keepDirty?n.dirtyFields:{},touchedFields:L.keepTouched?n.touchedFields:{},errors:L.keepErrors?n.errors:{},isSubmitSuccessful:L.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},ks=(b,L)=>Rs(yr(b)?b(s):b,L);return{control:{register:qo,unregister:Qt,getFieldState:Ee,handleSubmit:ji,setError:cn,_executeSchema:_,_getWatch:P,_getDirty:N,_updateValid:I,_removeUnmounted:D,_updateFieldArray:y,_updateDisabledField:hn,_getFieldArray:pe,_reset:Rs,_resetDefaultValues:()=>yr(e.defaultValues)&&e.defaultValues().then(b=>{ks(b,e.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:b=>{n={...n,...b}},_disableForm:Cs,_subjects:d,_proxyFormState:h,_setErrors:k,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(b){o=b},get _defaultValues(){return i},get _names(){return a},set _names(b){a=b},get _formState(){return n},set _formState(b){n=b},get _options(){return e},set _options(b){e={...e,...b}}},trigger:ne,register:qo,handleSubmit:ji,watch:In,setValue:ue,getValues:Ae,reset:ks,resetField:Ko,clearErrors:Me,unregister:Qt,setError:cn,setFocus:(b,L={})=>{const F=J(r,b),G=F&&F._f;if(G){const K=G.refs?G.refs[0]:G.ref;K.focus&&(K.focus(),L.shouldSelect&&K.select())}},getFieldState:Ee}}function BC(t={}){const e=Ye.useRef(),n=Ye.useRef(),[r,i]=Ye.useState({isDirty:!1,isValidating:!1,isLoading:yr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:yr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...DU(t),formState:r});const s=e.current.control;return s._options=t,wU({subject:s._subjects.state,next:o=>{_U(o,s._proxyFormState,s._updateFormState)&&i({...s._formState})}}),Ye.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Ye.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),Ye.useEffect(()=>{t.values&&!Yr(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),Ye.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),Ye.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),Ye.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),Ye.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=vU(r,s),e.current}const VU=async(t,e,n)=>{const i=(await c6(Dr,t,e)).user.uid;return await hC(sr(Ln,"hospitals",i),{uid:i,name:n,email:t}),localStorage.setItem("user",JSON.stringify({uid:i,name:n})),i},OU=async(t,e)=>{var o;const r=(await SA(Dr,t,e)).user.uid,s=(o=(await Cd(sr(Ln,"hospitals",r))).data())==null?void 0:o.name;return localStorage.setItem("user",JSON.stringify({uid:r,name:s})),{uid:r,name:s}},LU=async(t,e)=>{var o;const r=(await SA(Dr,t,e)).user.uid,s=(o=(await Cd(sr(Ln,"doctors",r))).data())==null?void 0:o.name;return localStorage.setItem("user",JSON.stringify({uid:r,name:s})),{uid:r,name:s}};function MU(){const{register:t,handleSubmit:e,formState:{errors:n}}=BC(),r=async i=>{try{const{email:s,password:o,userType:a}=i;a==="hp"?await OU(s,o):a==="dr"&&await LU(s,o)}catch(s){alert("Signup failed. Please try again. "+s.message)}};return g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:g.jsxs(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-xl",children:[g.jsxs("div",{children:[g.jsx("div",{className:"w-full flex justify-center items-center py-4",children:g.jsxs("span",{className:"text-xl font-extrabold sm:text-2xl",children:[g.jsx("span",{className:"text-blue-600",children:"optoken"}),g.jsx("span",{className:"text-black",children:".in"})]})}),g.jsx("h2",{className:"mt-2 text-center text-2xl font-extrabold text-gray-900",children:"Welcome back"}),g.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Don't have an account?"," ",g.jsx(Jt,{to:"/register",className:"font-medium text-[#0e82fd] hover:text-[#0e82fd]/80 transition-colors",children:"Register now"})]})]}),g.jsxs("form",{className:"mt-8 space-y-6",onSubmit:e(r),children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),g.jsxs("div",{className:"mt-1 relative",children:[g.jsx("input",{id:"email",type:"email",...t("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),className:"appearance-none block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#0e82fd] focus:border-[#0e82fd]",placeholder:"Enter your email"}),n.email&&g.jsx(ve.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-1 text-sm text-red-600",children:n.email.message})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),g.jsxs("div",{className:"mt-1 relative",children:[g.jsx("input",{id:"password",type:"password",...t("password",{required:"Password is required"}),className:"appearance-none block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#0e82fd] focus:border-[#0e82fd]",placeholder:"Enter your password"}),n.password&&g.jsx(ve.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-1 text-sm text-red-600",children:n.password.message})]})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"userType",className:"block text-sm font-medium text-gray-700",children:"I am a"}),g.jsxs("select",{id:"userType",...t("userType",{required:"Please select user type"}),className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-[#0e82fd] focus:border-[#0e82fd]",children:[g.jsx("option",{value:"",children:"Select type"}),g.jsx("option",{value:"hp",children:"Hospital"}),g.jsx("option",{value:"dr",children:"Doctor"})]}),n.userType&&g.jsx(ve.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-1 text-sm text-red-600",children:n.userType.message})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{id:"remember",type:"checkbox",...t("remember"),className:"h-4 w-4 text-[#0e82fd] focus:ring-[#0e82fd] border-gray-300 rounded"}),g.jsx("label",{htmlFor:"remember",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),g.jsx("div",{className:"text-sm",children:g.jsx("a",{href:"#",className:"font-medium text-[#0e82fd] hover:text-[#0e82fd]/80 transition-colors",children:"Forgot password?"})})]}),g.jsx(ve.button,{whileHover:{scale:1.01},whileTap:{scale:.99},type:"submit",className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-xl shadow-sm text-sm font-medium text-white bg-[#0e82fd] hover:bg-[#0e82fd]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0e82fd] transition-colors",children:"Sign in"})]})]})})}function jU(){const t=iS(),{register:e,handleSubmit:n,formState:{errors:r}}=BC(),i=async s=>{try{const{email:o,password:a,name:l,userType:c}=s;c==="patient"&&(await VU(o,a,l),t("/dashboard"))}catch(o){console.error("Signup failed:",o.message),alert("Signup failed. Please try again.")}};return g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:g.jsxs(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-xl",children:[g.jsx("div",{className:"w-full flex justify-center items-center py-2",children:g.jsxs("span",{className:"text-xl font-extrabold sm:text-2xl",children:[g.jsx("span",{className:"text-blue-600",children:"optoken"}),g.jsx("span",{className:"text-black",children:".in"})]})}),g.jsx("h2",{className:"mt-2 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),g.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",g.jsx(Jt,{to:"/login",className:"font-medium text-[#0e82fd] hover:text-[#0e82fd]/80 transition-colors",children:"Sign in"})]}),g.jsxs("form",{className:"mt-8 space-y-6",onSubmit:n(i),children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),g.jsx("input",{id:"name",type:"text",...e("name",{required:"Name is required"}),className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#0e82fd] focus:border-[#0e82fd]",placeholder:"Enter your full name"}),r.name&&g.jsx(ve.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-1 text-sm text-red-600",children:r.name.message})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),g.jsx("input",{id:"email",type:"email",...e("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#0e82fd] focus:border-[#0e82fd]",placeholder:"Enter your email"}),r.email&&g.jsx(ve.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-1 text-sm text-red-600",children:r.email.message})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),g.jsx("input",{id:"password",type:"password",...e("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"}}),className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#0e82fd] focus:border-[#0e82fd]",placeholder:"Create a password"}),r.password&&g.jsx(ve.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-1 text-sm text-red-600",children:r.password.message})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"userType",className:"block text-sm font-medium text-gray-700",children:"I am a"}),g.jsxs("select",{id:"userType",...e("userType",{required:"Please select user type"}),className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-[#0e82fd] focus:border-[#0e82fd]",children:[g.jsx("option",{value:"",children:"Select type"}),g.jsx("option",{value:"patient",children:"Hospital"})]}),r.userType&&g.jsx(ve.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-1 text-sm text-red-600",children:r.userType.message})]})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{id:"terms",type:"checkbox",...e("terms",{required:"You must accept the terms and conditions"}),className:"h-4 w-4 text-[#0e82fd] focus:ring-[#0e82fd] border-gray-300 rounded"}),g.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-700",children:["I accept the"," ",g.jsx("a",{href:"#",className:"text-[#0e82fd] hover:text-[#0e82fd]/80",children:"Terms and Conditions"})]})]}),r.terms&&g.jsx(ve.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-1 text-sm text-red-600",children:r.terms.message}),g.jsx(ve.button,{whileHover:{scale:1.01},whileTap:{scale:.99},type:"submit",className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-xl shadow-sm text-sm font-medium text-white bg-[#0e82fd] hover:bg-[#0e82fd]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0e82fd] transition-colors",children:"Create Account"})]})]})})}function FU(){return g.jsx(Lb,{basename:"/swabee-optoken.in",children:g.jsx(sU,{children:g.jsxs("div",{className:"min-h-screen flex flex-col",children:[g.jsx(iU,{}),g.jsxs(Cb,{children:[g.jsx(pn,{path:"/",element:g.jsx("main",{className:"flex-grow",children:g.jsx(bO,{})})}),g.jsx(pn,{path:"/register",element:g.jsx(jU,{})}),g.jsx(pn,{path:"/login",element:g.jsx(MU,{})}),g.jsx(pn,{path:"/contactus",element:g.jsx(oU,{})}),g.jsx(pn,{path:"/doctors",element:g.jsx(lU,{})}),g.jsx(pn,{path:"/hospitals",element:g.jsx(cU,{})}),g.jsx(pn,{path:"/livetoken/:doctorId",element:g.jsx(fU,{})}),g.jsx(pn,{path:"/ourdoctors",element:g.jsx(uU,{})}),g.jsx(pn,{path:"/adddoctor",element:g.jsx(aU,{})}),g.jsx(pn,{path:"/profile",element:g.jsx(hU,{})}),g.jsx(pn,{path:"/control-token/:doctorId",element:g.jsx(dU,{})})]}),g.jsx(Zb,{})]})})})}Gx(document.getElementById("root")).render(g.jsx(V.StrictMode,{children:g.jsx(FU,{})}));
